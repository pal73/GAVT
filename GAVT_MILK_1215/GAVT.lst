
AVRASM ver. 1.52  GAVT.asm Tue Dec 15 19:52:14 2015


         ;CodeVisionAVR C Compiler V1.24.1d Standard
         ;(C) Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
         ;http://www.hpinfotech.ro
         ;e-mail:office@hpinfotech.ro
         
         ;Chip type           : ATmega16
         ;Program type        : Application
         ;Clock frequency     : 1,000000 MHz
         ;Memory model        : Small
         ;Optimize for        : Size
         ;(s)printf features  : int, width
         ;(s)scanf features   : long, width
         ;External SRAM size  : 0
         ;Data Stack size     : 256 byte(s)
         ;Heap size           : 0 byte(s)
         ;Promote char to int : No
         ;char is unsigned    : Yes
         ;8 bit enums         : Yes
         ;Enhanced core instructions    : On
         ;Automatic register allocation : On
         
          	.EQU UDRE=0x5
          	.EQU RXC=0x7
          	.EQU USR=0xB
          	.EQU UDR=0xC
          	.EQU EERE=0x0
          	.EQU EEWE=0x1
          	.EQU EEMWE=0x2
          	.EQU SPSR=0xE
          	.EQU SPDR=0xF
          	.EQU EECR=0x1C
          	.EQU EEDR=0x1D
          	.EQU EEARL=0x1E
          	.EQU EEARH=0x1F
          	.EQU WDTCR=0x21
          	.EQU MCUCR=0x35
          	.EQU GICR=0x3B
          	.EQU SPL=0x3D
          	.EQU SPH=0x3E
          	.EQU SREG=0x3F
         
          	.DEF R0X0=R0
          	.DEF R0X1=R1
          	.DEF R0X2=R2
          	.DEF R0X3=R3
          	.DEF R0X4=R4
          	.DEF R0X5=R5
          	.DEF R0X6=R6
          	.DEF R0X7=R7
          	.DEF R0X8=R8
          	.DEF R0X9=R9
          	.DEF R0XA=R10
          	.DEF R0XB=R11
          	.DEF R0XC=R12
          	.DEF R0XD=R13
          	.DEF R0XE=R14
          	.DEF R0XF=R15
          	.DEF R0X10=R16
          	.DEF R0X11=R17
          	.DEF R0X12=R18
          	.DEF R0X13=R19
          	.DEF R0X14=R20
          	.DEF R0X15=R21
          	.DEF R0X16=R22
          	.DEF R0X17=R23
          	.DEF R0X18=R24
          	.DEF R0X19=R25
          	.DEF R0X1A=R26
          	.DEF R0X1B=R27
          	.DEF R0X1C=R28
          	.DEF R0X1D=R29
          	.DEF R0X1E=R30
          	.DEF R0X1F=R31
         
          	.EQU __se_bit=0x40
          	.EQU __sm_mask=0xB0
          	.EQU __sm_adc_noise_red=0x10
          	.EQU __sm_powerdown=0x20
          	.EQU __sm_powersave=0x30
          	.EQU __sm_standby=0xA0
          	.EQU __sm_ext_standby=0xB0
         
          	.MACRO __CPD1N
          	CPI  R30,LOW(@0)
          	LDI  R26,HIGH(@0)
          	CPC  R31,R26
          	LDI  R26,BYTE3(@0)
          	CPC  R22,R26
          	LDI  R26,BYTE4(@0)
          	CPC  R23,R26
          	.ENDM
         
          	.MACRO __CPD2N
          	CPI  R26,LOW(@0)
          	LDI  R30,HIGH(@0)
          	CPC  R27,R30
          	LDI  R30,BYTE3(@0)
          	CPC  R24,R30
          	LDI  R30,BYTE4(@0)
          	CPC  R25,R30
          	.ENDM
         
          	.MACRO __CPWRR
          	CP   R@0,R@2
          	CPC  R@1,R@3
          	.ENDM
         
          	.MACRO __CPWRN
          	CPI  R@0,LOW(@2)
          	LDI  R30,HIGH(@2)
          	CPC  R@1,R30
          	.ENDM
         
          	.MACRO __ADDD1N
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	SBCI R22,BYTE3(-@0)
          	SBCI R23,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __ADDD2N
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	SBCI R24,BYTE3(-@0)
          	SBCI R25,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __SUBD1N
          	SUBI R30,LOW(@0)
          	SBCI R31,HIGH(@0)
          	SBCI R22,BYTE3(@0)
          	SBCI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __SUBD2N
          	SUBI R26,LOW(@0)
          	SBCI R27,HIGH(@0)
          	SBCI R24,BYTE3(@0)
          	SBCI R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ANDD1N
          	ANDI R30,LOW(@0)
          	ANDI R31,HIGH(@0)
          	ANDI R22,BYTE3(@0)
          	ANDI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ORD1N
          	ORI  R30,LOW(@0)
          	ORI  R31,HIGH(@0)
          	ORI  R22,BYTE3(@0)
          	ORI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __DELAY_USB
          	LDI  R24,LOW(@0)
          __DELAY_USB_LOOP:
          	DEC  R24
          	BRNE __DELAY_USB_LOOP
          	.ENDM
         
          	.MACRO __DELAY_USW
          	LDI  R24,LOW(@0)
          	LDI  R25,HIGH(@0)
          __DELAY_USW_LOOP:
          	SBIW R24,1
          	BRNE __DELAY_USW_LOOP
          	.ENDM
         
          	.MACRO __CLRD1S
          	LDI  R30,0
          	STD  Y+@0,R30
          	STD  Y+@0+1,R30
          	STD  Y+@0+2,R30
          	STD  Y+@0+3,R30
          	.ENDM
         
          	.MACRO __GETD1S
          	LDD  R30,Y+@0
          	LDD  R31,Y+@0+1
          	LDD  R22,Y+@0+2
          	LDD  R23,Y+@0+3
          	.ENDM
         
          	.MACRO __PUTD1S
          	STD  Y+@0,R30
          	STD  Y+@0+1,R31
          	STD  Y+@0+2,R22
          	STD  Y+@0+3,R23
          	.ENDM
         
          	.MACRO __POINTB1MN
          	LDI  R30,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1MN
          	LDI  R30,LOW(@0+@1)
          	LDI  R31,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1FN
          	LDI  R30,LOW(2*@0+@1)
          	LDI  R31,HIGH(2*@0+@1)
          	.ENDM
         
          	.MACRO __POINTB2MN
          	LDI  R26,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW2MN
          	LDI  R26,LOW(@0+@1)
          	LDI  R27,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTBRM
          	LDI  R@0,LOW(@1)
          	.ENDM
         
          	.MACRO __POINTWRM
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __POINTBRMN
          	LDI  R@0,LOW(@1+@2)
          	.ENDM
         
          	.MACRO __POINTWRMN
          	LDI  R@0,LOW(@2+@3)
          	LDI  R@1,HIGH(@2+@3)
          	.ENDM
         
          	.MACRO __GETD1N
          	LDI  R30,LOW(@0)
          	LDI  R31,HIGH(@0)
          	LDI  R22,BYTE3(@0)
          	LDI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2N
          	LDI  R26,LOW(@0)
          	LDI  R27,HIGH(@0)
          	LDI  R24,BYTE3(@0)
          	LDI  R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2S
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	LDD  R24,Y+@0+2
          	LDD  R25,Y+@0+3
          	.ENDM
         
          	.MACRO __GETB1MN
          	LDS  R30,@0+@1
          	.ENDM
         
          	.MACRO __GETW1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	LDS  R22,@0+@1+2
          	LDS  R23,@0+@1+3
          	.ENDM
         
          	.MACRO __GETBRMN
          	LDS  R@2,@0+@1
          	.ENDM
         
          	.MACRO __GETWRMN
          	LDS  R@2,@0+@1
          	LDS  R@3,@0+@1+1
          	.ENDM
         
          	.MACRO __GETB2MN
          	LDS  R26,@0+@1
          	.ENDM
         
          	.MACRO __GETW2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	LDS  R24,@0+@1+2
          	LDS  R25,@0+@1+3
          	.ENDM
         
          	.MACRO __PUTB1MN
          	STS  @0+@1,R30
          	.ENDM
         
          	.MACRO __PUTW1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	.ENDM
         
          	.MACRO __PUTD1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	STS  @0+@1+2,R22
          	STS  @0+@1+3,R23
          	.ENDM
         
          	.MACRO __PUTBMRN
          	STS  @0+@1,R@2
          	.ENDM
         
          	.MACRO __PUTWMRN
          	STS  @0+@1,R@2
          	STS  @0+@1+1,R@3
          	.ENDM
         
          	.MACRO __GETW1R
          	MOV  R30,R@0
          	MOV  R31,R@1
          	.ENDM
         
          	.MACRO __GETW2R
          	MOV  R26,R@0
          	MOV  R27,R@1
          	.ENDM
         
          	.MACRO __GETWRN
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __PUTW1R
          	MOV  R@0,R30
          	MOV  R@1,R31
          	.ENDM
         
          	.MACRO __PUTW2R
          	MOV  R@0,R26
          	MOV  R@1,R27
          	.ENDM
         
          	.MACRO __ADDWRN
          	SUBI R@0,LOW(-@2)
          	SBCI R@1,HIGH(-@2)
          	.ENDM
         
          	.MACRO __ADDWRR
          	ADD  R@0,R@2
          	ADC  R@1,R@3
          	.ENDM
         
          	.MACRO __SUBWRN
          	SUBI R@0,LOW(@2)
          	SBCI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __SUBWRR
          	SUB  R@0,R@2
          	SBC  R@1,R@3
          	.ENDM
         
          	.MACRO __ANDWRN
          	ANDI R@0,LOW(@2)
          	ANDI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ANDWRR
          	AND  R@0,R@2
          	AND  R@1,R@3
          	.ENDM
         
          	.MACRO __ORWRN
          	ORI  R@0,LOW(@2)
          	ORI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ORWRR
          	OR   R@0,R@2
          	OR   R@1,R@3
          	.ENDM
         
          	.MACRO __EORWRR
          	EOR  R@0,R@2
          	EOR  R@1,R@3
          	.ENDM
         
          	.MACRO __GETWRS
          	LDD  R@0,Y+@2
          	LDD  R@1,Y+@2+1
          	.ENDM
         
          	.MACRO __PUTWSR
          	STD  Y+@2,R@0
          	STD  Y+@2+1,R@1
          	.ENDM
         
          	.MACRO __MOVEWRR
          	MOV  R@0,R@2
          	MOV  R@1,R@3
          	.ENDM
         
          	.MACRO __INWR
          	IN   R@0,@2
          	IN   R@1,@2+1
          	.ENDM
         
          	.MACRO __OUTWR
          	OUT  @2+1,R@1
          	OUT  @2,R@0
          	.ENDM
         
          	.MACRO __CALL1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	ICALL
          	.ENDM
         
          	.MACRO __NBST
          	BST  R@0,@1
          	IN   R30,SREG
          	LDI  R31,0x40
          	EOR  R30,R31
          	OUT  SREG,R30
          	.ENDM
         
         
          	.MACRO __PUTB1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	CALL __PUTDP1
          	.ENDM
         
         
          	.MACRO __GETB1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R30,Z
          	.ENDM
         
          	.MACRO __GETW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R31,Z
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __GETD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R1,Z+
          	LD   R22,Z+
          	LD   R23,Z
          	MOVW R30,R0
          	.ENDM
         
          	.MACRO __GETB2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R26,X
          	.ENDM
         
          	.MACRO __GETW2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	.ENDM
         
          	.MACRO __GETD2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R1,X+
          	LD   R24,X+
          	LD   R25,X
          	MOVW R26,R0
          	.ENDM
         
          	.MACRO __GETBRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@1)
          	SBCI R31,HIGH(-@1)
          	LD   R@0,Z
          	.ENDM
         
          	.MACRO __GETWRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	LD   R@0,Z+
          	LD   R@1,Z
          	.ENDM
         
          	.MACRO __LSLW8SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R31,Z
          	CLR  R30
          	.ENDM
         
          	.MACRO __PUTB1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __CLRW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __CLRD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __PUTB2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R26
          	.ENDM
         
          	.MACRO __PUTW2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z+,R26
          	ST   Z,R27
          	.ENDM
         
          	.MACRO __PUTBSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTWSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	ST   Z+,R@0
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTB1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __MULBRR
          	MULS R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __MULBRRU
          	MUL  R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.CSEG
          	.ORG 0
         
          	.INCLUDE "GAVT.vec"
         
         ;INTERRUPT VECTORS
000000 940c 003a 	JMP  __RESET
000002 940c 0000 	JMP  0
000004 940c 0000 	JMP  0
000006 940c 0000 	JMP  0
000008 940c 0000 	JMP  0
00000a 940c 0000 	JMP  0
00000c 940c 0000 	JMP  0
00000e 940c 0000 	JMP  0
000010 940c 0000 	JMP  0
000012 940c 03a4 	JMP  _timer0_ovf_isr
000014 940c 0000 	JMP  0
000016 940c 0000 	JMP  0
000018 940c 0000 	JMP  0
00001a 940c 0000 	JMP  0
00001c 940c 0000 	JMP  0
00001e 940c 0000 	JMP  0
000020 940c 0000 	JMP  0
000022 940c 0000 	JMP  0
000024 940c 0000 	JMP  0
000026 940c 0000 	JMP  0
000028 940c 0000 	JMP  0
         
          	.INCLUDE "GAVT.inc"
          	.DEF _t0_cnt0=R6
          	.DEF _t0_cnt1=R7
          	.DEF _t0_cnt2=R8
          	.DEF _t0_cnt3=R9
          	.DEF _ind_cnt=R10
          _IND_STROB:
          	.DB  0xBF,0xDF,0xEF,0xF7,0x7F
00002a dfbf
00002b f7ef
00002c 007f
          _DIGISYM:
          	.DB  0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8
00002d f9c0
00002e b0a4
00002f 9299
000030 f882
          	.DB  0x80,0x90,0xFF
000031 9080
000032 00ff
          _3:
          	.DB  0x55,0x55,0x55,0x55,0x55
000033 5555
000034 5555
000035 0055
          	.DEF _but=R11
          	.DEF _step=R12
          	.DEF _ind=R13
          	.DEF _sub_ind=R14
         
          __GLOBAL_INI_TBL:
          	.DW  0x05
000036 0005
          	.DW  _ind_out
000037 0160
          	.DW  _3*2
000038 0066
         
          	.DW  0
000039 0000
         
          __RESET:
00003a 94f8      	CLI
00003b 27ee      	CLR  R30
00003c bbec      	OUT  EECR,R30
         
         ;INTERRUPT VECTORS ARE PLACED
         ;AT THE START OF FLASH
00003d e0f1      	LDI  R31,1
00003e bffb      	OUT  GICR,R31
00003f bfeb      	OUT  GICR,R30
000040 bfe5      	OUT  MCUCR,R30
         
         ;DISABLE WATCHDOG
000041 e1f8      	LDI  R31,0x18
000042 bdf1      	OUT  WDTCR,R31
000043 bde1      	OUT  WDTCR,R30
         
         ;CLEAR R2-R14
000044 e08d      	LDI  R24,13
000045 e0a2      	LDI  R26,2
000046 27bb      	CLR  R27
          __CLEAR_REG:
000047 93ed      	ST   X+,R30
000048 958a      	DEC  R24
000049 f7e9      	BRNE __CLEAR_REG
         
         ;CLEAR SRAM
00004a e080      	LDI  R24,LOW(0x400)
00004b e094      	LDI  R25,HIGH(0x400)
00004c e6a0      	LDI  R26,0x60
          __CLEAR_SRAM:
00004d 93ed      	ST   X+,R30
00004e 9701      	SBIW R24,1
00004f f7e9      	BRNE __CLEAR_SRAM
         
         ;GLOBAL VARIABLES INITIALIZATION
000050 e6ec      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
000051 e0f0      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
          __GLOBAL_INI_NEXT:
000052 9185      	LPM  R24,Z+
000053 9195      	LPM  R25,Z+
000054 9700      	SBIW R24,0
000055 f061      	BREQ __GLOBAL_INI_END
000056 91a5      	LPM  R26,Z+
000057 91b5      	LPM  R27,Z+
000058 9005      	LPM  R0,Z+
000059 9015      	LPM  R1,Z+
00005a 01bf      	MOVW R22,R30
00005b 01f0      	MOVW R30,R0
          __GLOBAL_INI_LOOP:
00005c 9005      	LPM  R0,Z+
00005d 920d      	ST   X+,R0
00005e 9701      	SBIW R24,1
00005f f7e1      	BRNE __GLOBAL_INI_LOOP
000060 01fb      	MOVW R30,R22
000061 cff0      	RJMP __GLOBAL_INI_NEXT
          __GLOBAL_INI_END:
         
         ;STACK POINTER INITIALIZATION
000062 e5ef      	LDI  R30,LOW(0x45F)
000063 bfed      	OUT  SPL,R30
000064 e0e4      	LDI  R30,HIGH(0x45F)
000065 bfee      	OUT  SPH,R30
         
         ;DATA STACK POINTER INITIALIZATION
000066 e6c0      	LDI  R28,LOW(0x160)
000067 e0d1      	LDI  R29,HIGH(0x160)
         
000068 940c 03df 	JMP  _main
         
          	.ESEG
          	.ORG 0
         
          	.DSEG
          	.ORG 0x160
         ;       1 #define LED_POW_ON	5
         ;       2 #define LED_MAIN_LOOP	1
         ;       3 
         ;       4 #define LED_NAPOLN	2 
         ;       5 #define LED_PAYKA	3
         ;       6 #define LED_ERROR	0 
         ;       7 #define LED_WRK	6
         ;       8 #define LED_LOOP_AUTO	7
         ;       9 #define LED_PROG4	1
         ;      10 #define LED_PROG2	2
         ;      11 #define LED_PROG3	3
         ;      12 #define LED_PROG1	4 
         ;      13 #define MAXPROG	1
         ;      14 
         ;      15 
         ;      16 #define SW1	6
         ;      17 #define SW2	7
         ;      18 
         ;      19 #define PP1	6
         ;      20 #define PP2	7
         ;      21 
         ;      22 
         ;      23 bit b600Hz;
         ;      24 
         ;      25 bit b100Hz;
         ;      26 bit b10Hz;
         ;      27 char t0_cnt0,t0_cnt1,t0_cnt2,t0_cnt3;
         ;      28 char ind_cnt;
         ;      29 flash char IND_STROB[]={0b10111111,0b11011111,0b11101111,0b11110111,0b01111111};
         
          	.CSEG
         ;      30 flash char DIGISYM[]={0b11000000,0b11111001,0b10100100,0b10110000,0b10011001,0b10010010,0b10000010,0b11111000,0b10000000,0b10010000,0b11111111};								
         ;      31 
         ;      32 char ind_out[5]={0x255,0x255,0x255,0x255,0x255};
         
          	.DSEG
          _ind_out:
000160      	.BYTE 0x5
         ;      33 char dig[4];
          _dig:
000165      	.BYTE 0x4
         ;      34 bit bZ;    
         ;      35 char but;
         ;      36 static char but_n;
          _but_n_G1:
000169      	.BYTE 0x1
         ;      37 static char but_s;
          _but_s_G1:
00016a      	.BYTE 0x1
         ;      38 static char but0_cnt;
          _but0_cnt_G1:
00016b      	.BYTE 0x1
         ;      39 static char but1_cnt;
          _but1_cnt_G1:
00016c      	.BYTE 0x1
         ;      40 static char but_onL_temp;
          _but_onL_temp_G1:
00016d      	.BYTE 0x1
         ;      41 bit l_but;		//идет длинное нажатие на кнопку
         ;      42 bit n_but;          //произошло нажатие
         ;      43 bit speed;		//разрешение ускорения перебора 
         ;      44 bit bFL2; 
         ;      45 bit bFL5;
         ;      46 eeprom enum{elmAUTO=0x55,elmMNL=0xaa}ee_loop_mode;
         
          	.ESEG
          _ee_loop_mode:
          	.DB  0x0
000000 00
         ;      47 //eeprom char ee_program[2];
         ;      48 eeprom enum {p1=1,p2=2,p3=3,p4=4}ee_prog;
          _ee_prog:
          	.DB  0x0
000001 00
         ;      49 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}step=sOFF;
         ;      50 enum {iMn,iPr_sel,iSet} ind;
         ;      51 char sub_ind;
         ;      52 char in_word,in_word_old,in_word_new,in_word_cnt;
         
          	.DSEG
          _in_word:
00016e      	.BYTE 0x1
          _in_word_old:
00016f      	.BYTE 0x1
          _in_word_new:
000170      	.BYTE 0x1
          _in_word_cnt:
000171      	.BYTE 0x1
         ;      53 bit bERR;
         ;      54 signed int cnt_del=0;
          _cnt_del:
000172      	.BYTE 0x2
         ;      55 
         ;      56 bit bSW1,bSW2;
         ;      57 
         ;      58 char cnt_sw1,cnt_sw2;
          _cnt_sw1:
000174      	.BYTE 0x1
          _cnt_sw2:
000175      	.BYTE 0x1
         ;      59 
         ;      60 //eeprom unsigned ee_delay[4,2];
         ;      61 //eeprom char ee_vr_log;
         ;      62 #include <mega16.h>
         ;      63 //#include <mega8535.h>  
         ;      64 
         ;      65 bit bPP1,bPP2,bPP3,bPP4,bPP5,bPP6,bPP7,bPP8;
         ;      66 
         ;      67 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}payka_step=sOFF,napoln_step=sOFF,orient_step=sOFF,main_loop_step=sOFF;
          _payka_step:
000176      	.BYTE 0x1
          _napoln_step:
000177      	.BYTE 0x1
          _orient_step:
000178      	.BYTE 0x1
          _main_loop_step:
000179      	.BYTE 0x1
         ;      68 enum{cmdOFF=0,cmdSTART,cmdSTOP}payka_cmd=cmdOFF,napoln_cmd=cmdOFF,orient_cmd=cmdOFF,main_loop_cmd=cmdOFF;
          _payka_cmd:
00017a      	.BYTE 0x1
          _napoln_cmd:
00017b      	.BYTE 0x1
          _orient_cmd:
00017c      	.BYTE 0x1
          _main_loop_cmd:
00017d      	.BYTE 0x1
         ;      69 signed short payka_cnt_del,napoln_cnt_del,orient_cnt_del,main_loop_cnt_del;
          _payka_cnt_del:
00017e      	.BYTE 0x2
          _napoln_cnt_del:
000180      	.BYTE 0x2
          _orient_cnt_del:
000182      	.BYTE 0x2
          _main_loop_cnt_del:
000184      	.BYTE 0x2
         ;      70 eeprom signed short ee_temp1,ee_temp2;
         
          	.ESEG
          _ee_temp1:
          	.DW  0x0
000002 00 00
          _ee_temp2:
          	.DW  0x0
000004 00 00
         ;      71 
         ;      72 bit bPAYKA_COMPLETE=0,bNAPOLN_COMPLETE=0,bORIENT_COMPLETE=0;
         ;      73 
         ;      74 eeprom signed short ee_temp3,ee_temp4;
          _ee_temp3:
          	.DW  0x0
000006 00 00
          _ee_temp4:
          	.DW  0x0
000008 00 00
         ;      75 
         ;      76 #define EE_PROG_FULL		0
         ;      77 #define EE_PROG_ONLY_ORIENT 	1
         ;      78 #define EE_PROG_ONLY_NAPOLN	2
         ;      79 #define EE_PROG_ONLY_PAYKA	3
         ;      80 #define EE_PROG_ONLY_MAIN_LOOP 	4
         ;      81 
         ;      82 //-----------------------------------------------
         ;      83 void prog_drv(void)
         ;      84 {
         
          	.CSEG
          _prog_drv:
         ;      85 char temp,temp1,temp2;
         ;      86 
         ;      87 ///temp=ee_program[0];
         ;      88 ///temp1=ee_program[1];
         ;      89 ///temp2=ee_program[2];
         ;      90 
         ;      91 if((temp==temp1)&&(temp==temp2))
00006a 940e 04a5 	CALL __SAVELOCR3
         ;	temp -> R16
         ;	temp1 -> R17
         ;	temp2 -> R18
00006c 1710      	CP   R17,R16
00006d f411      	BRNE _0x5
00006e 1720      	CP   R18,R16
00006f f009      	BREQ _0x6
          _0x5:
000070 c001      	RJMP _0x4
          _0x6:
         ;      92 	{
         ;      93 	}
         ;      94 else if((temp==temp1)&&(temp!=temp2))
000071 c019      	RJMP _0x7
          _0x4:
000072 1710      	CP   R17,R16
000073 f411      	BRNE _0x9
000074 1720      	CP   R18,R16
000075 f409      	BRNE _0xA
          _0x9:
000076 c002      	RJMP _0x8
          _0xA:
         ;      95 	{
         ;      96 	temp2=temp;
000077 2f20      	MOV  R18,R16
         ;      97 	}
         ;      98 else if((temp!=temp1)&&(temp==temp2))
000078 c012      	RJMP _0xB
          _0x8:
000079 1710      	CP   R17,R16
00007a f011      	BREQ _0xD
00007b 1720      	CP   R18,R16
00007c f009      	BREQ _0xE
          _0xD:
00007d c002      	RJMP _0xC
          _0xE:
         ;      99 	{
         ;     100 	temp1=temp;
00007e 2f10      	MOV  R17,R16
         ;     101 	}
         ;     102 else if((temp!=temp1)&&(temp1==temp2))
00007f c00b      	RJMP _0xF
          _0xC:
000080 1710      	CP   R17,R16
000081 f011      	BREQ _0x11
000082 1721      	CP   R18,R17
000083 f009      	BREQ _0x12
          _0x11:
000084 c002      	RJMP _0x10
          _0x12:
         ;     103 	{
         ;     104 	temp=temp1;
000085 2f01      	MOV  R16,R17
         ;     105 	}
         ;     106 else if((temp!=temp1)&&(temp!=temp2))
000086 c004      	RJMP _0x13
          _0x10:
000087 1710      	CP   R17,R16
000088 f011      	BREQ _0x15
000089 1720      	CP   R18,R16
00008a f401      	BRNE _0x16
          _0x15:
          _0x16:
         ;     107 	{
         ;     108 ////	temp=MINPROG;
         ;     109 ////	temp1=MINPROG;
         ;     110 ////	temp2=MINPROG;
         ;     111 	}
         ;     112 
         ;     113 ////if(!((temp<=MAXPROG)&&(temp>=MINPROG)))
         ;     114 ////	{
         ;     115 ////	temp=MINPROG;
         ;     116 ////	}
         ;     117 
         ;     118 ///if(temp!=ee_program[0])ee_program[0]=temp;
         ;     119 ///if(temp!=ee_program[1])ee_program[1]=temp;
         ;     120 ///if(temp!=ee_program[2])ee_program[2]=temp;
         ;     121 
         ;     122 
         ;     123 }
          _0x13:
          _0xF:
          _0xB:
          _0x7:
00008b 940e 04aa 	CALL __LOADLOCR3
00008d c149      	RJMP _0x92
         ;     124 
         ;     125 //-----------------------------------------------
         ;     126 void in_drv(void)
         ;     127 {
          _in_drv:
         ;     128 char i,temp;
         ;     129 unsigned int tempUI;
         ;     130 DDRA=0x00;
00008e 940e 04a4 	CALL __SAVELOCR4
         ;	i -> R16
         ;	temp -> R17
         ;	tempUI -> R18,R19
000090 940e 042b 	CALL SUBOPT_0x0
         ;     131 PORTA=0xff;
         ;     132 in_word_new=PINA;
000092 93e0 0170 	STS  _in_word_new,R30
         ;     133 if(in_word_old==in_word_new)
000094 91a0 016f 	LDS  R26,_in_word_old
000096 17ea      	CP   R30,R26
000097 f491      	BRNE _0x17
         ;     134 	{
         ;     135 	if(in_word_cnt<10)
000098 91a0 0171 	LDS  R26,_in_word_cnt
00009a 30aa      	CPI  R26,LOW(0xA)
00009b f468      	BRSH _0x18
         ;     136 		{
         ;     137 		in_word_cnt++;
00009c 91e0 0171 	LDS  R30,_in_word_cnt
00009e 5fef      	SUBI R30,-LOW(1)
00009f 93e0 0171 	STS  _in_word_cnt,R30
         ;     138 		if(in_word_cnt>=10)
0000a1 91a0 0171 	LDS  R26,_in_word_cnt
0000a3 30aa      	CPI  R26,LOW(0xA)
0000a4 f020      	BRLO _0x19
         ;     139 			{
         ;     140 			in_word=in_word_old;
0000a5 91e0 016f 	LDS  R30,_in_word_old
0000a7 93e0 016e 	STS  _in_word,R30
         ;     141 			}
         ;     142 		}
          _0x19:
         ;     143 	}
          _0x18:
         ;     144 else in_word_cnt=0;
0000a9 c003      	RJMP _0x1A
          _0x17:
0000aa e0e0      	LDI  R30,LOW(0)
0000ab 93e0 0171 	STS  _in_word_cnt,R30
          _0x1A:
         ;     145 
         ;     146 
         ;     147 in_word_old=in_word_new;
0000ad 91e0 0170 	LDS  R30,_in_word_new
0000af 93e0 016f 	STS  _in_word_old,R30
         ;     148 }   
0000b1 940e 04a9 	CALL __LOADLOCR4
0000b3 9624      	ADIW R28,4
0000b4 9508      	RET
         ;     149 
         ;     150 //-----------------------------------------------
         ;     151 void err_drv(void)
         ;     152 {
          _err_drv:
         ;     153 if(ee_prog==p1)	
0000b5 e0a1      	LDI  R26,LOW(_ee_prog)
0000b6 e0b0      	LDI  R27,HIGH(_ee_prog)
0000b7 940e 0489 	CALL __EEPROMRDB
0000b9 30e1      	CPI  R30,LOW(0x1)
0000ba f481      	BRNE _0x1B
         ;     154 	{
         ;     155      if(bSW1^bSW2) bERR=1;
0000bb e0e0      	LDI  R30,0
0000bc fc32      	SBRC R3,2
0000bd e0e1      	LDI  R30,1
0000be 93ef      	PUSH R30
0000bf e0e0      	LDI  R30,0
0000c0 fc33      	SBRC R3,3
0000c1 e0e1      	LDI  R30,1
0000c2 91af      	POP  R26
0000c3 27ea      	EOR  R30,R26
0000c4 f019      	BREQ _0x1C
0000c5 9468      	SET
0000c6 f831      	BLD  R3,1
         ;     156  	else bERR=0;
0000c7 c002      	RJMP _0x1D
          _0x1C:
0000c8 94e8      	CLT
0000c9 f831      	BLD  R3,1
          _0x1D:
         ;     157 	}
         ;     158 else bERR=0;
0000ca c002      	RJMP _0x1E
          _0x1B:
0000cb 94e8      	CLT
0000cc f831      	BLD  R3,1
          _0x1E:
         ;     159 }
0000cd 9508      	RET
         ;     160   
         ;     161 
         ;     162 //-----------------------------------------------
         ;     163 void in_an(void)
         ;     164 {
          _in_an:
         ;     165 DDRA=0x00;
0000ce 940e 042b 	CALL SUBOPT_0x0
         ;     166 PORTA=0xff;
         ;     167 in_word=PINA;
0000d0 93e0 016e 	STS  _in_word,R30
         ;     168 
         ;     169 if(!(in_word&(1<<SW1)))
0000d2 74e0      	ANDI R30,LOW(0x40)
0000d3 f481      	BRNE _0x1F
         ;     170 	{
         ;     171 	if(cnt_sw1<10)
0000d4 91a0 0174 	LDS  R26,_cnt_sw1
0000d6 30aa      	CPI  R26,LOW(0xA)
0000d7 f458      	BRSH _0x20
         ;     172 		{
         ;     173 		cnt_sw1++;
0000d8 91e0 0174 	LDS  R30,_cnt_sw1
0000da 5fef      	SUBI R30,-LOW(1)
0000db 93e0 0174 	STS  _cnt_sw1,R30
         ;     174 		if(cnt_sw1==10) bSW1=1;
0000dd 91a0 0174 	LDS  R26,_cnt_sw1
0000df 30aa      	CPI  R26,LOW(0xA)
0000e0 f411      	BRNE _0x21
0000e1 9468      	SET
0000e2 f832      	BLD  R3,2
         ;     175 		}
          _0x21:
         ;     176 
         ;     177 	}
          _0x20:
         ;     178 else
0000e3 c00b      	RJMP _0x22
          _0x1F:
         ;     179 	{
         ;     180 	if(cnt_sw1)
0000e4 91e0 0174 	LDS  R30,_cnt_sw1
0000e6 30e0      	CPI  R30,0
0000e7 f039      	BREQ _0x23
         ;     181 		{
         ;     182 		cnt_sw1--;
0000e8 50e1      	SUBI R30,LOW(1)
0000e9 93e0 0174 	STS  _cnt_sw1,R30
         ;     183 		if(cnt_sw1==0) bSW1=0;
0000eb 30e0      	CPI  R30,0
0000ec f411      	BRNE _0x24
0000ed 94e8      	CLT
0000ee f832      	BLD  R3,2
         ;     184 		}
          _0x24:
         ;     185 
         ;     186 	}
          _0x23:
          _0x22:
         ;     187 
         ;     188 if(!(in_word&(1<<SW2)))
0000ef 91e0 016e 	LDS  R30,_in_word
0000f1 78e0      	ANDI R30,LOW(0x80)
0000f2 f481      	BRNE _0x25
         ;     189 	{
         ;     190 	if(cnt_sw2<10)
0000f3 91a0 0175 	LDS  R26,_cnt_sw2
0000f5 30aa      	CPI  R26,LOW(0xA)
0000f6 f458      	BRSH _0x26
         ;     191 		{
         ;     192 		cnt_sw2++;
0000f7 91e0 0175 	LDS  R30,_cnt_sw2
0000f9 5fef      	SUBI R30,-LOW(1)
0000fa 93e0 0175 	STS  _cnt_sw2,R30
         ;     193 		if(cnt_sw2==10) bSW2=1;
0000fc 91a0 0175 	LDS  R26,_cnt_sw2
0000fe 30aa      	CPI  R26,LOW(0xA)
0000ff f411      	BRNE _0x27
000100 9468      	SET
000101 f833      	BLD  R3,3
         ;     194 		}
          _0x27:
         ;     195 
         ;     196 	}
          _0x26:
         ;     197 else
000102 c00b      	RJMP _0x28
          _0x25:
         ;     198 	{
         ;     199 	if(cnt_sw2)
000103 91e0 0175 	LDS  R30,_cnt_sw2
000105 30e0      	CPI  R30,0
000106 f039      	BREQ _0x29
         ;     200 		{
         ;     201 		cnt_sw2--;
000107 50e1      	SUBI R30,LOW(1)
000108 93e0 0175 	STS  _cnt_sw2,R30
         ;     202 		if(cnt_sw2==0) bSW2=0;
00010a 30e0      	CPI  R30,0
00010b f411      	BRNE _0x2A
00010c 94e8      	CLT
00010d f833      	BLD  R3,3
         ;     203 		}
          _0x2A:
         ;     204 
         ;     205 	}
          _0x29:
          _0x28:
         ;     206 
         ;     207 
         ;     208 } 
00010e 9508      	RET
         ;     209 
         ;     210 //-----------------------------------------------
         ;     211 void main_loop_hndl(void)
         ;     212 {
          _main_loop_hndl:
         ;     213 	 
         ;     214 }
00010f 9508      	RET
         ;     215 
         ;     216 
         ;     217 
         ;     218 //-----------------------------------------------
         ;     219 void out_drv(void)
         ;     220 {
          _out_drv:
         ;     221 char temp=0;
         ;     222 DDRB=0xFF;
000110 930a      	ST   -Y,R16
         ;	temp -> R16
000111 e000      	LDI  R16,0
000112 efef      	LDI  R30,LOW(255)
000113 bbe7      	OUT  0x17,R30
         ;     223 
         ;     224 if(bPP1) temp|=(1<<PP1);
000114 fe34      	SBRS R3,4
000115 c001      	RJMP _0x2B
000116 6400      	ORI  R16,LOW(64)
         ;     225 if(bPP2) temp|=(1<<PP2);
          _0x2B:
000117 fe35      	SBRS R3,5
000118 c001      	RJMP _0x2C
000119 6800      	ORI  R16,LOW(128)
         ;     226 
         ;     227 PORTB=~temp;
          _0x2C:
00011a 940e 0431 	CALL SUBOPT_0x1
         ;     228 //PORTB=0x55;
         ;     229 }
00011c c02c      	RJMP _0x93
         ;     230 
         ;     231 //-----------------------------------------------
         ;     232 void step_contr(void)
         ;     233 {
          _step_contr:
         ;     234 char temp=0;
         ;     235 DDRB=0xFF;
00011d 930a      	ST   -Y,R16
         ;	temp -> R16
00011e e000      	LDI  R16,0
00011f efef      	LDI  R30,LOW(255)
000120 bbe7      	OUT  0x17,R30
         ;     236 
         ;     237 if(ee_prog==p1)
000121 e0a1      	LDI  R26,LOW(_ee_prog)
000122 e0b0      	LDI  R27,HIGH(_ee_prog)
000123 940e 0489 	CALL __EEPROMRDB
000125 30e1      	CPI  R30,LOW(0x1)
000126 f471      	BRNE _0x2D
         ;     238 	{
         ;     239      if(bSW1&&bSW2)
000127 fe32      	SBRS R3,2
000128 c002      	RJMP _0x2F
000129 fc33      	SBRC R3,3
00012a c001      	RJMP _0x30
          _0x2F:
00012b c005      	RJMP _0x2E
          _0x30:
         ;     240      	{
         ;     241      	step=s1;
00012c e0e1      	LDI  R30,LOW(1)
00012d 2ece      	MOV  R12,R30
         ;     242      	bPP1=1;
00012e 9468      	SET
00012f f834      	BLD  R3,4
         ;     243      	}
         ;     244      else 
000130 c003      	RJMP _0x31
          _0x2E:
         ;     245      	{
         ;     246      	step=sOFF;
000131 24cc      	CLR  R12
         ;     247      	bPP1=0;
000132 94e8      	CLT
000133 f834      	BLD  R3,4
         ;     248      	}
          _0x31:
         ;     249 	}
         ;     250 
         ;     251 else if(ee_prog==p2)  //ско
000134 c012      	RJMP _0x32
          _0x2D:
000135 e0a1      	LDI  R26,LOW(_ee_prog)
000136 e0b0      	LDI  R27,HIGH(_ee_prog)
000137 940e 0489 	CALL __EEPROMRDB
000139 30e2      	CPI  R30,LOW(0x2)
00013a f061      	BREQ _0x34
         ;     252 	{
         ;     253 
         ;     254 	}
         ;     255 
         ;     256 else if(ee_prog==p3)   //твист
00013b e0a1      	LDI  R26,LOW(_ee_prog)
00013c e0b0      	LDI  R27,HIGH(_ee_prog)
00013d 940e 0489 	CALL __EEPROMRDB
00013f 30e3      	CPI  R30,LOW(0x3)
000140 f031      	BREQ _0x36
         ;     257 	{
         ;     258 
         ;     259 	}
         ;     260 
         ;     261 else if(ee_prog==p4)      //замок
000141 e0a1      	LDI  R26,LOW(_ee_prog)
000142 e0b0      	LDI  R27,HIGH(_ee_prog)
000143 940e 0489 	CALL __EEPROMRDB
000145 30e4      	CPI  R30,LOW(0x4)
000146 f401      	BRNE _0x37
         ;     262 	{
         ;     263 	}
         ;     264 	
         ;     265 step_contr_end:
          _0x37:
          _0x36:
          _0x34:
          _0x32:
         ;     266 
         ;     267 //if(ee_vacuum_mode==evmOFF) temp&=~(1<<PP3);
         ;     268 
         ;     269 PORTB=~temp;
000147 940e 0431 	CALL SUBOPT_0x1
         ;     270 //PORTB=0x55;
         ;     271 }
          _0x93:
000149 9109      	LD   R16,Y+
00014a 9508      	RET
         ;     272 
         ;     273 
         ;     274 //-----------------------------------------------
         ;     275 void bin2bcd_int(unsigned int in)
         ;     276 {
          _bin2bcd_int:
         ;     277 char i;
         ;     278 for(i=3;i>0;i--)
00014b 930a      	ST   -Y,R16
         ;	in -> Y+1
         ;	i -> R16
00014c e003      	LDI  R16,LOW(3)
          _0x3A:
00014d e0e0      	LDI  R30,LOW(0)
00014e 17e0      	CP   R30,R16
00014f f4c8      	BRSH _0x3B
         ;     279 	{
         ;     280 	dig[i]=in%10;
000150 2fe0      	MOV  R30,R16
000151 e0f0      	LDI  R31,0
000152 59eb      	SUBI R30,LOW(-_dig)
000153 4ffe      	SBCI R31,HIGH(-_dig)
000154 93ff      	PUSH R31
000155 93ef      	PUSH R30
000156 81a9      	LDD  R26,Y+1
000157 81ba      	LDD  R27,Y+1+1
000158 e0ea      	LDI  R30,LOW(10)
000159 e0f0      	LDI  R31,HIGH(10)
00015a 940e 0482 	CALL __MODW21U
00015c 91af      	POP  R26
00015d 91bf      	POP  R27
00015e 93ec      	ST   X,R30
         ;     281 	in/=10;
00015f 81a9      	LDD  R26,Y+1
000160 81ba      	LDD  R27,Y+1+1
000161 e0ea      	LDI  R30,LOW(10)
000162 e0f0      	LDI  R31,HIGH(10)
000163 940e 046f 	CALL __DIVW21U
000165 83e9      	STD  Y+1,R30
000166 83fa      	STD  Y+1+1,R31
         ;     282 	}   
000167 5001      	SUBI R16,1
000168 cfe4      	RJMP _0x3A
          _0x3B:
         ;     283 }
000169 8108      	LDD  R16,Y+0
00016a c06c      	RJMP _0x92
         ;     284 
         ;     285 //-----------------------------------------------
         ;     286 void bcd2ind(char s)
         ;     287 {
          _bcd2ind:
         ;     288 char i;
         ;     289 bZ=1;
00016b 930a      	ST   -Y,R16
         ;	s -> Y+1
         ;	i -> R16
00016c 9468      	SET
00016d f823      	BLD  R2,3
         ;     290 for (i=0;i<5;i++)
00016e e000      	LDI  R16,LOW(0)
          _0x3D:
00016f 3005      	CPI  R16,5
000170 f010      	BRLO PC+3
000171 940c 01ca 	JMP _0x3E
         ;     291 	{
         ;     292 	if(bZ&&(!dig[i-1])&&(i<4))
000173 fe23      	SBRS R2,3
000174 c009      	RJMP _0x40
000175 940e 0435 	CALL SUBOPT_0x2
000177 59eb      	SUBI R30,LOW(-_dig)
000178 4ffe      	SBCI R31,HIGH(-_dig)
000179 81e0      	LD   R30,Z
00017a 30e0      	CPI  R30,0
00017b f411      	BRNE _0x40
00017c 3004      	CPI  R16,4
00017d f008      	BRLO _0x41
          _0x40:
00017e c01f      	RJMP _0x3F
          _0x41:
         ;     293 		{
         ;     294 		if((4-i)>s)
00017f e0e4      	LDI  R30,LOW(4)
000180 1be0      	SUB  R30,R16
000181 2fae      	MOV  R26,R30
000182 81e9      	LDD  R30,Y+1
000183 17ea      	CP   R30,R26
000184 f460      	BRSH _0x42
         ;     295 			{
         ;     296 			ind_out[i-1]=DIGISYM[10];
000185 940e 0435 	CALL SUBOPT_0x2
000187 5ae0      	SUBI R30,LOW(-_ind_out)
000188 4ffe      	SBCI R31,HIGH(-_ind_out)
000189 93ff      	PUSH R31
00018a 93ef      	PUSH R30
00018b   +  	__POINTW1FN _DIGISYM,10
00018d 91e4      	LPM  R30,Z
00018e 91af      	POP  R26
00018f 91bf      	POP  R27
000190 c00b      	RJMP _0x94
         ;     297 			}
         ;     298 		else ind_out[i-1]=DIGISYM[0];	
          _0x42:
000191 940e 0435 	CALL SUBOPT_0x2
000193 5ae0      	SUBI R30,LOW(-_ind_out)
000194 4ffe      	SBCI R31,HIGH(-_ind_out)
000195 93ff      	PUSH R31
000196 93ef      	PUSH R30
000197 e5ea      	LDI  R30,LOW(_DIGISYM*2)
000198 e0f0      	LDI  R31,HIGH(_DIGISYM*2)
000199 91e4      	LPM  R30,Z
00019a 91af      	POP  R26
00019b 91bf      	POP  R27
          _0x94:
00019c 93ec      	ST   X,R30
         ;     299 		}
         ;     300 	else
00019d c01a      	RJMP _0x44
          _0x3F:
         ;     301 		{
         ;     302 		ind_out[i-1]=DIGISYM[dig[i-1]];
00019e 940e 0435 	CALL SUBOPT_0x2
0001a0 5ae0      	SUBI R30,LOW(-_ind_out)
0001a1 4ffe      	SBCI R31,HIGH(-_ind_out)
0001a2 93ff      	PUSH R31
0001a3 93ef      	PUSH R30
0001a4 e5ea      	LDI  R30,LOW(_DIGISYM*2)
0001a5 e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0001a6 93ff      	PUSH R31
0001a7 93ef      	PUSH R30
0001a8 940e 0435 	CALL SUBOPT_0x2
0001aa 59eb      	SUBI R30,LOW(-_dig)
0001ab 4ffe      	SBCI R31,HIGH(-_dig)
0001ac 81e0      	LD   R30,Z
0001ad 91af      	POP  R26
0001ae 91bf      	POP  R27
0001af e0f0      	LDI  R31,0
0001b0 0fea      	ADD  R30,R26
0001b1 1ffb      	ADC  R31,R27
0001b2 91e4      	LPM  R30,Z
0001b3 91af      	POP  R26
0001b4 91bf      	POP  R27
0001b5 93ec      	ST   X,R30
         ;     303 		bZ=0;
0001b6 94e8      	CLT
0001b7 f823      	BLD  R2,3
         ;     304 		}                   
          _0x44:
         ;     305 
         ;     306 	if(s)
0001b8 81e9      	LDD  R30,Y+1
0001b9 30e0      	CPI  R30,0
0001ba f069      	BREQ _0x45
         ;     307 		{
         ;     308 		ind_out[3-s]&=0b01111111;
0001bb 81a9      	LDD  R26,Y+1
0001bc e0e3      	LDI  R30,LOW(3)
0001bd 1bea      	SUB  R30,R26
0001be e0f0      	LDI  R31,0
0001bf 5ae0      	SUBI R30,LOW(-_ind_out)
0001c0 4ffe      	SBCI R31,HIGH(-_ind_out)
0001c1 93ff      	PUSH R31
0001c2 93ef      	PUSH R30
0001c3 81e0      	LD   R30,Z
0001c4 77ef      	ANDI R30,0x7F
0001c5 91af      	POP  R26
0001c6 91bf      	POP  R27
0001c7 93ec      	ST   X,R30
         ;     309 		}	
         ;     310  
         ;     311 	}
          _0x45:
0001c8 5f0f      	SUBI R16,-1
0001c9 cfa5      	RJMP _0x3D
          _0x3E:
         ;     312 }            
0001ca 8108      	LDD  R16,Y+0
0001cb 9622      	ADIW R28,2
0001cc 9508      	RET
         ;     313 //-----------------------------------------------
         ;     314 void int2ind(unsigned int in,char s)
         ;     315 {
          _int2ind:
         ;     316 bin2bcd_int(in);
0001cd 81e9      	LDD  R30,Y+1
0001ce 81fa      	LDD  R31,Y+1+1
0001cf 93fa      	ST   -Y,R31
0001d0 93ea      	ST   -Y,R30
0001d1 940e 014b 	CALL _bin2bcd_int
         ;     317 bcd2ind(s);
0001d3 81e8      	LD   R30,Y
0001d4 93ea      	ST   -Y,R30
0001d5 940e 016b 	CALL _bcd2ind
         ;     318 
         ;     319 } 
          _0x92:
0001d7 9623      	ADIW R28,3
0001d8 9508      	RET
         ;     320 
         ;     321 //-----------------------------------------------
         ;     322 void ind_hndl(void)
         ;     323 {
          _ind_hndl:
         ;     324 if(ind==iMn)
0001d9 20dd      	TST  R13
0001da f591      	BRNE _0x46
         ;     325 	{
         ;     326 	if(ee_prog==EE_PROG_FULL)
0001db e0a1      	LDI  R26,LOW(_ee_prog)
0001dc e0b0      	LDI  R27,HIGH(_ee_prog)
0001dd 940e 0489 	CALL __EEPROMRDB
0001df 30e0      	CPI  R30,0
0001e0 f159      	BREQ _0x48
         ;     327 		{
         ;     328 		}
         ;     329 	else if(ee_prog==EE_PROG_ONLY_ORIENT)
0001e1 e0a1      	LDI  R26,LOW(_ee_prog)
0001e2 e0b0      	LDI  R27,HIGH(_ee_prog)
0001e3 940e 0489 	CALL __EEPROMRDB
0001e5 30e1      	CPI  R30,LOW(0x1)
0001e6 f429      	BRNE _0x49
         ;     330 		{
         ;     331 		int2ind(orient_step,0);
0001e7 91e0 0178 	LDS  R30,_orient_step
0001e9 940e 0439 	CALL SUBOPT_0x3
         ;     332 		}
         ;     333 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
0001eb c020      	RJMP _0x4A
          _0x49:
0001ec e0a1      	LDI  R26,LOW(_ee_prog)
0001ed e0b0      	LDI  R27,HIGH(_ee_prog)
0001ee 940e 0489 	CALL __EEPROMRDB
0001f0 30e2      	CPI  R30,LOW(0x2)
0001f1 f429      	BRNE _0x4B
         ;     334 		{
         ;     335 		int2ind(napoln_step,0);                              
0001f2 91e0 0177 	LDS  R30,_napoln_step
0001f4 940e 0439 	CALL SUBOPT_0x3
         ;     336 		}			                
         ;     337 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
0001f6 c015      	RJMP _0x4C
          _0x4B:
0001f7 e0a1      	LDI  R26,LOW(_ee_prog)
0001f8 e0b0      	LDI  R27,HIGH(_ee_prog)
0001f9 940e 0489 	CALL __EEPROMRDB
0001fb 30e3      	CPI  R30,LOW(0x3)
0001fc f429      	BRNE _0x4D
         ;     338 		{
         ;     339 		int2ind(payka_step,0);
0001fd 91e0 0176 	LDS  R30,_payka_step
0001ff 940e 0439 	CALL SUBOPT_0x3
         ;     340 		}
         ;     341 	else if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
000201 c00a      	RJMP _0x4E
          _0x4D:
000202 e0a1      	LDI  R26,LOW(_ee_prog)
000203 e0b0      	LDI  R27,HIGH(_ee_prog)
000204 940e 0489 	CALL __EEPROMRDB
000206 30e4      	CPI  R30,LOW(0x4)
000207 f421      	BRNE _0x4F
         ;     342 		{
         ;     343 		int2ind(main_loop_step,0);
000208 91e0 0179 	LDS  R30,_main_loop_step
00020a 940e 0439 	CALL SUBOPT_0x3
         ;     344 		}			
         ;     345 	
         ;     346 	//int2ind(bDM,0);
         ;     347 	//int2ind(in_word,0);
         ;     348 	//int2ind(cnt_dm,0);
         ;     349 	
         ;     350 	//int2ind(bDM,0);
         ;     351 	//int2ind(ee_delay[prog,sub_ind],1);  
         ;     352 	//ind_out[0]=0xff;//DIGISYM[0];
         ;     353 	//ind_out[1]=0xff;//DIGISYM[1];
         ;     354 	//ind_out[2]=DIGISYM[2];//0xff;
         ;     355 	//ind_out[0]=DIGISYM[7]; 
         ;     356 
         ;     357 	//ind_out[0]=DIGISYM[sub_ind+1];
         ;     358 	}
          _0x4F:
          _0x4E:
          _0x4C:
          _0x4A:
          _0x48:
         ;     359 else if(ind==iSet)
00020c c048      	RJMP _0x50
          _0x46:
00020d e0e2      	LDI  R30,LOW(2)
00020e 15ed      	CP   R30,R13
00020f f011      	BREQ PC+3
000210 940c 0255 	JMP _0x51
         ;     360 	{
         ;     361      if(sub_ind==0)int2ind(ee_prog,0);
000212 20ee      	TST  R14
000213 f439      	BRNE _0x52
000214 e0a1      	LDI  R26,LOW(_ee_prog)
000215 e0b0      	LDI  R27,HIGH(_ee_prog)
000216 940e 0489 	CALL __EEPROMRDB
000218 940e 0439 	CALL SUBOPT_0x3
         ;     362 	else if(sub_ind==1)int2ind(ee_temp1,1);
00021a c027      	RJMP _0x53
          _0x52:
00021b e0e1      	LDI  R30,LOW(1)
00021c 15ee      	CP   R30,R14
00021d f439      	BRNE _0x54
00021e e0a2      	LDI  R26,LOW(_ee_temp1)
00021f e0b0      	LDI  R27,HIGH(_ee_temp1)
000220 940e 0485 	CALL __EEPROMRDW
000222 940e 0440 	CALL SUBOPT_0x4
         ;     363 	else if(sub_ind==2)int2ind(ee_temp2,1);
000224 c01d      	RJMP _0x55
          _0x54:
000225 e0e2      	LDI  R30,LOW(2)
000226 15ee      	CP   R30,R14
000227 f439      	BRNE _0x56
000228 e0a4      	LDI  R26,LOW(_ee_temp2)
000229 e0b0      	LDI  R27,HIGH(_ee_temp2)
00022a 940e 0485 	CALL __EEPROMRDW
00022c 940e 0440 	CALL SUBOPT_0x4
         ;     364 	else if(sub_ind==3)int2ind(ee_temp3,1);
00022e c013      	RJMP _0x57
          _0x56:
00022f e0e3      	LDI  R30,LOW(3)
000230 15ee      	CP   R30,R14
000231 f439      	BRNE _0x58
000232 e0a6      	LDI  R26,LOW(_ee_temp3)
000233 e0b0      	LDI  R27,HIGH(_ee_temp3)
000234 940e 0485 	CALL __EEPROMRDW
000236 940e 0440 	CALL SUBOPT_0x4
         ;     365 	else if(sub_ind==4)int2ind(ee_temp4,1);
000238 c009      	RJMP _0x59
          _0x58:
000239 e0e4      	LDI  R30,LOW(4)
00023a 15ee      	CP   R30,R14
00023b f431      	BRNE _0x5A
00023c e0a8      	LDI  R26,LOW(_ee_temp4)
00023d e0b0      	LDI  R27,HIGH(_ee_temp4)
00023e 940e 0485 	CALL __EEPROMRDW
000240 940e 0440 	CALL SUBOPT_0x4
         ;     366 		
         ;     367 	if(bFL5)ind_out[0]=DIGISYM[sub_ind+1];
          _0x5A:
          _0x59:
          _0x57:
          _0x55:
          _0x53:
000242 fe30      	SBRS R3,0
000243 c00c      	RJMP _0x5B
000244 e5ea      	LDI  R30,LOW(_DIGISYM*2)
000245 e0f0      	LDI  R31,HIGH(_DIGISYM*2)
000246 93ff      	PUSH R31
000247 93ef      	PUSH R30
000248 2dee      	MOV  R30,R14
000249 5fef      	SUBI R30,-LOW(1)
00024a 91af      	POP  R26
00024b 91bf      	POP  R27
00024c e0f0      	LDI  R31,0
00024d 0fea      	ADD  R30,R26
00024e 1ffb      	ADC  R31,R27
00024f c002      	RJMP _0x95
         ;     368 	else    ind_out[0]=DIGISYM[10];
          _0x5B:
000250   +  	__POINTW1FN _DIGISYM,10
          _0x95:
000252 91e4      	LPM  R30,Z
000253 93e0 0160 	STS  _ind_out,R30
         ;     369 	}
         ;     370 }
          _0x51:
          _0x50:
000255 9508      	RET
         ;     371 
         ;     372 //-----------------------------------------------
         ;     373 void led_hndl(void)
         ;     374 {
          _led_hndl:
         ;     375 ind_out[4]=DIGISYM[10]; 
000256   +  	__POINTW1FN _DIGISYM,10
000258 91e4      	LPM  R30,Z
000259   +  	__PUTB1MN _ind_out,4
         ;     376 
         ;     377 ind_out[4]&=~(1<<LED_POW_ON); 
00025b   +  	__POINTW1MN _ind_out,4
00025d 93ff      	PUSH R31
00025e 93ef      	PUSH R30
00025f 81e0      	LD   R30,Z
000260 7def      	ANDI R30,0xDF
000261 91af      	POP  R26
000262 91bf      	POP  R27
000263 93ec      	ST   X,R30
         ;     378 
         ;     379 if(step!=sOFF)
000264 20cc      	TST  R12
000265 f049      	BREQ _0x5D
         ;     380 	{
         ;     381 	ind_out[4]&=~(1<<LED_WRK);
000266   +  	__POINTW1MN _ind_out,4
000268 93ff      	PUSH R31
000269 93ef      	PUSH R30
00026a 81e0      	LD   R30,Z
00026b 7bef      	ANDI R30,0xBF
00026c 91af      	POP  R26
00026d 91bf      	POP  R27
00026e c008      	RJMP _0x96
         ;     382 	}
         ;     383 else ind_out[4]|=(1<<LED_WRK);
          _0x5D:
00026f   +  	__POINTW1MN _ind_out,4
000271 93ff      	PUSH R31
000272 93ef      	PUSH R30
000273 81e0      	LD   R30,Z
000274 64e0      	ORI  R30,0x40
000275 91af      	POP  R26
000276 91bf      	POP  R27
          _0x96:
000277 93ec      	ST   X,R30
         ;     384 
         ;     385 
         ;     386 if(step==sOFF)
000278 20cc      	TST  R12
000279 f4a9      	BRNE _0x5F
         ;     387 	{
         ;     388  	if(bERR)
00027a fe31      	SBRS R3,1
00027b c009      	RJMP _0x60
         ;     389 		{
         ;     390 		ind_out[4]&=~(1<<LED_ERROR);
00027c   +  	__POINTW1MN _ind_out,4
00027e 93ff      	PUSH R31
00027f 93ef      	PUSH R30
000280 81e0      	LD   R30,Z
000281 7fee      	ANDI R30,0xFE
000282 91af      	POP  R26
000283 91bf      	POP  R27
000284 c008      	RJMP _0x97
         ;     391 		}
         ;     392 	else
          _0x60:
         ;     393 		{
         ;     394 		ind_out[4]|=(1<<LED_ERROR);
000285   +  	__POINTW1MN _ind_out,4
000287 93ff      	PUSH R31
000288 93ef      	PUSH R30
000289 81e0      	LD   R30,Z
00028a 60e1      	ORI  R30,1
00028b 91af      	POP  R26
00028c 91bf      	POP  R27
          _0x97:
00028d 93ec      	ST   X,R30
         ;     395 		}
         ;     396      }
         ;     397 else ind_out[4]|=(1<<LED_ERROR);
00028e c009      	RJMP _0x62
          _0x5F:
00028f   +  	__POINTW1MN _ind_out,4
000291 93ff      	PUSH R31
000292 93ef      	PUSH R30
000293 81e0      	LD   R30,Z
000294 60e1      	ORI  R30,1
000295 91af      	POP  R26
000296 91bf      	POP  R27
000297 93ec      	ST   X,R30
          _0x62:
         ;     398 
         ;     399 /* 	if(bMD1)
         ;     400 		{
         ;     401 		ind_out[4]&=~(1<<LED_ERROR);
         ;     402 		}
         ;     403 	else
         ;     404 		{
         ;     405 		ind_out[4]|=(1<<LED_ERROR);
         ;     406 		} */
         ;     407 
         ;     408 //if(bERR)ind_out[4]&=~(1<<LED_ERROR);
         ;     409 ind_out[4]|=(1<<LED_LOOP_AUTO);
000298   +  	__POINTW1MN _ind_out,4
00029a 93ff      	PUSH R31
00029b 93ef      	PUSH R30
00029c 81e0      	LD   R30,Z
00029d 68e0      	ORI  R30,0x80
00029e 91af      	POP  R26
00029f 91bf      	POP  R27
0002a0 93ec      	ST   X,R30
         ;     410 
         ;     411 /*if(prog==p1) ind_out[4]&=~(1<<LED_PROG1);
         ;     412 else if(prog==p2) ind_out[4]&=~(1<<LED_PROG2);
         ;     413 else if(prog==p3) ind_out[4]&=~(1<<LED_PROG3);
         ;     414 else if(prog==p4) ind_out[4]&=~(1<<LED_PROG4); */
         ;     415 
         ;     416 /*if(ind==iPr_sel)
         ;     417 	{
         ;     418 	if(bFL5)ind_out[4]|=(1<<LED_PROG1)|(1<<LED_PROG2)|(1<<LED_PROG3)|(1<<LED_PROG4);
         ;     419 	}*/ 
         ;     420 	 
         ;     421 /*if(ind==iVr)
         ;     422 	{
         ;     423 	if(bFL5)ind_out[4]|=(1<<LED_POW_ON);
         ;     424 	} */
         ;     425 if(ee_prog==p1) ind_out[4]&=~(1<<LED_PROG1);
0002a1 e0a1      	LDI  R26,LOW(_ee_prog)
0002a2 e0b0      	LDI  R27,HIGH(_ee_prog)
0002a3 940e 0489 	CALL __EEPROMRDB
0002a5 30e1      	CPI  R30,LOW(0x1)
0002a6 f451      	BRNE _0x63
0002a7   +  	__POINTW1MN _ind_out,4
0002a9 93ff      	PUSH R31
0002aa 93ef      	PUSH R30
0002ab 81e0      	LD   R30,Z
0002ac 7eef      	ANDI R30,0xEF
0002ad 91af      	POP  R26
0002ae 91bf      	POP  R27
0002af 93ec      	ST   X,R30
         ;     426 else if(ee_prog==p2) ind_out[4]&=~(1<<LED_PROG2);
0002b0 c02f      	RJMP _0x64
          _0x63:
0002b1 e0a1      	LDI  R26,LOW(_ee_prog)
0002b2 e0b0      	LDI  R27,HIGH(_ee_prog)
0002b3 940e 0489 	CALL __EEPROMRDB
0002b5 30e2      	CPI  R30,LOW(0x2)
0002b6 f451      	BRNE _0x65
0002b7   +  	__POINTW1MN _ind_out,4
0002b9 93ff      	PUSH R31
0002ba 93ef      	PUSH R30
0002bb 81e0      	LD   R30,Z
0002bc 7feb      	ANDI R30,0xFB
0002bd 91af      	POP  R26
0002be 91bf      	POP  R27
0002bf 93ec      	ST   X,R30
         ;     427 else if(ee_prog==p3) ind_out[4]&=~(1<<LED_PROG3);
0002c0 c01f      	RJMP _0x66
          _0x65:
0002c1 e0a1      	LDI  R26,LOW(_ee_prog)
0002c2 e0b0      	LDI  R27,HIGH(_ee_prog)
0002c3 940e 0489 	CALL __EEPROMRDB
0002c5 30e3      	CPI  R30,LOW(0x3)
0002c6 f451      	BRNE _0x67
0002c7   +  	__POINTW1MN _ind_out,4
0002c9 93ff      	PUSH R31
0002ca 93ef      	PUSH R30
0002cb 81e0      	LD   R30,Z
0002cc 7fe7      	ANDI R30,0XF7
0002cd 91af      	POP  R26
0002ce 91bf      	POP  R27
0002cf 93ec      	ST   X,R30
         ;     428 else if(ee_prog==p4) ind_out[4]&=~(1<<LED_PROG4);	
0002d0 c00f      	RJMP _0x68
          _0x67:
0002d1 e0a1      	LDI  R26,LOW(_ee_prog)
0002d2 e0b0      	LDI  R27,HIGH(_ee_prog)
0002d3 940e 0489 	CALL __EEPROMRDB
0002d5 30e4      	CPI  R30,LOW(0x4)
0002d6 f449      	BRNE _0x69
0002d7   +  	__POINTW1MN _ind_out,4
0002d9 93ff      	PUSH R31
0002da 93ef      	PUSH R30
0002db 81e0      	LD   R30,Z
0002dc 7fed      	ANDI R30,0xFD
0002dd 91af      	POP  R26
0002de 91bf      	POP  R27
0002df 93ec      	ST   X,R30
         ;     429 
         ;     430 if(ind==iPr_sel)
          _0x69:
          _0x68:
          _0x66:
          _0x64:
0002e0 e0e1      	LDI  R30,LOW(1)
0002e1 15ed      	CP   R30,R13
0002e2 f459      	BRNE _0x6A
         ;     431 	{
         ;     432 	if(bFL5)ind_out[4]|=(1<<LED_PROG1)|(1<<LED_PROG2)|(1<<LED_PROG3)|(1<<LED_PROG4);
0002e3 fe30      	SBRS R3,0
0002e4 c009      	RJMP _0x6B
0002e5   +  	__POINTW1MN _ind_out,4
0002e7 93ff      	PUSH R31
0002e8 93ef      	PUSH R30
0002e9 81e0      	LD   R30,Z
0002ea 61ee      	ORI  R30,LOW(0x1E)
0002eb 91af      	POP  R26
0002ec 91bf      	POP  R27
0002ed 93ec      	ST   X,R30
         ;     433 	} 
          _0x6B:
         ;     434 }
          _0x6A:
0002ee 9508      	RET
         ;     435 
         ;     436 //-----------------------------------------------
         ;     437 // Подпрограмма драйва до 7 кнопок одного порта, 
         ;     438 // различает короткое и длинное нажатие,
         ;     439 // срабатывает на отпускание кнопки, возможность
         ;     440 // ускорения перебора при длинном нажатии...
         ;     441 #define but_port PORTC
         ;     442 #define but_dir  DDRC
         ;     443 #define but_pin  PINC
         ;     444 #define but_mask 0b01101010
         ;     445 #define no_but   0b11111111
         ;     446 #define but_on   5
         ;     447 #define but_onL  20
         ;     448 
         ;     449 
         ;     450 
         ;     451 
         ;     452 void but_drv(void)
         ;     453 { 
          _but_drv:
         ;     454 DDRD&=0b00000111;
0002ef b3e1      	IN   R30,0x11
0002f0 70e7      	ANDI R30,LOW(0x7)
0002f1 940e 0446 	CALL SUBOPT_0x5
         ;     455 PORTD|=0b11111000;
         ;     456 
         ;     457 but_port|=(but_mask^0xff);
0002f3 940e 044b 	CALL SUBOPT_0x6
         ;     458 but_dir&=but_mask;
         ;     459 #asm
         ;     460 nop
0002f5 0000      nop
         ;     461 nop
0002f6 0000      nop
         ;     462 nop
0002f7 0000      nop
         ;     463 nop
0002f8 0000      nop
         ;     464 #endasm
         
         ;     465 
         ;     466 but_n=but_pin|but_mask; 
0002f9 b3e3      	IN   R30,0x13
0002fa 66ea      	ORI  R30,LOW(0x6A)
0002fb 93e0 0169 	STS  _but_n_G1,R30
         ;     467 
         ;     468 if((but_n==no_but)||(but_n!=but_s))
0002fd 91a0 0169 	LDS  R26,_but_n_G1
0002ff 3faf      	CPI  R26,LOW(0xFF)
000300 f011      	BREQ _0x6D
000301 d150      	RCALL SUBOPT_0x7
000302 f109      	BREQ _0x6C
          _0x6D:
         ;     469  	{
         ;     470  	speed=0;
000303 94e8      	CLT
000304 f826      	BLD  R2,6
         ;     471    	if (((but0_cnt>=but_on)||(but1_cnt!=0))&&(!l_but))
000305 91a0 016b 	LDS  R26,_but0_cnt_G1
000307 30a5      	CPI  R26,LOW(0x5)
000308 f420      	BRSH _0x70
000309 91a0 016c 	LDS  R26,_but1_cnt_G1
00030b 30a0      	CPI  R26,LOW(0x0)
00030c f011      	BREQ _0x72
          _0x70:
00030d fe24      	SBRS R2,4
00030e c001      	RJMP _0x73
          _0x72:
00030f c004      	RJMP _0x6F
          _0x73:
         ;     472   		{
         ;     473    	     n_but=1;
000310 9468      	SET
000311 f825      	BLD  R2,5
         ;     474           but=but_s;
000312 90b0 016a 	LDS  R11,_but_s_G1
         ;     475           }
         ;     476    	if (but1_cnt>=but_onL_temp)
          _0x6F:
000314 d143      	RCALL SUBOPT_0x8
000315 f018      	BRLO _0x74
         ;     477   		{
         ;     478    	     n_but=1;
000316 9468      	SET
000317 f825      	BLD  R2,5
         ;     479           but=but_s&0b11111101;
000318 d145      	RCALL SUBOPT_0x9
         ;     480           }
         ;     481     	l_but=0;
          _0x74:
000319 94e8      	CLT
00031a f824      	BLD  R2,4
         ;     482    	but_onL_temp=but_onL;
00031b e1e4      	LDI  R30,LOW(20)
00031c 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;     483     	but0_cnt=0;
00031e e0e0      	LDI  R30,LOW(0)
00031f 93e0 016b 	STS  _but0_cnt_G1,R30
         ;     484   	but1_cnt=0;          
000321 93e0 016c 	STS  _but1_cnt_G1,R30
         ;     485      goto but_drv_out;
000323 c02b      	RJMP _0x75
         ;     486   	}  
         ;     487   	
         ;     488 if(but_n==but_s)
          _0x6C:
000324 d12d      	RCALL SUBOPT_0x7
000325 f549      	BRNE _0x76
         ;     489  	{
         ;     490   	but0_cnt++;
000326 91e0 016b 	LDS  R30,_but0_cnt_G1
000328 5fef      	SUBI R30,-LOW(1)
000329 93e0 016b 	STS  _but0_cnt_G1,R30
         ;     491   	if(but0_cnt>=but_on)
00032b 91a0 016b 	LDS  R26,_but0_cnt_G1
00032d 30a5      	CPI  R26,LOW(0x5)
00032e f100      	BRLO _0x77
         ;     492   		{
         ;     493    		but0_cnt=0;
00032f e0e0      	LDI  R30,LOW(0)
000330 93e0 016b 	STS  _but0_cnt_G1,R30
         ;     494    		but1_cnt++;
000332 91e0 016c 	LDS  R30,_but1_cnt_G1
000334 5fef      	SUBI R30,-LOW(1)
000335 93e0 016c 	STS  _but1_cnt_G1,R30
         ;     495    		if(but1_cnt>=but_onL_temp)
000337 d120      	RCALL SUBOPT_0x8
000338 f0b0      	BRLO _0x78
         ;     496    			{              
         ;     497     			but=but_s&0b11111101;
000339 d124      	RCALL SUBOPT_0x9
         ;     498     			but1_cnt=0;
00033a e0e0      	LDI  R30,LOW(0)
00033b 93e0 016c 	STS  _but1_cnt_G1,R30
         ;     499     			n_but=1;
00033d 9468      	SET
00033e f825      	BLD  R2,5
         ;     500     			l_but=1;
00033f 9468      	SET
000340 f824      	BLD  R2,4
         ;     501 			if(speed)
000341 fe26      	SBRS R2,6
000342 c00c      	RJMP _0x79
         ;     502 				{
         ;     503     				but_onL_temp=but_onL_temp>>1;
000343 91e0 016d 	LDS  R30,_but_onL_temp_G1
000345 95e6      	LSR  R30
000346 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;     504         			if(but_onL_temp<=2) but_onL_temp=2;
000348 91a0 016d 	LDS  R26,_but_onL_temp_G1
00034a e0e2      	LDI  R30,LOW(2)
00034b 17ea      	CP   R30,R26
00034c f010      	BRLO _0x7A
00034d 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;     505 				}    
          _0x7A:
         ;     506    			}
          _0x79:
         ;     507   		} 
          _0x78:
         ;     508  	}
          _0x77:
         ;     509 but_drv_out:
          _0x76:
          _0x75:
         ;     510 but_s=but_n;
00034f 91e0 0169 	LDS  R30,_but_n_G1
000351 93e0 016a 	STS  _but_s_G1,R30
         ;     511 but_port|=(but_mask^0xff);
000353 d0f7      	RCALL SUBOPT_0x6
         ;     512 but_dir&=but_mask;
         ;     513 }    
000354 9508      	RET
         ;     514 
         ;     515 #define butV	239
         ;     516 #define butV_	237
         ;     517 #define butP	251
         ;     518 #define butP_	249
         ;     519 #define butR	127
         ;     520 #define butR_	125
         ;     521 #define butL	254
         ;     522 #define butL_	252
         ;     523 #define butLR	126
         ;     524 #define butLR_	124 
         ;     525 #define butVP_ 233
         ;     526 //-----------------------------------------------
         ;     527 void but_an(void)
         ;     528 {
          _but_an:
         ;     529 if (!n_but) goto but_an_end;
000355 fe25      	SBRS R2,5
000356 c026      	RJMP _0x7C
         ;     530 
         ;     531 if(ind==iMn)
000357 20dd      	TST  R13
000358 f431      	BRNE _0x7D
         ;     532 	{
         ;     533 	if(but==butP_)ind=iPr_sel;
000359 efe9      	LDI  R30,LOW(249)
00035a 15eb      	CP   R30,R11
00035b f411      	BRNE _0x7E
00035c e0e1      	LDI  R30,LOW(1)
00035d 2ede      	MOV  R13,R30
         ;     534 	} 
          _0x7E:
         ;     535 	
         ;     536 else if(ind==iPr_sel)
00035e c01e      	RJMP _0x7F
          _0x7D:
00035f e0e1      	LDI  R30,LOW(1)
000360 15ed      	CP   R30,R13
000361 f4d9      	BRNE _0x80
         ;     537 	{
         ;     538 	if(but==butP_)ind=iMn;
000362 efe9      	LDI  R30,LOW(249)
000363 15eb      	CP   R30,R11
000364 f409      	BRNE _0x81
000365 24dd      	CLR  R13
         ;     539 	if(but==butP)
          _0x81:
000366 efeb      	LDI  R30,LOW(251)
000367 15eb      	CP   R30,R11
000368 f4a1      	BRNE _0x82
         ;     540 		{
         ;     541 		ee_prog++;
000369 e0a1      	LDI  R26,LOW(_ee_prog)
00036a e0b0      	LDI  R27,HIGH(_ee_prog)
00036b 940e 0489 	CALL __EEPROMRDB
00036d 5fef      	SUBI R30,-LOW(1)
00036e 940e 0495 	CALL __EEPROMWRB
000370 50e1      	SUBI R30,LOW(1)
         ;     542 		if(ee_prog>MAXPROG)ee_prog=p1;
000371 e0a1      	LDI  R26,LOW(_ee_prog)
000372 e0b0      	LDI  R27,HIGH(_ee_prog)
000373 940e 0489 	CALL __EEPROMRDB
000375 2fae      	MOV  R26,R30
000376 e0e1      	LDI  R30,LOW(1)
000377 17ea      	CP   R30,R26
000378 f424      	BRGE _0x83
000379 e0a1      	LDI  R26,LOW(_ee_prog)
00037a e0b0      	LDI  R27,HIGH(_ee_prog)
00037b 940e 0495 	CALL __EEPROMWRB
         ;     543 		}
          _0x83:
         ;     544 	} 
          _0x82:
         ;     545 
         ;     546 but_an_end:
          _0x80:
          _0x7F:
          _0x7C:
         ;     547 n_but=0;
00037d 94e8      	CLT
00037e f825      	BLD  R2,5
         ;     548 }
00037f 9508      	RET
         ;     549 
         ;     550 //-----------------------------------------------
         ;     551 void ind_drv(void)
         ;     552 {
          _ind_drv:
         ;     553 if(++ind_cnt>=6)ind_cnt=0;
000380 94a3      	INC  R10
000381 e0e6      	LDI  R30,LOW(6)
000382 16ae      	CP   R10,R30
000383 f008      	BRLO _0x84
000384 24aa      	CLR  R10
         ;     554 
         ;     555 if(ind_cnt<5)
          _0x84:
000385 e0e5      	LDI  R30,LOW(5)
000386 16ae      	CP   R10,R30
000387 f4c8      	BRSH _0x85
         ;     556 	{
         ;     557 	DDRC=0xFF;
000388 efef      	LDI  R30,LOW(255)
000389 bbe4      	OUT  0x14,R30
         ;     558 	PORTC=0xFF;
00038a bbe5      	OUT  0x15,R30
         ;     559 	DDRD|=0b11111000;
00038b b3e1      	IN   R30,0x11
00038c 6fe8      	ORI  R30,LOW(0xF8)
00038d d0b8      	RCALL SUBOPT_0x5
         ;     560 	PORTD|=0b11111000;
         ;     561 	PORTD&=IND_STROB[ind_cnt];
00038e b3e2      	IN   R30,0x12
00038f 93ef      	PUSH R30
000390 e5a4      	LDI  R26,LOW(_IND_STROB*2)
000391 e0b0      	LDI  R27,HIGH(_IND_STROB*2)
000392 2dea      	MOV  R30,R10
000393 e0f0      	LDI  R31,0
000394 0fea      	ADD  R30,R26
000395 1ffb      	ADC  R31,R27
000396 91e4      	LPM  R30,Z
000397 91af      	POP  R26
000398 23ea      	AND  R30,R26
000399 bbe2      	OUT  0x12,R30
         ;     562 	PORTC=ind_out[ind_cnt];
00039a 2dea      	MOV  R30,R10
00039b e0f0      	LDI  R31,0
00039c 5ae0      	SUBI R30,LOW(-_ind_out)
00039d 4ffe      	SBCI R31,HIGH(-_ind_out)
00039e 81e0      	LD   R30,Z
00039f bbe5      	OUT  0x15,R30
         ;     563 	}
         ;     564 else but_drv();
0003a0 c002      	RJMP _0x86
          _0x85:
0003a1 940e 02ef 	CALL _but_drv
          _0x86:
         ;     565 }
0003a3 9508      	RET
         ;     566 
         ;     567 //***********************************************
         ;     568 //***********************************************
         ;     569 //***********************************************
         ;     570 //***********************************************
         ;     571 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
         ;     572 {
          _timer0_ovf_isr:
0003a4 920a      	ST   -Y,R0
0003a5 921a      	ST   -Y,R1
0003a6 92fa      	ST   -Y,R15
0003a7 936a      	ST   -Y,R22
0003a8 937a      	ST   -Y,R23
0003a9 938a      	ST   -Y,R24
0003aa 939a      	ST   -Y,R25
0003ab 93aa      	ST   -Y,R26
0003ac 93ba      	ST   -Y,R27
0003ad 93ea      	ST   -Y,R30
0003ae 93fa      	ST   -Y,R31
0003af b7ef      	IN   R30,SREG
0003b0 93ea      	ST   -Y,R30
         ;     573 TCCR0=0x02;
0003b1 d0b1      	RCALL SUBOPT_0xA
         ;     574 TCNT0=-208;
         ;     575 OCR0=0x00; 
         ;     576 
         ;     577 
         ;     578 b600Hz=1;
0003b2 9468      	SET
0003b3 f820      	BLD  R2,0
         ;     579 ind_drv();
0003b4 dfcb      	RCALL _ind_drv
         ;     580 if(++t0_cnt0>=6)
0003b5 9463      	INC  R6
0003b6 e0e6      	LDI  R30,LOW(6)
0003b7 166e      	CP   R6,R30
0003b8 f018      	BRLO _0x87
         ;     581 	{
         ;     582 	t0_cnt0=0;
0003b9 2466      	CLR  R6
         ;     583 	b100Hz=1;
0003ba 9468      	SET
0003bb f821      	BLD  R2,1
         ;     584 	}
         ;     585 
         ;     586 if(++t0_cnt1>=60)
          _0x87:
0003bc 9473      	INC  R7
0003bd e3ec      	LDI  R30,LOW(60)
0003be 167e      	CP   R7,R30
0003bf f088      	BRLO _0x88
         ;     587 	{
         ;     588 	t0_cnt1=0;
0003c0 2477      	CLR  R7
         ;     589 	b10Hz=1;
0003c1 9468      	SET
0003c2 f822      	BLD  R2,2
         ;     590 	
         ;     591 	if(++t0_cnt2>=2)
0003c3 9483      	INC  R8
0003c4 e0e2      	LDI  R30,LOW(2)
0003c5 168e      	CP   R8,R30
0003c6 f018      	BRLO _0x89
         ;     592 		{
         ;     593 		t0_cnt2=0;
0003c7 2488      	CLR  R8
         ;     594 		bFL5=!bFL5;
0003c8 e0e1      	LDI  R30,LOW(1)
0003c9 263e      	EOR  R3,R30
         ;     595 		}
         ;     596 		
         ;     597 	if(++t0_cnt3>=5)
          _0x89:
0003ca 9493      	INC  R9
0003cb e0e5      	LDI  R30,LOW(5)
0003cc 169e      	CP   R9,R30
0003cd f018      	BRLO _0x8A
         ;     598 		{
         ;     599 		t0_cnt3=0;
0003ce 2499      	CLR  R9
         ;     600 		bFL2=!bFL2;
0003cf e8e0      	LDI  R30,LOW(128)
0003d0 262e      	EOR  R2,R30
         ;     601 		}		
         ;     602 	}
          _0x8A:
         ;     603 }
          _0x88:
0003d1 91e9      	LD   R30,Y+
0003d2 bfef      	OUT  SREG,R30
0003d3 91f9      	LD   R31,Y+
0003d4 91e9      	LD   R30,Y+
0003d5 91b9      	LD   R27,Y+
0003d6 91a9      	LD   R26,Y+
0003d7 9199      	LD   R25,Y+
0003d8 9189      	LD   R24,Y+
0003d9 9179      	LD   R23,Y+
0003da 9169      	LD   R22,Y+
0003db 90f9      	LD   R15,Y+
0003dc 9019      	LD   R1,Y+
0003dd 9009      	LD   R0,Y+
0003de 9518      	RETI
         ;     604 
         ;     605 //===============================================
         ;     606 //===============================================
         ;     607 //===============================================
         ;     608 //===============================================
         ;     609 
         ;     610 void main(void)
         ;     611 {
          _main:
         ;     612 
         ;     613 PORTA=0xff;
0003df efef      	LDI  R30,LOW(255)
0003e0 bbeb      	OUT  0x1B,R30
         ;     614 DDRA=0x00;
0003e1 e0e0      	LDI  R30,LOW(0)
0003e2 bbea      	OUT  0x1A,R30
         ;     615 
         ;     616 PORTB=0xff;
0003e3 d087      	RCALL SUBOPT_0xB
         ;     617 DDRB=0xFF;
         ;     618 
         ;     619 PORTC=0x00;
0003e4 e0e0      	LDI  R30,LOW(0)
0003e5 bbe5      	OUT  0x15,R30
         ;     620 DDRC=0x00;
0003e6 bbe4      	OUT  0x14,R30
         ;     621 
         ;     622 
         ;     623 PORTD=0x00;
0003e7 bbe2      	OUT  0x12,R30
         ;     624 DDRD=0x00;
0003e8 bbe1      	OUT  0x11,R30
         ;     625 
         ;     626 
         ;     627 TCCR0=0x02;
0003e9 d079      	RCALL SUBOPT_0xA
         ;     628 TCNT0=-208;
         ;     629 OCR0=0x00;
         ;     630 
         ;     631 TCCR1A=0x00;
0003ea e0e0      	LDI  R30,LOW(0)
0003eb bdef      	OUT  0x2F,R30
         ;     632 TCCR1B=0x00;
0003ec bdee      	OUT  0x2E,R30
         ;     633 TCNT1H=0x00;
0003ed bded      	OUT  0x2D,R30
         ;     634 TCNT1L=0x00;
0003ee bdec      	OUT  0x2C,R30
         ;     635 ICR1H=0x00;
0003ef bde7      	OUT  0x27,R30
         ;     636 ICR1L=0x00;
0003f0 bde6      	OUT  0x26,R30
         ;     637 OCR1AH=0x00;
0003f1 bdeb      	OUT  0x2B,R30
         ;     638 OCR1AL=0x00;
0003f2 bdea      	OUT  0x2A,R30
         ;     639 OCR1BH=0x00;
0003f3 bde9      	OUT  0x29,R30
         ;     640 OCR1BL=0x00;
0003f4 bde8      	OUT  0x28,R30
         ;     641 
         ;     642 
         ;     643 ASSR=0x00;
0003f5 bde2      	OUT  0x22,R30
         ;     644 TCCR2=0x00;
0003f6 bde5      	OUT  0x25,R30
         ;     645 TCNT2=0x00;
0003f7 bde4      	OUT  0x24,R30
         ;     646 OCR2=0x00;
0003f8 bde3      	OUT  0x23,R30
         ;     647 
         ;     648 MCUCR=0x00;
0003f9 bfe5      	OUT  0x35,R30
         ;     649 MCUCSR=0x00;
0003fa bfe4      	OUT  0x34,R30
         ;     650 
         ;     651 TIMSK=0x01;
0003fb e0e1      	LDI  R30,LOW(1)
0003fc bfe9      	OUT  0x39,R30
         ;     652 
         ;     653 ACSR=0x80;
0003fd e8e0      	LDI  R30,LOW(128)
0003fe b9e8      	OUT  0x8,R30
         ;     654 SFIOR=0x00;
0003ff e0e0      	LDI  R30,LOW(0)
000400 bfe0      	OUT  0x30,R30
         ;     655 
         ;     656 #asm("sei") 
000401 9478      	sei
         ;     657 PORTB=0xFF;
000402 d068      	RCALL SUBOPT_0xB
         ;     658 DDRB=0xFF;
         ;     659 ind=iMn;
000403 24dd      	CLR  R13
         ;     660 prog_drv();
000404 940e 006a 	CALL _prog_drv
         ;     661 ind_hndl();
000406 940e 01d9 	CALL _ind_hndl
         ;     662 led_hndl();
000408 940e 0256 	CALL _led_hndl
         ;     663 
         ;     664 
         ;     665 while (1)
          _0x8B:
         ;     666       {
         ;     667       if(b600Hz)
00040a fe20      	SBRS R2,0
00040b c004      	RJMP _0x8E
         ;     668 		{
         ;     669 		b600Hz=0; 
00040c 94e8      	CLT
00040d f820      	BLD  R2,0
         ;     670           in_an();
00040e 940e 00ce 	CALL _in_an
         ;     671           
         ;     672 		}         
         ;     673       if(b100Hz)
          _0x8E:
000410 fe21      	SBRS R2,1
000411 c00d      	RJMP _0x8F
         ;     674 		{        
         ;     675 		b100Hz=0; 
000412 94e8      	CLT
000413 f821      	BLD  R2,1
         ;     676 		but_an();
000414 df40      	RCALL _but_an
         ;     677 	    	in_drv();
000415 940e 008e 	CALL _in_drv
         ;     678           ind_hndl();
000417 940e 01d9 	CALL _ind_hndl
         ;     679           step_contr();
000419 940e 011d 	CALL _step_contr
         ;     680           
         ;     681           main_loop_hndl();
00041b 940e 010f 	CALL _main_loop_hndl
         ;     682 
         ;     683           out_drv();
00041d 940e 0110 	CALL _out_drv
         ;     684 		}   
         ;     685 	if(b10Hz)
          _0x8F:
00041f fe22      	SBRS R2,2
000420 c008      	RJMP _0x90
         ;     686 		{
         ;     687 		b10Hz=0;
000421 94e8      	CLT
000422 f822      	BLD  R2,2
         ;     688 		prog_drv();
000423 940e 006a 	CALL _prog_drv
         ;     689 		err_drv();
000425 940e 00b5 	CALL _err_drv
         ;     690 		
         ;     691     	     
         ;     692           led_hndl();
000427 940e 0256 	CALL _led_hndl
         ;     693           
         ;     694           }
         ;     695 
         ;     696       };
          _0x90:
000429 cfe0      	RJMP _0x8B
         ;     697 }
          _0x91:
00042a cfff      	RJMP _0x91
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x0:
00042b e0e0      	LDI  R30,LOW(0)
00042c bbea      	OUT  0x1A,R30
00042d efef      	LDI  R30,LOW(255)
00042e bbeb      	OUT  0x1B,R30
00042f b3e9      	IN   R30,0x19
000430 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x1:
000431 2fe0      	MOV  R30,R16
000432 95e0      	COM  R30
000433 bbe8      	OUT  0x18,R30
000434 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
          SUBOPT_0x2:
000435 2fe0      	MOV  R30,R16
000436 50e1      	SUBI R30,LOW(1)
000437 e0f0      	LDI  R31,0
000438 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
          SUBOPT_0x3:
000439 e0f0      	LDI  R31,0
00043a 93fa      	ST   -Y,R31
00043b 93ea      	ST   -Y,R30
00043c e0e0      	LDI  R30,LOW(0)
00043d 93ea      	ST   -Y,R30
00043e 940c 01cd 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
          SUBOPT_0x4:
000440 93fa      	ST   -Y,R31
000441 93ea      	ST   -Y,R30
000442 e0e1      	LDI  R30,LOW(1)
000443 93ea      	ST   -Y,R30
000444 940c 01cd 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x5:
000446 bbe1      	OUT  0x11,R30
000447 b3e2      	IN   R30,0x12
000448 6fe8      	ORI  R30,LOW(0xF8)
000449 bbe2      	OUT  0x12,R30
00044a 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x6:
00044b b3e5      	IN   R30,0x15
00044c 69e5      	ORI  R30,LOW(0x95)
00044d bbe5      	OUT  0x15,R30
00044e b3e4      	IN   R30,0x14
00044f 76ea      	ANDI R30,LOW(0x6A)
000450 bbe4      	OUT  0x14,R30
000451 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x7:
000452 91e0 016a 	LDS  R30,_but_s_G1
000454 91a0 0169 	LDS  R26,_but_n_G1
000456 17ea      	CP   R30,R26
000457 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x8:
000458 91e0 016d 	LDS  R30,_but_onL_temp_G1
00045a 91a0 016c 	LDS  R26,_but1_cnt_G1
00045c 17ae      	CP   R26,R30
00045d 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x9:
00045e 91e0 016a 	LDS  R30,_but_s_G1
000460 7fed      	ANDI R30,0xFD
000461 2ebe      	MOV  R11,R30
000462 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xA:
000463 e0e2      	LDI  R30,LOW(2)
000464 bfe3      	OUT  0x33,R30
000465 e3e0      	LDI  R30,LOW(65328)
000466 efff      	LDI  R31,HIGH(65328)
000467 bfe2      	OUT  0x32,R30
000468 e0e0      	LDI  R30,LOW(0)
000469 bfec      	OUT  0x3C,R30
00046a 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xB:
00046b efef      	LDI  R30,LOW(255)
00046c bbe8      	OUT  0x18,R30
00046d bbe7      	OUT  0x17,R30
00046e 9508      	RET
         
          __DIVW21U:
00046f 2400      	CLR  R0
000470 2411      	CLR  R1
000471 e190      	LDI  R25,16
          __DIVW21U1:
000472 0faa      	LSL  R26
000473 1fbb      	ROL  R27
000474 1c00      	ROL  R0
000475 1c11      	ROL  R1
000476 1a0e      	SUB  R0,R30
000477 0a1f      	SBC  R1,R31
000478 f418      	BRCC __DIVW21U2
000479 0e0e      	ADD  R0,R30
00047a 1e1f      	ADC  R1,R31
00047b c001      	RJMP __DIVW21U3
          __DIVW21U2:
00047c 60a1      	SBR  R26,1
          __DIVW21U3:
00047d 959a      	DEC  R25
00047e f799      	BRNE __DIVW21U1
00047f 01fd      	MOVW R30,R26
000480 01d0      	MOVW R26,R0
000481 9508      	RET
         
          __MODW21U:
000482 dfec      	RCALL __DIVW21U
000483 01fd      	MOVW R30,R26
000484 9508      	RET
         
          __EEPROMRDW:
000485 9611      	ADIW R26,1
000486 d002      	RCALL __EEPROMRDB
000487 2ffe      	MOV  R31,R30
000488 9711      	SBIW R26,1
         
          __EEPROMRDB:
000489 99e1      	SBIC EECR,EEWE
00048a cffe      	RJMP __EEPROMRDB
00048b 93ff      	PUSH R31
00048c b7ff      	IN   R31,SREG
00048d 94f8      	CLI
00048e bbae      	OUT  EEARL,R26
00048f bbbf      	OUT  EEARH,R27
000490 9ae0      	SBI  EECR,EERE
000491 b3ed      	IN   R30,EEDR
000492 bfff      	OUT  SREG,R31
000493 91ff      	POP  R31
000494 9508      	RET
         
          __EEPROMWRB:
000495 99e1      	SBIC EECR,EEWE
000496 cffe      	RJMP __EEPROMWRB
000497 b79f      	IN   R25,SREG
000498 94f8      	CLI
000499 bbae      	OUT  EEARL,R26
00049a bbbf      	OUT  EEARH,R27
00049b 9ae0      	SBI  EECR,EERE
00049c b38d      	IN   R24,EEDR
00049d 17e8      	CP   R30,R24
00049e f019      	BREQ __EEPROMWRB0
00049f bbed      	OUT  EEDR,R30
0004a0 9ae2      	SBI  EECR,EEMWE
0004a1 9ae1      	SBI  EECR,EEWE
          __EEPROMWRB0:
0004a2 bf9f      	OUT  SREG,R25
0004a3 9508      	RET
         
          __SAVELOCR4:
0004a4 933a      	ST   -Y,R19
          __SAVELOCR3:
0004a5 932a      	ST   -Y,R18
          __SAVELOCR2:
0004a6 931a      	ST   -Y,R17
0004a7 930a      	ST   -Y,R16
0004a8 9508      	RET
         
          __LOADLOCR4:
0004a9 813b      	LDD  R19,Y+3
          __LOADLOCR3:
0004aa 812a      	LDD  R18,Y+2
          __LOADLOCR2:
0004ab 8119      	LDD  R17,Y+1
0004ac 8108      	LD   R16,Y
0004ad 9508      	RET
         

Assembly complete with no errors.
