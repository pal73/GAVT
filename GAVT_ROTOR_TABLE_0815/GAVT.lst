
AVRASM ver. 1.52  GAVT.asm Thu Feb 18 22:48:43 2016


         ;CodeVisionAVR C Compiler V1.24.1d Standard
         ;(C) Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
         ;http://www.hpinfotech.ro
         ;e-mail:office@hpinfotech.ro
         
         ;Chip type           : ATmega16
         ;Program type        : Application
         ;Clock frequency     : 1,000000 MHz
         ;Memory model        : Small
         ;Optimize for        : Size
         ;(s)printf features  : int, width
         ;(s)scanf features   : long, width
         ;External SRAM size  : 0
         ;Data Stack size     : 256 byte(s)
         ;Heap size           : 0 byte(s)
         ;Promote char to int : No
         ;char is unsigned    : Yes
         ;8 bit enums         : Yes
         ;Enhanced core instructions    : On
         ;Automatic register allocation : On
         
          	.EQU UDRE=0x5
          	.EQU RXC=0x7
          	.EQU USR=0xB
          	.EQU UDR=0xC
          	.EQU EERE=0x0
          	.EQU EEWE=0x1
          	.EQU EEMWE=0x2
          	.EQU SPSR=0xE
          	.EQU SPDR=0xF
          	.EQU EECR=0x1C
          	.EQU EEDR=0x1D
          	.EQU EEARL=0x1E
          	.EQU EEARH=0x1F
          	.EQU WDTCR=0x21
          	.EQU MCUCR=0x35
          	.EQU GICR=0x3B
          	.EQU SPL=0x3D
          	.EQU SPH=0x3E
          	.EQU SREG=0x3F
         
          	.DEF R0X0=R0
          	.DEF R0X1=R1
          	.DEF R0X2=R2
          	.DEF R0X3=R3
          	.DEF R0X4=R4
          	.DEF R0X5=R5
          	.DEF R0X6=R6
          	.DEF R0X7=R7
          	.DEF R0X8=R8
          	.DEF R0X9=R9
          	.DEF R0XA=R10
          	.DEF R0XB=R11
          	.DEF R0XC=R12
          	.DEF R0XD=R13
          	.DEF R0XE=R14
          	.DEF R0XF=R15
          	.DEF R0X10=R16
          	.DEF R0X11=R17
          	.DEF R0X12=R18
          	.DEF R0X13=R19
          	.DEF R0X14=R20
          	.DEF R0X15=R21
          	.DEF R0X16=R22
          	.DEF R0X17=R23
          	.DEF R0X18=R24
          	.DEF R0X19=R25
          	.DEF R0X1A=R26
          	.DEF R0X1B=R27
          	.DEF R0X1C=R28
          	.DEF R0X1D=R29
          	.DEF R0X1E=R30
          	.DEF R0X1F=R31
         
          	.EQU __se_bit=0x40
          	.EQU __sm_mask=0xB0
          	.EQU __sm_adc_noise_red=0x10
          	.EQU __sm_powerdown=0x20
          	.EQU __sm_powersave=0x30
          	.EQU __sm_standby=0xA0
          	.EQU __sm_ext_standby=0xB0
         
          	.MACRO __CPD1N
          	CPI  R30,LOW(@0)
          	LDI  R26,HIGH(@0)
          	CPC  R31,R26
          	LDI  R26,BYTE3(@0)
          	CPC  R22,R26
          	LDI  R26,BYTE4(@0)
          	CPC  R23,R26
          	.ENDM
         
          	.MACRO __CPD2N
          	CPI  R26,LOW(@0)
          	LDI  R30,HIGH(@0)
          	CPC  R27,R30
          	LDI  R30,BYTE3(@0)
          	CPC  R24,R30
          	LDI  R30,BYTE4(@0)
          	CPC  R25,R30
          	.ENDM
         
          	.MACRO __CPWRR
          	CP   R@0,R@2
          	CPC  R@1,R@3
          	.ENDM
         
          	.MACRO __CPWRN
          	CPI  R@0,LOW(@2)
          	LDI  R30,HIGH(@2)
          	CPC  R@1,R30
          	.ENDM
         
          	.MACRO __ADDD1N
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	SBCI R22,BYTE3(-@0)
          	SBCI R23,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __ADDD2N
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	SBCI R24,BYTE3(-@0)
          	SBCI R25,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __SUBD1N
          	SUBI R30,LOW(@0)
          	SBCI R31,HIGH(@0)
          	SBCI R22,BYTE3(@0)
          	SBCI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __SUBD2N
          	SUBI R26,LOW(@0)
          	SBCI R27,HIGH(@0)
          	SBCI R24,BYTE3(@0)
          	SBCI R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ANDD1N
          	ANDI R30,LOW(@0)
          	ANDI R31,HIGH(@0)
          	ANDI R22,BYTE3(@0)
          	ANDI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ORD1N
          	ORI  R30,LOW(@0)
          	ORI  R31,HIGH(@0)
          	ORI  R22,BYTE3(@0)
          	ORI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __DELAY_USB
          	LDI  R24,LOW(@0)
          __DELAY_USB_LOOP:
          	DEC  R24
          	BRNE __DELAY_USB_LOOP
          	.ENDM
         
          	.MACRO __DELAY_USW
          	LDI  R24,LOW(@0)
          	LDI  R25,HIGH(@0)
          __DELAY_USW_LOOP:
          	SBIW R24,1
          	BRNE __DELAY_USW_LOOP
          	.ENDM
         
          	.MACRO __CLRD1S
          	LDI  R30,0
          	STD  Y+@0,R30
          	STD  Y+@0+1,R30
          	STD  Y+@0+2,R30
          	STD  Y+@0+3,R30
          	.ENDM
         
          	.MACRO __GETD1S
          	LDD  R30,Y+@0
          	LDD  R31,Y+@0+1
          	LDD  R22,Y+@0+2
          	LDD  R23,Y+@0+3
          	.ENDM
         
          	.MACRO __PUTD1S
          	STD  Y+@0,R30
          	STD  Y+@0+1,R31
          	STD  Y+@0+2,R22
          	STD  Y+@0+3,R23
          	.ENDM
         
          	.MACRO __POINTB1MN
          	LDI  R30,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1MN
          	LDI  R30,LOW(@0+@1)
          	LDI  R31,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1FN
          	LDI  R30,LOW(2*@0+@1)
          	LDI  R31,HIGH(2*@0+@1)
          	.ENDM
         
          	.MACRO __POINTB2MN
          	LDI  R26,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW2MN
          	LDI  R26,LOW(@0+@1)
          	LDI  R27,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTBRM
          	LDI  R@0,LOW(@1)
          	.ENDM
         
          	.MACRO __POINTWRM
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __POINTBRMN
          	LDI  R@0,LOW(@1+@2)
          	.ENDM
         
          	.MACRO __POINTWRMN
          	LDI  R@0,LOW(@2+@3)
          	LDI  R@1,HIGH(@2+@3)
          	.ENDM
         
          	.MACRO __GETD1N
          	LDI  R30,LOW(@0)
          	LDI  R31,HIGH(@0)
          	LDI  R22,BYTE3(@0)
          	LDI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2N
          	LDI  R26,LOW(@0)
          	LDI  R27,HIGH(@0)
          	LDI  R24,BYTE3(@0)
          	LDI  R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2S
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	LDD  R24,Y+@0+2
          	LDD  R25,Y+@0+3
          	.ENDM
         
          	.MACRO __GETB1MN
          	LDS  R30,@0+@1
          	.ENDM
         
          	.MACRO __GETW1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	LDS  R22,@0+@1+2
          	LDS  R23,@0+@1+3
          	.ENDM
         
          	.MACRO __GETBRMN
          	LDS  R@2,@0+@1
          	.ENDM
         
          	.MACRO __GETWRMN
          	LDS  R@2,@0+@1
          	LDS  R@3,@0+@1+1
          	.ENDM
         
          	.MACRO __GETB2MN
          	LDS  R26,@0+@1
          	.ENDM
         
          	.MACRO __GETW2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	LDS  R24,@0+@1+2
          	LDS  R25,@0+@1+3
          	.ENDM
         
          	.MACRO __PUTB1MN
          	STS  @0+@1,R30
          	.ENDM
         
          	.MACRO __PUTW1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	.ENDM
         
          	.MACRO __PUTD1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	STS  @0+@1+2,R22
          	STS  @0+@1+3,R23
          	.ENDM
         
          	.MACRO __PUTBMRN
          	STS  @0+@1,R@2
          	.ENDM
         
          	.MACRO __PUTWMRN
          	STS  @0+@1,R@2
          	STS  @0+@1+1,R@3
          	.ENDM
         
          	.MACRO __GETW1R
          	MOV  R30,R@0
          	MOV  R31,R@1
          	.ENDM
         
          	.MACRO __GETW2R
          	MOV  R26,R@0
          	MOV  R27,R@1
          	.ENDM
         
          	.MACRO __GETWRN
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __PUTW1R
          	MOV  R@0,R30
          	MOV  R@1,R31
          	.ENDM
         
          	.MACRO __PUTW2R
          	MOV  R@0,R26
          	MOV  R@1,R27
          	.ENDM
         
          	.MACRO __ADDWRN
          	SUBI R@0,LOW(-@2)
          	SBCI R@1,HIGH(-@2)
          	.ENDM
         
          	.MACRO __ADDWRR
          	ADD  R@0,R@2
          	ADC  R@1,R@3
          	.ENDM
         
          	.MACRO __SUBWRN
          	SUBI R@0,LOW(@2)
          	SBCI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __SUBWRR
          	SUB  R@0,R@2
          	SBC  R@1,R@3
          	.ENDM
         
          	.MACRO __ANDWRN
          	ANDI R@0,LOW(@2)
          	ANDI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ANDWRR
          	AND  R@0,R@2
          	AND  R@1,R@3
          	.ENDM
         
          	.MACRO __ORWRN
          	ORI  R@0,LOW(@2)
          	ORI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ORWRR
          	OR   R@0,R@2
          	OR   R@1,R@3
          	.ENDM
         
          	.MACRO __EORWRR
          	EOR  R@0,R@2
          	EOR  R@1,R@3
          	.ENDM
         
          	.MACRO __GETWRS
          	LDD  R@0,Y+@2
          	LDD  R@1,Y+@2+1
          	.ENDM
         
          	.MACRO __PUTWSR
          	STD  Y+@2,R@0
          	STD  Y+@2+1,R@1
          	.ENDM
         
          	.MACRO __MOVEWRR
          	MOV  R@0,R@2
          	MOV  R@1,R@3
          	.ENDM
         
          	.MACRO __INWR
          	IN   R@0,@2
          	IN   R@1,@2+1
          	.ENDM
         
          	.MACRO __OUTWR
          	OUT  @2+1,R@1
          	OUT  @2,R@0
          	.ENDM
         
          	.MACRO __CALL1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	ICALL
          	.ENDM
         
          	.MACRO __NBST
          	BST  R@0,@1
          	IN   R30,SREG
          	LDI  R31,0x40
          	EOR  R30,R31
          	OUT  SREG,R30
          	.ENDM
         
         
          	.MACRO __PUTB1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	CALL __PUTDP1
          	.ENDM
         
         
          	.MACRO __GETB1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R30,Z
          	.ENDM
         
          	.MACRO __GETW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R31,Z
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __GETD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R1,Z+
          	LD   R22,Z+
          	LD   R23,Z
          	MOVW R30,R0
          	.ENDM
         
          	.MACRO __GETB2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R26,X
          	.ENDM
         
          	.MACRO __GETW2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	.ENDM
         
          	.MACRO __GETD2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R1,X+
          	LD   R24,X+
          	LD   R25,X
          	MOVW R26,R0
          	.ENDM
         
          	.MACRO __GETBRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@1)
          	SBCI R31,HIGH(-@1)
          	LD   R@0,Z
          	.ENDM
         
          	.MACRO __GETWRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	LD   R@0,Z+
          	LD   R@1,Z
          	.ENDM
         
          	.MACRO __LSLW8SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R31,Z
          	CLR  R30
          	.ENDM
         
          	.MACRO __PUTB1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __CLRW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __CLRD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __PUTB2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R26
          	.ENDM
         
          	.MACRO __PUTW2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z+,R26
          	ST   Z,R27
          	.ENDM
         
          	.MACRO __PUTBSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTWSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	ST   Z+,R@0
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTB1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __MULBRR
          	MULS R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __MULBRRU
          	MUL  R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.CSEG
          	.ORG 0
         
          	.INCLUDE "GAVT.vec"
         
         ;INTERRUPT VECTORS
000000 940c 003a 	JMP  __RESET
000002 940c 0000 	JMP  0
000004 940c 0000 	JMP  0
000006 940c 0000 	JMP  0
000008 940c 0000 	JMP  0
00000a 940c 0000 	JMP  0
00000c 940c 0000 	JMP  0
00000e 940c 0000 	JMP  0
000010 940c 0000 	JMP  0
000012 940c 085e 	JMP  _timer0_ovf_isr
000014 940c 0000 	JMP  0
000016 940c 0000 	JMP  0
000018 940c 0000 	JMP  0
00001a 940c 0000 	JMP  0
00001c 940c 0000 	JMP  0
00001e 940c 0000 	JMP  0
000020 940c 0000 	JMP  0
000022 940c 0000 	JMP  0
000024 940c 0000 	JMP  0
000026 940c 0000 	JMP  0
000028 940c 0000 	JMP  0
         
          	.INCLUDE "GAVT.inc"
          	.DEF _t0_cnt0=R6
          	.DEF _t0_cnt1=R7
          	.DEF _t0_cnt2=R8
          	.DEF _t0_cnt3=R9
          	.DEF _ind_cnt=R10
          _IND_STROB:
          	.DB  0xBF,0xDF,0xEF,0xF7,0x7F
00002a dfbf
00002b f7ef
00002c 007f
          _DIGISYM:
          	.DB  0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8
00002d f9c0
00002e b0a4
00002f 9299
000030 f882
          	.DB  0x80,0x90,0xFF
000031 9080
000032 00ff
          _3:
          	.DB  0x55,0x55,0x55,0x55,0x55
000033 5555
000034 5555
000035 0055
          	.DEF _but=R11
          	.DEF _prog=R12
          	.DEF _step=R13
          	.DEF _ind=R14
         
          __GLOBAL_INI_TBL:
          	.DW  0x05
000036 0005
          	.DW  _ind_out
000037 0160
          	.DW  _3*2
000038 0066
         
          	.DW  0
000039 0000
         
          __RESET:
00003a 94f8      	CLI
00003b 27ee      	CLR  R30
00003c bbec      	OUT  EECR,R30
         
         ;INTERRUPT VECTORS ARE PLACED
         ;AT THE START OF FLASH
00003d e0f1      	LDI  R31,1
00003e bffb      	OUT  GICR,R31
00003f bfeb      	OUT  GICR,R30
000040 bfe5      	OUT  MCUCR,R30
         
         ;DISABLE WATCHDOG
000041 e1f8      	LDI  R31,0x18
000042 bdf1      	OUT  WDTCR,R31
000043 bde1      	OUT  WDTCR,R30
         
         ;CLEAR R2-R14
000044 e08d      	LDI  R24,13
000045 e0a2      	LDI  R26,2
000046 27bb      	CLR  R27
          __CLEAR_REG:
000047 93ed      	ST   X+,R30
000048 958a      	DEC  R24
000049 f7e9      	BRNE __CLEAR_REG
         
         ;CLEAR SRAM
00004a e080      	LDI  R24,LOW(0x400)
00004b e094      	LDI  R25,HIGH(0x400)
00004c e6a0      	LDI  R26,0x60
          __CLEAR_SRAM:
00004d 93ed      	ST   X+,R30
00004e 9701      	SBIW R24,1
00004f f7e9      	BRNE __CLEAR_SRAM
         
         ;GLOBAL VARIABLES INITIALIZATION
000050 e6ec      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
000051 e0f0      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
          __GLOBAL_INI_NEXT:
000052 9185      	LPM  R24,Z+
000053 9195      	LPM  R25,Z+
000054 9700      	SBIW R24,0
000055 f061      	BREQ __GLOBAL_INI_END
000056 91a5      	LPM  R26,Z+
000057 91b5      	LPM  R27,Z+
000058 9005      	LPM  R0,Z+
000059 9015      	LPM  R1,Z+
00005a 01bf      	MOVW R22,R30
00005b 01f0      	MOVW R30,R0
          __GLOBAL_INI_LOOP:
00005c 9005      	LPM  R0,Z+
00005d 920d      	ST   X+,R0
00005e 9701      	SBIW R24,1
00005f f7e1      	BRNE __GLOBAL_INI_LOOP
000060 01fb      	MOVW R30,R22
000061 cff0      	RJMP __GLOBAL_INI_NEXT
          __GLOBAL_INI_END:
         
         ;STACK POINTER INITIALIZATION
000062 e5ef      	LDI  R30,LOW(0x45F)
000063 bfed      	OUT  SPL,R30
000064 e0e4      	LDI  R30,HIGH(0x45F)
000065 bfee      	OUT  SPH,R30
         
         ;DATA STACK POINTER INITIALIZATION
000066 e6c0      	LDI  R28,LOW(0x160)
000067 e0d1      	LDI  R29,HIGH(0x160)
         
000068 940c 08a1 	JMP  _main
         
          	.ESEG
          	.ORG 0
         
          	.DSEG
          	.ORG 0x160
         ;       1 #define LED_POW_ON	5
         ;       2 #define LED_MAIN_LOOP	1
         ;       3 #define LED_ORIENT	4
         ;       4 #define LED_NAPOLN	2 
         ;       5 #define LED_PAYKA	3
         ;       6 #define LED_ERROR	0 
         ;       7 #define LED_WRK	6
         ;       8 #define LED_LOOP_AUTO	7
         ;       9 
         ;      10 
         ;      11 
         ;      12 
         ;      13 #define BD1	7
         ;      14 #define BD2	4
         ;      15 #define DM	1
         ;      16 #define START	0
         ;      17 #define STOP	2
         ;      18 #define MD1	3
         ;      19 #define MD2	5
         ;      20 
         ;      21 
         ;      22 #define PP1	6
         ;      23 #define PP2	7
         ;      24 #define PP3	5
         ;      25 #define PP4	4
         ;      26 #define PP5	3 
         ;      27 #define PP6	2
         ;      28 #define PP7	1
         ;      29 
         ;      30 
         ;      31 bit b600Hz;
         ;      32 
         ;      33 bit b100Hz;
         ;      34 bit b10Hz;
         ;      35 char t0_cnt0,t0_cnt1,t0_cnt2,t0_cnt3;
         ;      36 char ind_cnt;
         ;      37 flash char IND_STROB[]={0b10111111,0b11011111,0b11101111,0b11110111,0b01111111};
         
          	.CSEG
         ;      38 flash char DIGISYM[]={0b11000000,0b11111001,0b10100100,0b10110000,0b10011001,0b10010010,0b10000010,0b11111000,0b10000000,0b10010000,0b11111111};								
         ;      39 
         ;      40 char ind_out[5]={0x255,0x255,0x255,0x255,0x255};
         
          	.DSEG
          _ind_out:
000160      	.BYTE 0x5
         ;      41 char dig[4];
          _dig:
000165      	.BYTE 0x4
         ;      42 bit bZ;    
         ;      43 char but;
         ;      44 static char but_n;
          _but_n_G1:
000169      	.BYTE 0x1
         ;      45 static char but_s;
          _but_s_G1:
00016a      	.BYTE 0x1
         ;      46 static char but0_cnt;
          _but0_cnt_G1:
00016b      	.BYTE 0x1
         ;      47 static char but1_cnt;
          _but1_cnt_G1:
00016c      	.BYTE 0x1
         ;      48 static char but_onL_temp;
          _but_onL_temp_G1:
00016d      	.BYTE 0x1
         ;      49 bit l_but;		//идет длинное нажатие на кнопку
         ;      50 bit n_but;          //произошло нажатие
         ;      51 bit speed;		//разрешение ускорения перебора 
         ;      52 bit bFL2; 
         ;      53 bit bFL5;
         ;      54 eeprom enum{elmAUTO=0x55,elmMNL=0xaa}ee_loop_mode;
         
          	.ESEG
          _ee_loop_mode:
          	.DB  0x0
000000 00
         ;      55 //eeprom char ee_program[2];
         ;      56 enum {p1=1,p2=2,p3=3,p4=4}prog;
         ;      57 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}step=sOFF;
         ;      58 enum {iMn,iPr_sel,iSet} ind;
         ;      59 char sub_ind;
         
          	.DSEG
          _sub_ind:
00016e      	.BYTE 0x1
         ;      60 char in_word,in_word_old,in_word_new,in_word_cnt;
          _in_word:
00016f      	.BYTE 0x1
          _in_word_old:
000170      	.BYTE 0x1
          _in_word_new:
000171      	.BYTE 0x1
          _in_word_cnt:
000172      	.BYTE 0x1
         ;      61 bit bERR;
         ;      62 signed int cnt_del=0;
          _cnt_del:
000173      	.BYTE 0x2
         ;      63 
         ;      64 bit bMD1,bMD2,bBD1,bBD2,bDM,bSTART,bSTOP;
         ;      65 
         ;      66 char cnt_md1,cnt_md2,cnt_bd1,cnt_bd2,cnt_dm,cnt_start,cnt_stop;
          _cnt_md1:
000175      	.BYTE 0x1
          _cnt_md2:
000176      	.BYTE 0x1
          _cnt_bd1:
000177      	.BYTE 0x1
          _cnt_bd2:
000178      	.BYTE 0x1
          _cnt_dm:
000179      	.BYTE 0x1
          _cnt_start:
00017a      	.BYTE 0x1
          _cnt_stop:
00017b      	.BYTE 0x1
         ;      67 
         ;      68 //eeprom unsigned ee_delay[4,2];
         ;      69 //eeprom char ee_vr_log;
         ;      70 #include <mega16.h>
         ;      71 //#include <mega8535.h>  
         ;      72 
         ;      73 bit bPP1,bPP2,bPP3,bPP4,bPP5,bPP6,bPP7,bPP8;
         ;      74 
         ;      75 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}payka_step=sOFF,napoln_step=sOFF,orient_step=sOFF,main_loop_step=sOFF;
          _payka_step:
00017c      	.BYTE 0x1
          _napoln_step:
00017d      	.BYTE 0x1
          _orient_step:
00017e      	.BYTE 0x1
          _main_loop_step:
00017f      	.BYTE 0x1
         ;      76 enum{cmdOFF=0,cmdSTART,cmdSTOP}payka_cmd=cmdOFF,napoln_cmd=cmdOFF,orient_cmd=cmdOFF,main_loop_cmd=cmdOFF;
          _payka_cmd:
000180      	.BYTE 0x1
          _napoln_cmd:
000181      	.BYTE 0x1
          _orient_cmd:
000182      	.BYTE 0x1
          _main_loop_cmd:
000183      	.BYTE 0x1
         ;      77 signed short payka_cnt_del,napoln_cnt_del,orient_cnt_del,main_loop_cnt_del;
          _payka_cnt_del:
000184      	.BYTE 0x2
          _napoln_cnt_del:
000186      	.BYTE 0x2
          _orient_cnt_del:
000188      	.BYTE 0x2
          _main_loop_cnt_del:
00018a      	.BYTE 0x2
         ;      78 eeprom signed short ee_temp1,ee_temp2;
         
          	.ESEG
          _ee_temp1:
          	.DW  0x0
000001 00 00
          _ee_temp2:
          	.DW  0x0
000003 00 00
         ;      79 
         ;      80 bit bPAYKA_COMPLETE=0,bNAPOLN_COMPLETE=0,bORIENT_COMPLETE=0;
         ;      81 eeprom signed int ee_prog;
          _ee_prog:
          	.DW  0x0
000005 00 00
         ;      82 
         ;      83 eeprom signed short ee_temp3,ee_temp4;
          _ee_temp3:
          	.DW  0x0
000007 00 00
          _ee_temp4:
          	.DW  0x0
000009 00 00
         ;      84 
         ;      85 #define EE_PROG_FULL		0
         ;      86 #define EE_PROG_ONLY_ORIENT 	1
         ;      87 #define EE_PROG_ONLY_NAPOLN	2
         ;      88 #define EE_PROG_ONLY_PAYKA	3
         ;      89 #define EE_PROG_ONLY_MAIN_LOOP 	4
         ;      90 
         ;      91 //-----------------------------------------------
         ;      92 void prog_drv(void)
         ;      93 {
         
          	.CSEG
          _prog_drv:
         ;      94 char temp,temp1,temp2;
         ;      95 
         ;      96 ///temp=ee_program[0];
         ;      97 ///temp1=ee_program[1];
         ;      98 ///temp2=ee_program[2];
         ;      99 
         ;     100 if((temp==temp1)&&(temp==temp2))
00006a 940e 09ff 	CALL __SAVELOCR3
         ;	temp -> R16
         ;	temp1 -> R17
         ;	temp2 -> R18
00006c 1710      	CP   R17,R16
00006d f411      	BRNE _0x5
00006e 1720      	CP   R18,R16
00006f f009      	BREQ _0x6
          _0x5:
000070 c001      	RJMP _0x4
          _0x6:
         ;     101 	{
         ;     102 	}
         ;     103 else if((temp==temp1)&&(temp!=temp2))
000071 c019      	RJMP _0x7
          _0x4:
000072 1710      	CP   R17,R16
000073 f411      	BRNE _0x9
000074 1720      	CP   R18,R16
000075 f409      	BRNE _0xA
          _0x9:
000076 c002      	RJMP _0x8
          _0xA:
         ;     104 	{
         ;     105 	temp2=temp;
000077 2f20      	MOV  R18,R16
         ;     106 	}
         ;     107 else if((temp!=temp1)&&(temp==temp2))
000078 c012      	RJMP _0xB
          _0x8:
000079 1710      	CP   R17,R16
00007a f011      	BREQ _0xD
00007b 1720      	CP   R18,R16
00007c f009      	BREQ _0xE
          _0xD:
00007d c002      	RJMP _0xC
          _0xE:
         ;     108 	{
         ;     109 	temp1=temp;
00007e 2f10      	MOV  R17,R16
         ;     110 	}
         ;     111 else if((temp!=temp1)&&(temp1==temp2))
00007f c00b      	RJMP _0xF
          _0xC:
000080 1710      	CP   R17,R16
000081 f011      	BREQ _0x11
000082 1721      	CP   R18,R17
000083 f009      	BREQ _0x12
          _0x11:
000084 c002      	RJMP _0x10
          _0x12:
         ;     112 	{
         ;     113 	temp=temp1;
000085 2f01      	MOV  R16,R17
         ;     114 	}
         ;     115 else if((temp!=temp1)&&(temp!=temp2))
000086 c004      	RJMP _0x13
          _0x10:
000087 1710      	CP   R17,R16
000088 f011      	BREQ _0x15
000089 1720      	CP   R18,R16
00008a f401      	BRNE _0x16
          _0x15:
          _0x16:
         ;     116 	{
         ;     117 ////	temp=MINPROG;
         ;     118 ////	temp1=MINPROG;
         ;     119 ////	temp2=MINPROG;
         ;     120 	}
         ;     121 
         ;     122 ////if(!((temp<=MAXPROG)&&(temp>=MINPROG)))
         ;     123 ////	{
         ;     124 ////	temp=MINPROG;
         ;     125 ////	}
         ;     126 
         ;     127 ///if(temp!=ee_program[0])ee_program[0]=temp;
         ;     128 ///if(temp!=ee_program[1])ee_program[1]=temp;
         ;     129 ///if(temp!=ee_program[2])ee_program[2]=temp;
         ;     130 
         ;     131 prog=temp;
          _0x13:
          _0xF:
          _0xB:
          _0x7:
00008b 2ec0      	MOV  R12,R16
         ;     132 }
00008c 940e 0a04 	CALL __LOADLOCR3
00008e c49c      	RJMP _0x18A
         ;     133 
         ;     134 //-----------------------------------------------
         ;     135 void in_drv(void)
         ;     136 {
         ;     137 char i,temp;
         ;     138 unsigned int tempUI;
         ;     139 DDRA=0x00;
         ;	i -> R16
         ;	temp -> R17
         ;	tempUI -> R18,R19
         ;     140 PORTA=0xff;
         ;     141 in_word_new=PINA;
         ;     142 if(in_word_old==in_word_new)
         ;     143 	{
         ;     144 	if(in_word_cnt<10)
         ;     145 		{
         ;     146 		in_word_cnt++;
         ;     147 		if(in_word_cnt>=10)
         ;     148 			{
         ;     149 			in_word=in_word_old;
         ;     150 			}
         ;     151 		}
         ;     152 	}
         ;     153 else in_word_cnt=0;
         ;     154 
         ;     155 
         ;     156 in_word_old=in_word_new;
         ;     157 }   
         ;     158 
         ;     159 //-----------------------------------------------
         ;     160 void err_drv(void)
         ;     161 {
          _err_drv:
         ;     162 if(step==sOFF)
00008f 20dd      	TST  R13
000090 f459      	BRNE _0x1B
         ;     163 	{
         ;     164     	if(prog==p2)	
000091 e0e2      	LDI  R30,LOW(2)
000092 15ec      	CP   R30,R12
000093 f439      	BRNE _0x1C
         ;     165     		{
         ;     166        		if(bMD1) bERR=1;
000094 fe32      	SBRS R3,2
000095 c003      	RJMP _0x1D
000096 9468      	SET
000097 f831      	BLD  R3,1
         ;     167        		else bERR=0;
000098 c002      	RJMP _0x1E
          _0x1D:
000099 94e8      	CLT
00009a f831      	BLD  R3,1
          _0x1E:
         ;     168 		}
         ;     169 	}
          _0x1C:
         ;     170 else bERR=0;
00009b c002      	RJMP _0x1F
          _0x1B:
00009c 94e8      	CLT
00009d f831      	BLD  R3,1
          _0x1F:
         ;     171 }
00009e 9508      	RET
         ;     172   
         ;     173 
         ;     174 //-----------------------------------------------
         ;     175 void in_an(void)
         ;     176 {
          _in_an:
         ;     177 DDRA=0x00;
00009f 940e 08f1 	CALL SUBOPT_0x0
         ;     178 PORTA=0xff;
0000a1 bbeb      	OUT  0x1B,R30
         ;     179 in_word=PINA;
0000a2 b3e9      	IN   R30,0x19
0000a3 93e0 016f 	STS  _in_word,R30
         ;     180 
         ;     181 if(!(in_word&(1<<MD1)))
0000a5 70e8      	ANDI R30,LOW(0x8)
0000a6 f481      	BRNE _0x20
         ;     182 	{
         ;     183 	if(cnt_md1<10)
0000a7 91a0 0175 	LDS  R26,_cnt_md1
0000a9 30aa      	CPI  R26,LOW(0xA)
0000aa f458      	BRSH _0x21
         ;     184 		{
         ;     185 		cnt_md1++;
0000ab 91e0 0175 	LDS  R30,_cnt_md1
0000ad 5fef      	SUBI R30,-LOW(1)
0000ae 93e0 0175 	STS  _cnt_md1,R30
         ;     186 		if(cnt_md1==10) bMD1=1;
0000b0 91a0 0175 	LDS  R26,_cnt_md1
0000b2 30aa      	CPI  R26,LOW(0xA)
0000b3 f411      	BRNE _0x22
0000b4 9468      	SET
0000b5 f832      	BLD  R3,2
         ;     187 		}
          _0x22:
         ;     188 
         ;     189 	}
          _0x21:
         ;     190 else
0000b6 c00b      	RJMP _0x23
          _0x20:
         ;     191 	{
         ;     192 	if(cnt_md1)
0000b7 91e0 0175 	LDS  R30,_cnt_md1
0000b9 30e0      	CPI  R30,0
0000ba f039      	BREQ _0x24
         ;     193 		{
         ;     194 		cnt_md1--;
0000bb 50e1      	SUBI R30,LOW(1)
0000bc 93e0 0175 	STS  _cnt_md1,R30
         ;     195 		if(cnt_md1==0) bMD1=0;
0000be 30e0      	CPI  R30,0
0000bf f411      	BRNE _0x25
0000c0 94e8      	CLT
0000c1 f832      	BLD  R3,2
         ;     196 		}
          _0x25:
         ;     197 
         ;     198 	}
          _0x24:
          _0x23:
         ;     199 
         ;     200 if(!(in_word&(1<<MD2)))
0000c2 91e0 016f 	LDS  R30,_in_word
0000c4 72e0      	ANDI R30,LOW(0x20)
0000c5 f481      	BRNE _0x26
         ;     201 	{
         ;     202 	if(cnt_md2<10)
0000c6 91a0 0176 	LDS  R26,_cnt_md2
0000c8 30aa      	CPI  R26,LOW(0xA)
0000c9 f458      	BRSH _0x27
         ;     203 		{
         ;     204 		cnt_md2++;
0000ca 91e0 0176 	LDS  R30,_cnt_md2
0000cc 5fef      	SUBI R30,-LOW(1)
0000cd 93e0 0176 	STS  _cnt_md2,R30
         ;     205 		if(cnt_md2==10) bMD2=1;
0000cf 91a0 0176 	LDS  R26,_cnt_md2
0000d1 30aa      	CPI  R26,LOW(0xA)
0000d2 f411      	BRNE _0x28
0000d3 9468      	SET
0000d4 f833      	BLD  R3,3
         ;     206 		}
          _0x28:
         ;     207 
         ;     208 	}
          _0x27:
         ;     209 else
0000d5 c00b      	RJMP _0x29
          _0x26:
         ;     210 	{
         ;     211 	if(cnt_md2)
0000d6 91e0 0176 	LDS  R30,_cnt_md2
0000d8 30e0      	CPI  R30,0
0000d9 f039      	BREQ _0x2A
         ;     212 		{
         ;     213 		cnt_md2--;
0000da 50e1      	SUBI R30,LOW(1)
0000db 93e0 0176 	STS  _cnt_md2,R30
         ;     214 		if(cnt_md2==0) bMD2=0;
0000dd 30e0      	CPI  R30,0
0000de f411      	BRNE _0x2B
0000df 94e8      	CLT
0000e0 f833      	BLD  R3,3
         ;     215 		}
          _0x2B:
         ;     216 
         ;     217 	}
          _0x2A:
          _0x29:
         ;     218 
         ;     219 if(!(in_word&(1<<BD1)))
0000e1 91e0 016f 	LDS  R30,_in_word
0000e3 78e0      	ANDI R30,LOW(0x80)
0000e4 f481      	BRNE _0x2C
         ;     220 	{
         ;     221 	if(cnt_bd1<10)
0000e5 91a0 0177 	LDS  R26,_cnt_bd1
0000e7 30aa      	CPI  R26,LOW(0xA)
0000e8 f458      	BRSH _0x2D
         ;     222 		{
         ;     223 		cnt_bd1++;
0000e9 91e0 0177 	LDS  R30,_cnt_bd1
0000eb 5fef      	SUBI R30,-LOW(1)
0000ec 93e0 0177 	STS  _cnt_bd1,R30
         ;     224 		if(cnt_bd1==10) bBD1=1;
0000ee 91a0 0177 	LDS  R26,_cnt_bd1
0000f0 30aa      	CPI  R26,LOW(0xA)
0000f1 f411      	BRNE _0x2E
0000f2 9468      	SET
0000f3 f834      	BLD  R3,4
         ;     225 		}
          _0x2E:
         ;     226 
         ;     227 	}
          _0x2D:
         ;     228 else
0000f4 c00b      	RJMP _0x2F
          _0x2C:
         ;     229 	{
         ;     230 	if(cnt_bd1)
0000f5 91e0 0177 	LDS  R30,_cnt_bd1
0000f7 30e0      	CPI  R30,0
0000f8 f039      	BREQ _0x30
         ;     231 		{
         ;     232 		cnt_bd1--;
0000f9 50e1      	SUBI R30,LOW(1)
0000fa 93e0 0177 	STS  _cnt_bd1,R30
         ;     233 		if(cnt_bd1==0) bBD1=0;
0000fc 30e0      	CPI  R30,0
0000fd f411      	BRNE _0x31
0000fe 94e8      	CLT
0000ff f834      	BLD  R3,4
         ;     234 		}
          _0x31:
         ;     235 
         ;     236 	}
          _0x30:
          _0x2F:
         ;     237 
         ;     238 if(!(in_word&(1<<BD2)))
000100 91e0 016f 	LDS  R30,_in_word
000102 71e0      	ANDI R30,LOW(0x10)
000103 f481      	BRNE _0x32
         ;     239 	{
         ;     240 	if(cnt_bd2<10)
000104 91a0 0178 	LDS  R26,_cnt_bd2
000106 30aa      	CPI  R26,LOW(0xA)
000107 f458      	BRSH _0x33
         ;     241 		{
         ;     242 		cnt_bd2++;
000108 91e0 0178 	LDS  R30,_cnt_bd2
00010a 5fef      	SUBI R30,-LOW(1)
00010b 93e0 0178 	STS  _cnt_bd2,R30
         ;     243 		if(cnt_bd2==10) bBD2=1;
00010d 91a0 0178 	LDS  R26,_cnt_bd2
00010f 30aa      	CPI  R26,LOW(0xA)
000110 f411      	BRNE _0x34
000111 9468      	SET
000112 f835      	BLD  R3,5
         ;     244 		}
          _0x34:
         ;     245 
         ;     246 	}
          _0x33:
         ;     247 else
000113 c00b      	RJMP _0x35
          _0x32:
         ;     248 	{
         ;     249 	if(cnt_bd2)
000114 91e0 0178 	LDS  R30,_cnt_bd2
000116 30e0      	CPI  R30,0
000117 f039      	BREQ _0x36
         ;     250 		{
         ;     251 		cnt_bd2--;
000118 50e1      	SUBI R30,LOW(1)
000119 93e0 0178 	STS  _cnt_bd2,R30
         ;     252 		if(cnt_bd2==0) bBD2=0;
00011b 30e0      	CPI  R30,0
00011c f411      	BRNE _0x37
00011d 94e8      	CLT
00011e f835      	BLD  R3,5
         ;     253 		}
          _0x37:
         ;     254 
         ;     255 	}
          _0x36:
          _0x35:
         ;     256 
         ;     257 if(!(in_word&(1<<DM)))
00011f 91e0 016f 	LDS  R30,_in_word
000121 70e2      	ANDI R30,LOW(0x2)
000122 f481      	BRNE _0x38
         ;     258 	{
         ;     259 	if(cnt_dm<5)
000123 91a0 0179 	LDS  R26,_cnt_dm
000125 30a5      	CPI  R26,LOW(0x5)
000126 f458      	BRSH _0x39
         ;     260 		{
         ;     261 		cnt_dm++;
000127 91e0 0179 	LDS  R30,_cnt_dm
000129 5fef      	SUBI R30,-LOW(1)
00012a 93e0 0179 	STS  _cnt_dm,R30
         ;     262 		if(cnt_dm==5) bDM=1;
00012c 91a0 0179 	LDS  R26,_cnt_dm
00012e 30a5      	CPI  R26,LOW(0x5)
00012f f411      	BRNE _0x3A
000130 9468      	SET
000131 f836      	BLD  R3,6
         ;     263 		}
          _0x3A:
         ;     264 	}
          _0x39:
         ;     265 else
000132 c00b      	RJMP _0x3B
          _0x38:
         ;     266 	{
         ;     267 	if(cnt_dm)
000133 91e0 0179 	LDS  R30,_cnt_dm
000135 30e0      	CPI  R30,0
000136 f039      	BREQ _0x3C
         ;     268 		{
         ;     269 		cnt_dm--;
000137 50e1      	SUBI R30,LOW(1)
000138 93e0 0179 	STS  _cnt_dm,R30
         ;     270 		if(cnt_dm==0) bDM=0;
00013a 30e0      	CPI  R30,0
00013b f411      	BRNE _0x3D
00013c 94e8      	CLT
00013d f836      	BLD  R3,6
         ;     271 		}
          _0x3D:
         ;     272 	}
          _0x3C:
          _0x3B:
         ;     273 
         ;     274 if(!(in_word&(1<<START)))
00013e 91e0 016f 	LDS  R30,_in_word
000140 70e1      	ANDI R30,LOW(0x1)
000141 f4a9      	BRNE _0x3E
         ;     275 	{
         ;     276 	if(cnt_start<10)
000142 91a0 017a 	LDS  R26,_cnt_start
000144 30aa      	CPI  R26,LOW(0xA)
000145 f480      	BRSH _0x3F
         ;     277 		{
         ;     278 		cnt_start++;
000146 91e0 017a 	LDS  R30,_cnt_start
000148 5fef      	SUBI R30,-LOW(1)
000149 93e0 017a 	STS  _cnt_start,R30
         ;     279 		if(cnt_start==10) 
00014b 91a0 017a 	LDS  R26,_cnt_start
00014d 30aa      	CPI  R26,LOW(0xA)
00014e f439      	BRNE _0x40
         ;     280 			{
         ;     281 			bSTART=1;
00014f 9468      	SET
000150 f837      	BLD  R3,7
         ;     282 			main_loop_cmd==cmdSTART;
000151 91a0 0183 	LDS  R26,_main_loop_cmd
000153 e0e1      	LDI  R30,LOW(1)
000154 940e 09a1 	CALL __EQB12
         ;     283 			}
         ;     284 		}
          _0x40:
         ;     285 	}
          _0x3F:
         ;     286 else
000156 c00b      	RJMP _0x41
          _0x3E:
         ;     287 	{
         ;     288 	if(cnt_start)
000157 91e0 017a 	LDS  R30,_cnt_start
000159 30e0      	CPI  R30,0
00015a f039      	BREQ _0x42
         ;     289 		{
         ;     290 		cnt_start--;
00015b 50e1      	SUBI R30,LOW(1)
00015c 93e0 017a 	STS  _cnt_start,R30
         ;     291 		if(cnt_start==0) bSTART=0;
00015e 30e0      	CPI  R30,0
00015f f411      	BRNE _0x43
000160 94e8      	CLT
000161 f837      	BLD  R3,7
         ;     292 		}
          _0x43:
         ;     293 	} 
          _0x42:
          _0x41:
         ;     294 
         ;     295 if(!(in_word&(1<<STOP)))
000162 91e0 016f 	LDS  R30,_in_word
000164 70e4      	ANDI R30,LOW(0x4)
000165 f481      	BRNE _0x44
         ;     296 	{
         ;     297 	if(cnt_stop<10)
000166 91a0 017b 	LDS  R26,_cnt_stop
000168 30aa      	CPI  R26,LOW(0xA)
000169 f458      	BRSH _0x45
         ;     298 		{
         ;     299 		cnt_stop++;
00016a 91e0 017b 	LDS  R30,_cnt_stop
00016c 5fef      	SUBI R30,-LOW(1)
00016d 93e0 017b 	STS  _cnt_stop,R30
         ;     300 		if(cnt_stop==10) bSTOP=1;
00016f 91a0 017b 	LDS  R26,_cnt_stop
000171 30aa      	CPI  R26,LOW(0xA)
000172 f411      	BRNE _0x46
000173 9468      	SET
000174 f840      	BLD  R4,0
         ;     301 		}
          _0x46:
         ;     302 	}
          _0x45:
         ;     303 else
000175 c00b      	RJMP _0x47
          _0x44:
         ;     304 	{
         ;     305 	if(cnt_stop)
000176 91e0 017b 	LDS  R30,_cnt_stop
000178 30e0      	CPI  R30,0
000179 f039      	BREQ _0x48
         ;     306 		{
         ;     307 		cnt_stop--;
00017a 50e1      	SUBI R30,LOW(1)
00017b 93e0 017b 	STS  _cnt_stop,R30
         ;     308 		if(cnt_stop==0) bSTOP=0;
00017d 30e0      	CPI  R30,0
00017e f411      	BRNE _0x49
00017f 94e8      	CLT
000180 f840      	BLD  R4,0
         ;     309 		}
          _0x49:
         ;     310 	} 
          _0x48:
          _0x47:
         ;     311 } 
000181 9508      	RET
         ;     312 
         ;     313 //-----------------------------------------------
         ;     314 void main_loop_hndl(void)
         ;     315 {
          _main_loop_hndl:
         ;     316 if(main_loop_cmd==cmdSTART)
000182 91a0 0183 	LDS  R26,_main_loop_cmd
000184 30a1      	CPI  R26,LOW(0x1)
000185 f5d1      	BRNE _0x4A
         ;     317 	{
         ;     318 	orient_cmd=cmdSTOP;
000186 940e 08f5 	CALL SUBOPT_0x1
         ;     319 	napoln_cmd=cmdSTOP;
         ;     320 	payka_cmd=cmdSTOP;
         ;     321 	main_loop_cmd=cmdOFF; 
000188 93e0 0183 	STS  _main_loop_cmd,R30
         ;     322 	
         ;     323 	if(ee_prog==EE_PROG_ONLY_ORIENT)
00018a e0a5      	LDI  R26,LOW(_ee_prog)
00018b e0b0      	LDI  R27,HIGH(_ee_prog)
00018c 940e 09d7 	CALL __EEPROMRDW
00018e 30e1      	CPI  R30,LOW(0x1)
00018f e0a0      	LDI  R26,HIGH(0x1)
000190 07fa      	CPC  R31,R26
000191 f421      	BRNE _0x4B
         ;     324 		{
         ;     325 		orient_cmd=cmdSTART;
000192 e0e1      	LDI  R30,LOW(1)
000193 93e0 0182 	STS  _orient_cmd,R30
         ;     326 		}  
         ;     327 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
000195 c029      	RJMP _0x4C
          _0x4B:
000196 e0a5      	LDI  R26,LOW(_ee_prog)
000197 e0b0      	LDI  R27,HIGH(_ee_prog)
000198 940e 09d7 	CALL __EEPROMRDW
00019a 30e2      	CPI  R30,LOW(0x2)
00019b e0a0      	LDI  R26,HIGH(0x2)
00019c 07fa      	CPC  R31,R26
00019d f421      	BRNE _0x4D
         ;     328 		{
         ;     329 		napoln_cmd=cmdSTART;
00019e e0e1      	LDI  R30,LOW(1)
00019f 93e0 0181 	STS  _napoln_cmd,R30
         ;     330 		}   
         ;     331 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
0001a1 c01d      	RJMP _0x4E
          _0x4D:
0001a2 e0a5      	LDI  R26,LOW(_ee_prog)
0001a3 e0b0      	LDI  R27,HIGH(_ee_prog)
0001a4 940e 09d7 	CALL __EEPROMRDW
0001a6 30e3      	CPI  R30,LOW(0x3)
0001a7 e0a0      	LDI  R26,HIGH(0x3)
0001a8 07fa      	CPC  R31,R26
0001a9 f421      	BRNE _0x4F
         ;     332 		{
         ;     333 		payka_cmd=cmdSTART;
0001aa e0e1      	LDI  R30,LOW(1)
0001ab 93e0 0180 	STS  _payka_cmd,R30
         ;     334 		}
         ;     335 	else if((ee_prog==EE_PROG_ONLY_MAIN_LOOP)||(ee_prog==EE_PROG_FULL))
0001ad c011      	RJMP _0x50
          _0x4F:
0001ae e0a5      	LDI  R26,LOW(_ee_prog)
0001af e0b0      	LDI  R27,HIGH(_ee_prog)
0001b0 940e 09d7 	CALL __EEPROMRDW
0001b2 30e4      	CPI  R30,LOW(0x4)
0001b3 e0a0      	LDI  R26,HIGH(0x4)
0001b4 07fa      	CPC  R31,R26
0001b5 f031      	BREQ _0x52
0001b6 e0a5      	LDI  R26,LOW(_ee_prog)
0001b7 e0b0      	LDI  R27,HIGH(_ee_prog)
0001b8 940e 09d7 	CALL __EEPROMRDW
0001ba 9730      	SBIW R30,0
0001bb f419      	BRNE _0x51
          _0x52:
         ;     336 		{
         ;     337 		main_loop_step=s1;
0001bc e0e1      	LDI  R30,LOW(1)
0001bd 940e 08fe 	CALL SUBOPT_0x2
         ;     338 		main_loop_cnt_del=20;
         ;     339 		}						
         ;     340 
         ;     341 	}                      
          _0x51:
          _0x50:
          _0x4E:
          _0x4C:
         ;     342 else if(main_loop_cmd==cmdSTOP)
0001bf c008      	RJMP _0x54
          _0x4A:
0001c0 91a0 0183 	LDS  R26,_main_loop_cmd
0001c2 30a2      	CPI  R26,LOW(0x2)
0001c3 f421      	BRNE _0x55
         ;     343 	{
         ;     344 	orient_cmd=cmdSTOP;
0001c4 940e 08f5 	CALL SUBOPT_0x1
         ;     345 	napoln_cmd=cmdSTOP;
         ;     346 	payka_cmd=cmdSTOP;
         ;     347 	main_loop_step=sOFF;
0001c6 93e0 017f 	STS  _main_loop_step,R30
         ;     348 	}
         ;     349 
         ;     350 if(main_loop_step==sOFF)
          _0x55:
          _0x54:
0001c8 91e0 017f 	LDS  R30,_main_loop_step
0001ca 30e0      	CPI  R30,0
0001cb f429      	BRNE _0x56
         ;     351 	{
         ;     352 	bPP1=0;
0001cc 94e8      	CLT
0001cd f841      	BLD  R4,1
         ;     353 	bPP2=0;              
0001ce 94e8      	CLT
0001cf f842      	BLD  R4,2
         ;     354 	}
         ;     355 else if(main_loop_step==s1)
0001d0 c06b      	RJMP _0x57
          _0x56:
0001d1 91a0 017f 	LDS  R26,_main_loop_step
0001d3 30a1      	CPI  R26,LOW(0x1)
0001d4 f459      	BRNE _0x58
         ;     356 	{
         ;     357 	bPP1=1;
0001d5 9468      	SET
0001d6 f841      	BLD  R4,1
         ;     358 	bPP2=0;              
0001d7 94e8      	CLT
0001d8 f842      	BLD  R4,2
         ;     359 	main_loop_cnt_del--;
0001d9 940e 0907 	CALL SUBOPT_0x3
         ;     360 	if(main_loop_cnt_del==0)
0001db f419      	BRNE _0x59
         ;     361 		{
         ;     362 		main_loop_step=s2;
0001dc e0e2      	LDI  R30,LOW(2)
0001dd 93e0 017f 	STS  _main_loop_step,R30
         ;     363 		}
         ;     364 	}
          _0x59:
         ;     365 else if(main_loop_step==s2)
0001df c05c      	RJMP _0x5A
          _0x58:
0001e0 91a0 017f 	LDS  R26,_main_loop_step
0001e2 30a2      	CPI  R26,LOW(0x2)
0001e3 f451      	BRNE _0x5B
         ;     366 	{
         ;     367 	bPP1=1;
0001e4 9468      	SET
0001e5 f841      	BLD  R4,1
         ;     368 	bPP2=1;              
0001e6 9468      	SET
0001e7 f842      	BLD  R4,2
         ;     369 	if(bMD1)
0001e8 fe32      	SBRS R3,2
0001e9 c003      	RJMP _0x5C
         ;     370 		{
         ;     371 		main_loop_step=s3;
0001ea e0e3      	LDI  R30,LOW(3)
0001eb 940e 08fe 	CALL SUBOPT_0x2
         ;     372 		main_loop_cnt_del=20;
         ;     373 		}
         ;     374 	} 
          _0x5C:
         ;     375 else if(main_loop_step==s3)
0001ed c04e      	RJMP _0x5D
          _0x5B:
0001ee 91a0 017f 	LDS  R26,_main_loop_step
0001f0 30a3      	CPI  R26,LOW(0x3)
0001f1 f571      	BRNE _0x5E
         ;     376 	{
         ;     377 	bPP1=0;
0001f2 94e8      	CLT
0001f3 f841      	BLD  R4,1
         ;     378 	bPP2=1;              
0001f4 9468      	SET
0001f5 f842      	BLD  R4,2
         ;     379 	main_loop_cnt_del--;
0001f6 940e 0907 	CALL SUBOPT_0x3
         ;     380 	if(main_loop_cnt_del==0)
0001f8 f531      	BRNE _0x5F
         ;     381 		{
         ;     382 		if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
0001f9 e0a5      	LDI  R26,LOW(_ee_prog)
0001fa e0b0      	LDI  R27,HIGH(_ee_prog)
0001fb 940e 09d7 	CALL __EEPROMRDW
0001fd 30e4      	CPI  R30,LOW(0x4)
0001fe e0a0      	LDI  R26,HIGH(0x4)
0001ff 07fa      	CPC  R31,R26
000200 f471      	BRNE _0x60
         ;     383 			{
         ;     384 			if(ee_loop_mode==elmAUTO)main_loop_cmd=cmdSTART;
000201 e0a0      	LDI  R26,LOW(_ee_loop_mode)
000202 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
000203 940e 09db 	CALL __EEPROMRDB
000205 35e5      	CPI  R30,LOW(0x55)
000206 f421      	BRNE _0x61
000207 e0e1      	LDI  R30,LOW(1)
000208 93e0 0183 	STS  _main_loop_cmd,R30
         ;     385 			else main_loop_step=sOFF;
00020a c003      	RJMP _0x62
          _0x61:
00020b e0e0      	LDI  R30,LOW(0)
00020c 93e0 017f 	STS  _main_loop_step,R30
          _0x62:
         ;     386 			}
         ;     387 		else if(ee_prog==EE_PROG_FULL)
00020e c010      	RJMP _0x63
          _0x60:
00020f e0a5      	LDI  R26,LOW(_ee_prog)
000210 e0b0      	LDI  R27,HIGH(_ee_prog)
000211 940e 09d7 	CALL __EEPROMRDW
000213 9730      	SBIW R30,0
000214 f451      	BRNE _0x64
         ;     388 			{
         ;     389 			orient_cmd=cmdSTART;
000215 e0e1      	LDI  R30,LOW(1)
000216 93e0 0182 	STS  _orient_cmd,R30
         ;     390 			napoln_cmd=cmdSTART;
000218 93e0 0181 	STS  _napoln_cmd,R30
         ;     391 			payka_cmd=cmdSTART;
00021a 93e0 0180 	STS  _payka_cmd,R30
         ;     392 			main_loop_step=s4;
00021c e0e4      	LDI  R30,LOW(4)
00021d 93e0 017f 	STS  _main_loop_step,R30
         ;     393 			}
         ;     394 		}
          _0x64:
          _0x63:
         ;     395 	}				        
          _0x5F:
         ;     396 else if(main_loop_step==s4)
00021f c01c      	RJMP _0x65
          _0x5E:
000220 91a0 017f 	LDS  R26,_main_loop_step
000222 30a4      	CPI  R26,LOW(0x4)
000223 f4c1      	BRNE _0x66
         ;     397 	{
         ;     398 	bPP1=0;
000224 94e8      	CLT
000225 f841      	BLD  R4,1
         ;     399 	bPP2=0;                    
000226 94e8      	CLT
000227 f842      	BLD  R4,2
         ;     400 	if(bORIENT_COMPLETE && bNAPOLN_COMPLETE && bPAYKA_COMPLETE)
000228 fe53      	SBRS R5,3
000229 c004      	RJMP _0x68
00022a fe52      	SBRS R5,2
00022b c002      	RJMP _0x68
00022c fc51      	SBRC R5,1
00022d c001      	RJMP _0x69
          _0x68:
00022e c00d      	RJMP _0x67
          _0x69:
         ;     401 		{
         ;     402 		if(ee_loop_mode==elmAUTO)main_loop_cmd=cmdSTART;
00022f e0a0      	LDI  R26,LOW(_ee_loop_mode)
000230 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
000231 940e 09db 	CALL __EEPROMRDB
000233 35e5      	CPI  R30,LOW(0x55)
000234 f421      	BRNE _0x6A
000235 e0e1      	LDI  R30,LOW(1)
000236 93e0 0183 	STS  _main_loop_cmd,R30
         ;     403 		else main_loop_step=sOFF;
000238 c003      	RJMP _0x6B
          _0x6A:
000239 e0e0      	LDI  R30,LOW(0)
00023a 93e0 017f 	STS  _main_loop_step,R30
          _0x6B:
         ;     404 		}
         ;     405 	
         ;     406 	}	
          _0x67:
         ;     407 	 
         ;     408 }
          _0x66:
          _0x65:
          _0x5D:
          _0x5A:
          _0x57:
00023c 9508      	RET
         ;     409 
         ;     410 //-----------------------------------------------
         ;     411 void payka_hndl(void)
         ;     412 {
          _payka_hndl:
         ;     413 if(payka_cmd==cmdSTART)
00023d 91a0 0180 	LDS  R26,_payka_cmd
00023f 30a1      	CPI  R26,LOW(0x1)
000240 f479      	BRNE _0x6C
         ;     414 	{
         ;     415 	payka_step=s1;
000241 e0e1      	LDI  R30,LOW(1)
000242 93e0 017c 	STS  _payka_step,R30
         ;     416 	payka_cnt_del=ee_temp2*10;
000244 e0a3      	LDI  R26,LOW(_ee_temp2)
000245 e0b0      	LDI  R27,HIGH(_ee_temp2)
000246 940e 09d7 	CALL __EEPROMRDW
000248 940e 0912 	CALL SUBOPT_0x4
         ;     417 	bPAYKA_COMPLETE=0;
00024a 94e8      	CLT
00024b f851      	BLD  R5,1
         ;     418 	payka_cmd=cmdOFF;
00024c e0e0      	LDI  R30,LOW(0)
00024d 93e0 0180 	STS  _payka_cmd,R30
         ;     419 	}                      
         ;     420 else if(payka_cmd==cmdSTOP)
00024f c009      	RJMP _0x6D
          _0x6C:
000250 91a0 0180 	LDS  R26,_payka_cmd
000252 30a2      	CPI  R26,LOW(0x2)
000253 f429      	BRNE _0x6E
         ;     421 	{
         ;     422 	payka_step=sOFF;
000254 e0e0      	LDI  R30,LOW(0)
000255 93e0 017c 	STS  _payka_step,R30
         ;     423 	payka_cmd=cmdOFF;
000257 93e0 0180 	STS  _payka_cmd,R30
         ;     424 	} 
         ;     425 		
         ;     426 if(payka_step==sOFF)
          _0x6E:
          _0x6D:
000259 91e0 017c 	LDS  R30,_payka_step
00025b 30e0      	CPI  R30,0
00025c f429      	BRNE _0x6F
         ;     427 	{
         ;     428 	bPP6=0;
00025d 94e8      	CLT
00025e f846      	BLD  R4,6
         ;     429 	bPP7=0;
00025f 94e8      	CLT
000260 f847      	BLD  R4,7
         ;     430 	}      
         ;     431 else if(payka_step==s1)
000261 c03a      	RJMP _0x70
          _0x6F:
000262 91a0 017c 	LDS  R26,_payka_step
000264 30a1      	CPI  R26,LOW(0x1)
000265 f489      	BRNE _0x71
         ;     432 	{
         ;     433 	bPP6=1;
000266 9468      	SET
000267 f846      	BLD  R4,6
         ;     434 	bPP7=0;
000268 94e8      	CLT
000269 f847      	BLD  R4,7
         ;     435 	payka_cnt_del--;
00026a 940e 091b 	CALL SUBOPT_0x5
         ;     436 	if(payka_cnt_del==0)
00026c f449      	BRNE _0x72
         ;     437 		{
         ;     438 		payka_step=s2;
00026d e0e2      	LDI  R30,LOW(2)
00026e 93e0 017c 	STS  _payka_step,R30
         ;     439 		payka_cnt_del=ee_temp3*10;
000270 e0a7      	LDI  R26,LOW(_ee_temp3)
000271 e0b0      	LDI  R27,HIGH(_ee_temp3)
000272 940e 09d7 	CALL __EEPROMRDW
000274 940e 0912 	CALL SUBOPT_0x4
         ;     440 		}                	
         ;     441 	}	
          _0x72:
         ;     442 else if(payka_step==s2)
000276 c025      	RJMP _0x73
          _0x71:
000277 91a0 017c 	LDS  R26,_payka_step
000279 30a2      	CPI  R26,LOW(0x2)
00027a f489      	BRNE _0x74
         ;     443 	{
         ;     444 	bPP6=0;
00027b 94e8      	CLT
00027c f846      	BLD  R4,6
         ;     445 	bPP7=0;
00027d 94e8      	CLT
00027e f847      	BLD  R4,7
         ;     446 	payka_cnt_del--;
00027f 940e 091b 	CALL SUBOPT_0x5
         ;     447 	if(payka_cnt_del==0)
000281 f449      	BRNE _0x75
         ;     448 		{
         ;     449 		payka_step=s3;
000282 e0e3      	LDI  R30,LOW(3)
000283 93e0 017c 	STS  _payka_step,R30
         ;     450 		payka_cnt_del=ee_temp4*10;
000285 e0a9      	LDI  R26,LOW(_ee_temp4)
000286 e0b0      	LDI  R27,HIGH(_ee_temp4)
000287 940e 09d7 	CALL __EEPROMRDW
000289 940e 0912 	CALL SUBOPT_0x4
         ;     451 		}                	
         ;     452 	}		  
          _0x75:
         ;     453 else if(payka_step==s3)
00028b c010      	RJMP _0x76
          _0x74:
00028c 91a0 017c 	LDS  R26,_payka_step
00028e 30a3      	CPI  R26,LOW(0x3)
00028f f461      	BRNE _0x77
         ;     454 	{
         ;     455 	bPP6=0;
000290 94e8      	CLT
000291 f846      	BLD  R4,6
         ;     456 	bPP7=1;
000292 9468      	SET
000293 f847      	BLD  R4,7
         ;     457 	payka_cnt_del--;
000294 940e 091b 	CALL SUBOPT_0x5
         ;     458 	if(payka_cnt_del==0)
000296 f429      	BRNE _0x78
         ;     459 		{
         ;     460 		payka_step=sOFF;
000297 e0e0      	LDI  R30,LOW(0)
000298 93e0 017c 	STS  _payka_step,R30
         ;     461 		bPAYKA_COMPLETE=1;
00029a 9468      	SET
00029b f851      	BLD  R5,1
         ;     462 		}                	
         ;     463 	}			
          _0x78:
         ;     464 }
          _0x77:
          _0x76:
          _0x73:
          _0x70:
00029c 9508      	RET
         ;     465 
         ;     466 //-----------------------------------------------
         ;     467 void napoln_hndl(void)
         ;     468 {
          _napoln_hndl:
         ;     469 if(napoln_cmd==cmdSTART)
00029d 91a0 0181 	LDS  R26,_napoln_cmd
00029f 30a1      	CPI  R26,LOW(0x1)
0002a0 f471      	BRNE _0x79
         ;     470 	{
         ;     471 	napoln_step=s1;
0002a1 e0e1      	LDI  R30,LOW(1)
0002a2 93e0 017d 	STS  _napoln_step,R30
         ;     472 	napoln_cnt_del=0;
0002a4 e0e0      	LDI  R30,0
0002a5 93e0 0186 	STS  _napoln_cnt_del,R30
0002a7 93e0 0187 	STS  _napoln_cnt_del+1,R30
         ;     473 	bNAPOLN_COMPLETE=0;
0002a9 94e8      	CLT
0002aa f852      	BLD  R5,2
         ;     474 	
         ;     475 	napoln_cmd=cmdOFF;
0002ab e0e0      	LDI  R30,LOW(0)
0002ac 93e0 0181 	STS  _napoln_cmd,R30
         ;     476 	}                      
         ;     477 else if(napoln_cmd==cmdSTOP)
0002ae c009      	RJMP _0x7A
          _0x79:
0002af 91a0 0181 	LDS  R26,_napoln_cmd
0002b1 30a2      	CPI  R26,LOW(0x2)
0002b2 f429      	BRNE _0x7B
         ;     478 	{
         ;     479 	napoln_step=sOFF;
0002b3 e0e0      	LDI  R30,LOW(0)
0002b4 93e0 017d 	STS  _napoln_step,R30
         ;     480 	napoln_cmd=cmdOFF;
0002b6 93e0 0181 	STS  _napoln_cmd,R30
         ;     481 	} 
         ;     482 		
         ;     483 if(napoln_step==sOFF)
          _0x7B:
          _0x7A:
0002b8 91e0 017d 	LDS  R30,_napoln_step
0002ba 30e0      	CPI  R30,0
0002bb f429      	BRNE _0x7C
         ;     484 	{
         ;     485 	bPP4=0;
0002bc 94e8      	CLT
0002bd f844      	BLD  R4,4
         ;     486 	bPP5=0;
0002be 94e8      	CLT
0002bf f845      	BLD  R4,5
         ;     487 	}      
         ;     488 else if(napoln_step==s1)
0002c0 c040      	RJMP _0x7D
          _0x7C:
0002c1 91a0 017d 	LDS  R26,_napoln_step
0002c3 30a1      	CPI  R26,LOW(0x1)
0002c4 f4b1      	BRNE _0x7E
         ;     489 	{
         ;     490 	bPP4=0;
0002c5 94e8      	CLT
0002c6 f844      	BLD  R4,4
         ;     491 	bPP5=0;
0002c7 94e8      	CLT
0002c8 f845      	BLD  R4,5
         ;     492 	if(bBD2)
0002c9 fe35      	SBRS R3,5
0002ca c00f      	RJMP _0x7F
         ;     493 		{
         ;     494 		napoln_step=s2;
0002cb e0e2      	LDI  R30,LOW(2)
0002cc 93e0 017d 	STS  _napoln_step,R30
         ;     495 		napoln_cnt_del=ee_temp1*10;
0002ce e0a1      	LDI  R26,LOW(_ee_temp1)
0002cf e0b0      	LDI  R27,HIGH(_ee_temp1)
0002d0 940e 09d7 	CALL __EEPROMRDW
0002d2 e0aa      	LDI  R26,LOW(10)
0002d3 e0b0      	LDI  R27,HIGH(10)
0002d4 940e 09ae 	CALL __MULW12
0002d6 93e0 0186 	STS  _napoln_cnt_del,R30
0002d8 93f0 0187 	STS  _napoln_cnt_del+1,R31
         ;     496 		}
         ;     497 	}	
          _0x7F:
         ;     498 else if(napoln_step==s2)
0002da c026      	RJMP _0x80
          _0x7E:
0002db 91a0 017d 	LDS  R26,_napoln_step
0002dd 30a2      	CPI  R26,LOW(0x2)
0002de f499      	BRNE _0x81
         ;     499 	{
         ;     500 	bPP4=1;
0002df 9468      	SET
0002e0 f844      	BLD  R4,4
         ;     501 	bPP5=0;
0002e1 94e8      	CLT
0002e2 f845      	BLD  R4,5
         ;     502 	napoln_cnt_del--;
0002e3 91e0 0186 	LDS  R30,_napoln_cnt_del
0002e5 91f0 0187 	LDS  R31,_napoln_cnt_del+1
0002e7 9731      	SBIW R30,1
0002e8 93e0 0186 	STS  _napoln_cnt_del,R30
0002ea 93f0 0187 	STS  _napoln_cnt_del+1,R31
         ;     503 	if(napoln_cnt_del==0)
0002ec 9730      	SBIW R30,0
0002ed f419      	BRNE _0x82
         ;     504 		{
         ;     505 		napoln_step=s3;
0002ee e0e3      	LDI  R30,LOW(3)
0002ef 93e0 017d 	STS  _napoln_step,R30
         ;     506 		}                	
         ;     507 	}		  
          _0x82:
         ;     508 else if(napoln_step==s3)
0002f1 c00f      	RJMP _0x83
          _0x81:
0002f2 91a0 017d 	LDS  R26,_napoln_step
0002f4 30a3      	CPI  R26,LOW(0x3)
0002f5 f459      	BRNE _0x84
         ;     509 	{
         ;     510 	bPP4=1;
0002f6 9468      	SET
0002f7 f844      	BLD  R4,4
         ;     511 	bPP5=1;
0002f8 9468      	SET
0002f9 f845      	BLD  R4,5
         ;     512 	//napoln_cnt_del--;
         ;     513 	if(bMD2)
0002fa fe33      	SBRS R3,3
0002fb c005      	RJMP _0x85
         ;     514 		{
         ;     515 		napoln_step=sOFF;
0002fc e0e0      	LDI  R30,LOW(0)
0002fd 93e0 017d 	STS  _napoln_step,R30
         ;     516 		bNAPOLN_COMPLETE=1;
0002ff 9468      	SET
000300 f852      	BLD  R5,2
         ;     517 		}                	
         ;     518 	}			
          _0x85:
         ;     519 }
          _0x84:
          _0x83:
          _0x80:
          _0x7D:
000301 9508      	RET
         ;     520 
         ;     521 //-----------------------------------------------
         ;     522 void orient_hndl(void)
         ;     523 {
          _orient_hndl:
         ;     524 if(orient_cmd==cmdSTART)
000302 91a0 0182 	LDS  R26,_orient_cmd
000304 30a1      	CPI  R26,LOW(0x1)
000305 f471      	BRNE _0x86
         ;     525 	{
         ;     526 	orient_step=s1;
000306 e0e1      	LDI  R30,LOW(1)
000307 93e0 017e 	STS  _orient_step,R30
         ;     527 	orient_cnt_del=0;
000309 e0e0      	LDI  R30,0
00030a 93e0 0188 	STS  _orient_cnt_del,R30
00030c 93e0 0189 	STS  _orient_cnt_del+1,R30
         ;     528 	bORIENT_COMPLETE=0;
00030e 94e8      	CLT
00030f f853      	BLD  R5,3
         ;     529 	
         ;     530 	orient_cmd=cmdOFF;
000310 e0e0      	LDI  R30,LOW(0)
000311 93e0 0182 	STS  _orient_cmd,R30
         ;     531 	}                      
         ;     532 else if(orient_cmd==cmdSTOP)
000313 c009      	RJMP _0x87
          _0x86:
000314 91a0 0182 	LDS  R26,_orient_cmd
000316 30a2      	CPI  R26,LOW(0x2)
000317 f429      	BRNE _0x88
         ;     533 	{
         ;     534 	orient_step=sOFF;
000318 e0e0      	LDI  R30,LOW(0)
000319 93e0 017e 	STS  _orient_step,R30
         ;     535 	orient_cmd=cmdOFF;
00031b 93e0 0182 	STS  _orient_cmd,R30
         ;     536 	} 
         ;     537 		
         ;     538 if(orient_step==sOFF)
          _0x88:
          _0x87:
00031d 91e0 017e 	LDS  R30,_orient_step
00031f 30e0      	CPI  R30,0
000320 f419      	BRNE _0x89
         ;     539 	{
         ;     540 	bPP3=0;
000321 94e8      	CLT
000322 f843      	BLD  R4,3
         ;     541 	} 
         ;     542 	
         ;     543 else if(orient_step==s1)
000323 c025      	RJMP _0x8A
          _0x89:
000324 91a0 017e 	LDS  R26,_orient_step
000326 30a1      	CPI  R26,LOW(0x1)
000327 f441      	BRNE _0x8B
         ;     544 	{
         ;     545 	bPP3=0;
000328 94e8      	CLT
000329 f843      	BLD  R4,3
         ;     546 	if(bBD1)
00032a fe34      	SBRS R3,4
00032b c003      	RJMP _0x8C
         ;     547 		{
         ;     548 		orient_step=s2;
00032c e0e2      	LDI  R30,LOW(2)
00032d 93e0 017e 	STS  _orient_step,R30
         ;     549 		}
         ;     550 	}	
          _0x8C:
         ;     551 		     
         ;     552 else if(orient_step==s2)
00032f c019      	RJMP _0x8D
          _0x8B:
000330 91a0 017e 	LDS  R26,_orient_step
000332 30a2      	CPI  R26,LOW(0x2)
000333 f441      	BRNE _0x8E
         ;     553 	{
         ;     554 	bPP3=1;
000334 9468      	SET
000335 f843      	BLD  R4,3
         ;     555 	if(!bDM)
000336 fc36      	SBRC R3,6
000337 c003      	RJMP _0x8F
         ;     556 		{
         ;     557 		orient_step=s3;
000338 e0e3      	LDI  R30,LOW(3)
000339 93e0 017e 	STS  _orient_step,R30
         ;     558 		}
         ;     559 	}	
          _0x8F:
         ;     560 else if(orient_step==s3)
00033b c00d      	RJMP _0x90
          _0x8E:
00033c 91a0 017e 	LDS  R26,_orient_step
00033e 30a3      	CPI  R26,LOW(0x3)
00033f f449      	BRNE _0x91
         ;     561 	{
         ;     562 	bPP3=1;
000340 9468      	SET
000341 f843      	BLD  R4,3
         ;     563 	if(bDM)
000342 fe36      	SBRS R3,6
000343 c005      	RJMP _0x92
         ;     564 		{
         ;     565 		orient_step=sOFF;
000344 e0e0      	LDI  R30,LOW(0)
000345 93e0 017e 	STS  _orient_step,R30
         ;     566 		bORIENT_COMPLETE=1;
000347 9468      	SET
000348 f853      	BLD  R5,3
         ;     567 		}               	
         ;     568 	}		  
          _0x92:
         ;     569 }
          _0x91:
          _0x90:
          _0x8D:
          _0x8A:
000349 9508      	RET
         ;     570 
         ;     571 //-----------------------------------------------
         ;     572 void out_drv(void)
         ;     573 {
          _out_drv:
         ;     574 char temp=0x80;
         ;     575 DDRB=0xFF;
00034a 930a      	ST   -Y,R16
         ;	temp -> R16
00034b e800      	LDI  R16,128
00034c efef      	LDI  R30,LOW(255)
00034d bbe7      	OUT  0x17,R30
         ;     576 
         ;     577 if(bPP1) temp|=(1<<PP1);
00034e fe41      	SBRS R4,1
00034f c001      	RJMP _0x93
000350 6400      	ORI  R16,LOW(64)
         ;     578 if(bPP2) temp|=(1<<PP2);
          _0x93:
000351 fe42      	SBRS R4,2
000352 c001      	RJMP _0x94
000353 6800      	ORI  R16,LOW(128)
         ;     579 if(bPP3) temp|=(1<<PP3);
          _0x94:
000354 fe43      	SBRS R4,3
000355 c001      	RJMP _0x95
000356 6200      	ORI  R16,LOW(32)
         ;     580 if(bPP4) temp|=(1<<PP4);
          _0x95:
000357 fe44      	SBRS R4,4
000358 c001      	RJMP _0x96
000359 6100      	ORI  R16,LOW(16)
         ;     581 if(bPP5) temp|=(1<<PP5);
          _0x96:
00035a fe45      	SBRS R4,5
00035b c001      	RJMP _0x97
00035c 6008      	ORI  R16,LOW(8)
         ;     582 if(bPP6) temp|=(1<<PP6);
          _0x97:
00035d fe46      	SBRS R4,6
00035e c001      	RJMP _0x98
00035f 6004      	ORI  R16,LOW(4)
         ;     583 if(bPP7) temp|=(1<<PP7);
          _0x98:
000360 fe47      	SBRS R4,7
000361 c001      	RJMP _0x99
000362 6002      	ORI  R16,LOW(2)
         ;     584 
         ;     585 PORTB=(PORTB|0xfE)&~temp;
          _0x99:
000363 b3e8      	IN   R30,0x18
000364 6fee      	ORI  R30,LOW(0xFE)
000365 93ef      	PUSH R30
000366 2fe0      	MOV  R30,R16
000367 95e0      	COM  R30
000368 91af      	POP  R26
000369 23ea      	AND  R30,R26
00036a bbe8      	OUT  0x18,R30
         ;     586 //PORTB=0x55;
         ;     587 }
00036b c131      	RJMP _0x18B
         ;     588 
         ;     589 //-----------------------------------------------
         ;     590 void step_contr(void)
         ;     591 {
          _step_contr:
         ;     592 char temp=0;
         ;     593 DDRB=0xFF;
00036c 930a      	ST   -Y,R16
         ;	temp -> R16
00036d e000      	LDI  R16,0
00036e efef      	LDI  R30,LOW(255)
00036f bbe7      	OUT  0x17,R30
         ;     594 
         ;     595 if(step==sOFF)goto step_contr_end;
000370 20dd      	TST  R13
000371 f409      	BRNE _0x9A
000372 c127      	RJMP _0x9B
         ;     596 
         ;     597 else if(prog==p1)
          _0x9A:
000373 e0e1      	LDI  R30,LOW(1)
000374 15ec      	CP   R30,R12
000375 f011      	BREQ PC+3
000376 940c 03d1 	JMP _0x9D
         ;     598 	{
         ;     599 	if(step==s1)    //жесть
000378 15ed      	CP   R30,R13
000379 f421      	BRNE _0x9E
         ;     600 		{
         ;     601 		temp|=(1<<PP1);
00037a 6400      	ORI  R16,LOW(64)
         ;     602           if(!bMD1)goto step_contr_end;
00037b fe32      	SBRS R3,2
00037c c11d      	RJMP _0x9B
         ;     603 
         ;     604 			//if(ee_vacuum_mode==evmOFF)
         ;     605 				{
         ;     606 				//goto lbl_0001;
         ;     607 				}
         ;     608 			//else step=s2;
         ;     609 		}
         ;     610 
         ;     611 	else if(step==s2)
00037d c052      	RJMP _0xA0
          _0x9E:
00037e e0e2      	LDI  R30,LOW(2)
00037f 15ed      	CP   R30,R13
000380 f421      	BRNE _0xA1
         ;     612 		{
         ;     613 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
000381 6e00      	ORI  R16,LOW(224)
         ;     614  //         if(!bVR)goto step_contr_end;
         ;     615 lbl_0001:
         ;     616 
         ;     617           step=s100;
000382 940e 0926 	CALL SUBOPT_0x6
         ;     618 		cnt_del=40;
         ;     619           }
         ;     620 	else if(step==s100)
000384 c04b      	RJMP _0xA3
          _0xA1:
000385 e1e3      	LDI  R30,LOW(19)
000386 15ed      	CP   R30,R13
000387 f439      	BRNE _0xA4
         ;     621 		{
         ;     622 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000388 6f00      	ORI  R16,LOW(240)
         ;     623           cnt_del--;
000389 940e 092f 	CALL SUBOPT_0x7
         ;     624           if(cnt_del==0)
00038b f411      	BRNE _0xA5
         ;     625 			{
         ;     626           	step=s3;
00038c 940e 093a 	CALL SUBOPT_0x8
         ;     627           	cnt_del=50;
         ;     628 			}
         ;     629 		}
          _0xA5:
         ;     630 
         ;     631 	else if(step==s3)
00038e c041      	RJMP _0xA6
          _0xA4:
00038f e0e3      	LDI  R30,LOW(3)
000390 15ed      	CP   R30,R13
000391 f439      	BRNE _0xA7
         ;     632 		{
         ;     633 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000392 6f00      	ORI  R16,LOW(240)
         ;     634           cnt_del--;
000393 940e 092f 	CALL SUBOPT_0x7
         ;     635           if(cnt_del==0)
000395 f411      	BRNE _0xA8
         ;     636 			{
         ;     637           	step=s4;
000396 e0e4      	LDI  R30,LOW(4)
000397 2ede      	MOV  R13,R30
         ;     638 			}
         ;     639 		}
          _0xA8:
         ;     640 	else if(step==s4)
000398 c037      	RJMP _0xA9
          _0xA7:
000399 e0e4      	LDI  R30,LOW(4)
00039a 15ed      	CP   R30,R13
00039b f431      	BRNE _0xAA
         ;     641 		{
         ;     642 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5);
00039c 6f08      	ORI  R16,LOW(248)
         ;     643           if(!bMD2)goto step_contr_end;
00039d fe33      	SBRS R3,3
00039e c0fb      	RJMP _0x9B
         ;     644           step=s5;
00039f 940e 0943 	CALL SUBOPT_0x9
         ;     645           cnt_del=20;
         ;     646 		}
         ;     647 	else if(step==s5)
0003a1 c02e      	RJMP _0xAC
          _0xAA:
0003a2 e0e5      	LDI  R30,LOW(5)
0003a3 15ed      	CP   R30,R13
0003a4 f439      	BRNE _0xAD
         ;     648 		{
         ;     649 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003a5 6f00      	ORI  R16,LOW(240)
         ;     650           cnt_del--;
0003a6 940e 092f 	CALL SUBOPT_0x7
         ;     651           if(cnt_del==0)
0003a8 f411      	BRNE _0xAE
         ;     652 			{
         ;     653           	step=s6;
0003a9 e0e6      	LDI  R30,LOW(6)
0003aa 2ede      	MOV  R13,R30
         ;     654 			}
         ;     655           }
          _0xAE:
         ;     656 	else if(step==s6)
0003ab c024      	RJMP _0xAF
          _0xAD:
0003ac e0e6      	LDI  R30,LOW(6)
0003ad 15ed      	CP   R30,R13
0003ae f421      	BRNE _0xB0
         ;     657 		{
         ;     658 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP7);
0003af 6f02      	ORI  R16,LOW(242)
         ;     659  //         if(!bMD3)goto step_contr_end;
         ;     660           step=s7;
0003b0 940e 094c 	CALL SUBOPT_0xA
         ;     661           cnt_del=20;
         ;     662 		}
         ;     663 
         ;     664 	else if(step==s7)
0003b2 c01d      	RJMP _0xB1
          _0xB0:
0003b3 e0e7      	LDI  R30,LOW(7)
0003b4 15ed      	CP   R30,R13
0003b5 f439      	BRNE _0xB2
         ;     665 		{
         ;     666 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003b6 6f00      	ORI  R16,LOW(240)
         ;     667           cnt_del--;
0003b7 940e 092f 	CALL SUBOPT_0x7
         ;     668           if(cnt_del==0)
0003b9 f411      	BRNE _0xB3
         ;     669 			{
         ;     670           	step=s8;
0003ba e0e8      	LDI  R30,LOW(8)
0003bb 2ede      	MOV  R13,R30
         ;     671           	//cnt_del=ee_delay[prog,0]*10U;;
         ;     672 			}
         ;     673           }
          _0xB3:
         ;     674 	else if(step==s8)
0003bc c013      	RJMP _0xB4
          _0xB2:
0003bd e0e8      	LDI  R30,LOW(8)
0003be 15ed      	CP   R30,R13
0003bf f441      	BRNE _0xB5
         ;     675 		{
         ;     676 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
0003c0 6d00      	ORI  R16,LOW(208)
         ;     677           cnt_del--;
0003c1 940e 092f 	CALL SUBOPT_0x7
         ;     678           if(cnt_del==0)
0003c3 f419      	BRNE _0xB6
         ;     679 			{
         ;     680           	step=s9;
0003c4 e0e9      	LDI  R30,LOW(9)
0003c5 940e 0955 	CALL SUBOPT_0xB
         ;     681           	cnt_del=20;
         ;     682 			}
         ;     683           }
          _0xB6:
         ;     684 	else if(step==s9)
0003c7 c008      	RJMP _0xB7
          _0xB5:
0003c8 e0e9      	LDI  R30,LOW(9)
0003c9 15ed      	CP   R30,R13
0003ca f429      	BRNE _0xB8
         ;     685 		{
         ;     686 		temp|=(1<<PP1);
0003cb 6400      	ORI  R16,LOW(64)
         ;     687           cnt_del--;
0003cc 940e 092f 	CALL SUBOPT_0x7
         ;     688           if(cnt_del==0)
0003ce f409      	BRNE _0xB9
         ;     689 			{
         ;     690           	step=sOFF;
0003cf 24dd      	CLR  R13
         ;     691           	}
         ;     692           }
          _0xB9:
         ;     693 	}
          _0xB8:
          _0xB7:
          _0xB4:
          _0xB1:
          _0xAF:
          _0xAC:
          _0xA9:
          _0xA6:
          _0xA3:
          _0xA0:
         ;     694 
         ;     695 else if(prog==p2)  //ско
0003d0 c0c9      	RJMP _0xBA
          _0x9D:
0003d1 e0e2      	LDI  R30,LOW(2)
0003d2 15ec      	CP   R30,R12
0003d3 f011      	BREQ PC+3
0003d4 940c 041e 	JMP _0xBB
         ;     696 	{
         ;     697 	if(step==s1)
0003d6 e0e1      	LDI  R30,LOW(1)
0003d7 15ed      	CP   R30,R13
0003d8 f421      	BRNE _0xBC
         ;     698 		{
         ;     699 		temp|=(1<<PP1);
0003d9 6400      	ORI  R16,LOW(64)
         ;     700           if(!bMD1)goto step_contr_end;
0003da fe32      	SBRS R3,2
0003db c0be      	RJMP _0x9B
         ;     701 
         ;     702 		/*	if(ee_vacuum_mode==evmOFF)
         ;     703 				{
         ;     704 				goto lbl_0002;
         ;     705 				}
         ;     706 			else step=s2; */
         ;     707 
         ;     708           //step=s2;
         ;     709 		}
         ;     710 
         ;     711 	else if(step==s2)
0003dc c040      	RJMP _0xBE
          _0xBC:
0003dd e0e2      	LDI  R30,LOW(2)
0003de 15ed      	CP   R30,R13
0003df f421      	BRNE _0xBF
         ;     712 		{
         ;     713 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
0003e0 6e00      	ORI  R16,LOW(224)
         ;     714  //         if(!bVR)goto step_contr_end;
         ;     715 
         ;     716 lbl_0002:
         ;     717           step=s100;
0003e1 940e 0926 	CALL SUBOPT_0x6
         ;     718 		cnt_del=40;
         ;     719           }
         ;     720 	else if(step==s100)
0003e3 c039      	RJMP _0xC1
          _0xBF:
0003e4 e1e3      	LDI  R30,LOW(19)
0003e5 15ed      	CP   R30,R13
0003e6 f439      	BRNE _0xC2
         ;     721 		{
         ;     722 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003e7 6f00      	ORI  R16,LOW(240)
         ;     723           cnt_del--;
0003e8 940e 092f 	CALL SUBOPT_0x7
         ;     724           if(cnt_del==0)
0003ea f411      	BRNE _0xC3
         ;     725 			{
         ;     726           	step=s3;
0003eb 940e 093a 	CALL SUBOPT_0x8
         ;     727           	cnt_del=50;
         ;     728 			}
         ;     729 		}
          _0xC3:
         ;     730 	else if(step==s3)
0003ed c02f      	RJMP _0xC4
          _0xC2:
0003ee e0e3      	LDI  R30,LOW(3)
0003ef 15ed      	CP   R30,R13
0003f0 f439      	BRNE _0xC5
         ;     731 		{
         ;     732 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003f1 6f00      	ORI  R16,LOW(240)
         ;     733           cnt_del--;
0003f2 940e 092f 	CALL SUBOPT_0x7
         ;     734           if(cnt_del==0)
0003f4 f411      	BRNE _0xC6
         ;     735 			{
         ;     736           	step=s4;
0003f5 e0e4      	LDI  R30,LOW(4)
0003f6 2ede      	MOV  R13,R30
         ;     737 			}
         ;     738 		}
          _0xC6:
         ;     739 	else if(step==s4)
0003f7 c025      	RJMP _0xC7
          _0xC5:
0003f8 e0e4      	LDI  R30,LOW(4)
0003f9 15ed      	CP   R30,R13
0003fa f431      	BRNE _0xC8
         ;     740 		{
         ;     741 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5);
0003fb 6f08      	ORI  R16,LOW(248)
         ;     742           if(!bMD2)goto step_contr_end;
0003fc fe33      	SBRS R3,3
0003fd c09c      	RJMP _0x9B
         ;     743           step=s5;
0003fe 940e 0943 	CALL SUBOPT_0x9
         ;     744           cnt_del=20;
         ;     745 		}
         ;     746 	else if(step==s5)
000400 c01c      	RJMP _0xCA
          _0xC8:
000401 e0e5      	LDI  R30,LOW(5)
000402 15ed      	CP   R30,R13
000403 f439      	BRNE _0xCB
         ;     747 		{
         ;     748 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000404 6f00      	ORI  R16,LOW(240)
         ;     749           cnt_del--;
000405 940e 092f 	CALL SUBOPT_0x7
         ;     750           if(cnt_del==0)
000407 f411      	BRNE _0xCC
         ;     751 			{
         ;     752           	step=s6;
000408 e0e6      	LDI  R30,LOW(6)
000409 2ede      	MOV  R13,R30
         ;     753           	//cnt_del=ee_delay[prog,0]*10U;
         ;     754 			}
         ;     755           }
          _0xCC:
         ;     756 	else if(step==s6)
00040a c012      	RJMP _0xCD
          _0xCB:
00040b e0e6      	LDI  R30,LOW(6)
00040c 15ed      	CP   R30,R13
00040d f439      	BRNE _0xCE
         ;     757 		{
         ;     758 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
00040e 6d00      	ORI  R16,LOW(208)
         ;     759           cnt_del--;
00040f 940e 092f 	CALL SUBOPT_0x7
         ;     760           if(cnt_del==0)
000411 f411      	BRNE _0xCF
         ;     761 			{
         ;     762           	step=s7;
000412 940e 094c 	CALL SUBOPT_0xA
         ;     763           	cnt_del=20;
         ;     764 			}
         ;     765           }
          _0xCF:
         ;     766 	else if(step==s7)
000414 c008      	RJMP _0xD0
          _0xCE:
000415 e0e7      	LDI  R30,LOW(7)
000416 15ed      	CP   R30,R13
000417 f429      	BRNE _0xD1
         ;     767 		{
         ;     768 		temp|=(1<<PP1);
000418 6400      	ORI  R16,LOW(64)
         ;     769           cnt_del--;
000419 940e 092f 	CALL SUBOPT_0x7
         ;     770           if(cnt_del==0)
00041b f409      	BRNE _0xD2
         ;     771 			{
         ;     772           	step=sOFF;
00041c 24dd      	CLR  R13
         ;     773           	}
         ;     774           }
          _0xD2:
         ;     775 	}
          _0xD1:
          _0xD0:
          _0xCD:
          _0xCA:
          _0xC7:
          _0xC4:
          _0xC1:
          _0xBE:
         ;     776 
         ;     777 else if(prog==p3)   //твист
00041d c07c      	RJMP _0xD3
          _0xBB:
00041e e0e3      	LDI  R30,LOW(3)
00041f 15ec      	CP   R30,R12
000420 f5e1      	BRNE _0xD4
         ;     778 	{
         ;     779 	if(step==s1)
000421 e0e1      	LDI  R30,LOW(1)
000422 15ed      	CP   R30,R13
000423 f421      	BRNE _0xD5
         ;     780 		{
         ;     781 		temp|=(1<<PP1);
000424 6400      	ORI  R16,LOW(64)
         ;     782           if(!bMD1)goto step_contr_end;
000425 fe32      	SBRS R3,2
000426 c073      	RJMP _0x9B
         ;     783 
         ;     784 		/*	if(ee_vacuum_mode==evmOFF)
         ;     785 				{
         ;     786 				goto lbl_0003;
         ;     787 				}
         ;     788 			else step=s2;*/
         ;     789 
         ;     790           //step=s2;
         ;     791 		}
         ;     792 
         ;     793 	else if(step==s2)
000427 c034      	RJMP _0xD7
          _0xD5:
000428 e0e2      	LDI  R30,LOW(2)
000429 15ed      	CP   R30,R13
00042a f451      	BRNE _0xD8
         ;     794 		{
         ;     795 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
00042b 6e00      	ORI  R16,LOW(224)
         ;     796  //         if(!bVR)goto step_contr_end;
         ;     797 lbl_0003:
         ;     798           cnt_del=50;
00042c e3e2      	LDI  R30,LOW(50)
00042d e0f0      	LDI  R31,HIGH(50)
00042e 93e0 0173 	STS  _cnt_del,R30
000430 93f0 0174 	STS  _cnt_del+1,R31
         ;     799 		step=s3;
000432 e0e3      	LDI  R30,LOW(3)
000433 2ede      	MOV  R13,R30
         ;     800 		}
         ;     801 
         ;     802 
         ;     803 	else	if(step==s3)
000434 c027      	RJMP _0xDA
          _0xD8:
000435 e0e3      	LDI  R30,LOW(3)
000436 15ed      	CP   R30,R13
000437 f439      	BRNE _0xDB
         ;     804 		{
         ;     805 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000438 6f00      	ORI  R16,LOW(240)
         ;     806 		cnt_del--;
000439 940e 092f 	CALL SUBOPT_0x7
         ;     807 		if(cnt_del==0)
00043b f411      	BRNE _0xDC
         ;     808 			{
         ;     809 			//cnt_del=ee_delay[prog,0]*10U;
         ;     810 			step=s4;
00043c e0e4      	LDI  R30,LOW(4)
00043d 2ede      	MOV  R13,R30
         ;     811 			}
         ;     812           }
          _0xDC:
         ;     813 	else if(step==s4)
00043e c01d      	RJMP _0xDD
          _0xDB:
00043f e0e4      	LDI  R30,LOW(4)
000440 15ed      	CP   R30,R13
000441 f439      	BRNE _0xDE
         ;     814 		{
         ;     815 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5)|(1<<PP7);
000442 6f0a      	ORI  R16,LOW(250)
         ;     816 		cnt_del--;
000443 940e 092f 	CALL SUBOPT_0x7
         ;     817  		if(cnt_del==0)
000445 f411      	BRNE _0xDF
         ;     818 			{
         ;     819 		    //	cnt_del=ee_delay[prog,1]*10U;
         ;     820 			step=s5;
000446 e0e5      	LDI  R30,LOW(5)
000447 2ede      	MOV  R13,R30
         ;     821 			}
         ;     822 		}
          _0xDF:
         ;     823 
         ;     824 	else if(step==s5)
000448 c013      	RJMP _0xE0
          _0xDE:
000449 e0e5      	LDI  R30,LOW(5)
00044a 15ed      	CP   R30,R13
00044b f441      	BRNE _0xE1
         ;     825 		{
         ;     826 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP5)|(1<<PP7);
00044c 6c0a      	ORI  R16,LOW(202)
         ;     827 		cnt_del--;
00044d 940e 092f 	CALL SUBOPT_0x7
         ;     828 		if(cnt_del==0)
00044f f419      	BRNE _0xE2
         ;     829 			{
         ;     830 			step=s6;
000450 e0e6      	LDI  R30,LOW(6)
000451 940e 0955 	CALL SUBOPT_0xB
         ;     831 			cnt_del=20;
         ;     832 			}
         ;     833 		}
          _0xE2:
         ;     834 
         ;     835 	else if(step==s6)
000453 c008      	RJMP _0xE3
          _0xE1:
000454 e0e6      	LDI  R30,LOW(6)
000455 15ed      	CP   R30,R13
000456 f429      	BRNE _0xE4
         ;     836 		{
         ;     837 		temp|=(1<<PP1);
000457 6400      	ORI  R16,LOW(64)
         ;     838   		cnt_del--;
000458 940e 092f 	CALL SUBOPT_0x7
         ;     839 		if(cnt_del==0)
00045a f409      	BRNE _0xE5
         ;     840 			{
         ;     841 			step=sOFF;
00045b 24dd      	CLR  R13
         ;     842 			}
         ;     843 		}
          _0xE5:
         ;     844 
         ;     845 	}
          _0xE4:
          _0xE3:
          _0xE0:
          _0xDD:
          _0xDA:
          _0xD7:
         ;     846 
         ;     847 else if(prog==p4)      //замок
00045c c03d      	RJMP _0xE6
          _0xD4:
00045d e0e4      	LDI  R30,LOW(4)
00045e 15ec      	CP   R30,R12
00045f f5d1      	BRNE _0xE7
         ;     848 	{
         ;     849 	if(step==s1)
000460 e0e1      	LDI  R30,LOW(1)
000461 15ed      	CP   R30,R13
000462 f421      	BRNE _0xE8
         ;     850 		{
         ;     851 		temp|=(1<<PP1);
000463 6400      	ORI  R16,LOW(64)
         ;     852           if(!bMD1)goto step_contr_end;
000464 fe32      	SBRS R3,2
000465 c034      	RJMP _0x9B
         ;     853 
         ;     854 		 /*	if(ee_vacuum_mode==evmOFF)
         ;     855 				{
         ;     856 				goto lbl_0004;
         ;     857 				}
         ;     858 			else step=s2;*/
         ;     859           //step=s2;
         ;     860 		}
         ;     861 
         ;     862 	else if(step==s2)
000466 c033      	RJMP _0xEA
          _0xE8:
000467 e0e2      	LDI  R30,LOW(2)
000468 15ed      	CP   R30,R13
000469 f421      	BRNE _0xEB
         ;     863 		{
         ;     864 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
00046a 6e00      	ORI  R16,LOW(224)
         ;     865  //         if(!bVR)goto step_contr_end;
         ;     866 lbl_0004:
         ;     867           step=s3;
00046b 940e 093a 	CALL SUBOPT_0x8
         ;     868 		cnt_del=50;
         ;     869           }
         ;     870 
         ;     871 	else if(step==s3)
00046d c02c      	RJMP _0xED
          _0xEB:
00046e e0e3      	LDI  R30,LOW(3)
00046f 15ed      	CP   R30,R13
000470 f439      	BRNE _0xEE
         ;     872 		{
         ;     873 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000471 6f00      	ORI  R16,LOW(240)
         ;     874           cnt_del--;
000472 940e 092f 	CALL SUBOPT_0x7
         ;     875           if(cnt_del==0)
000474 f411      	BRNE _0xEF
         ;     876 			{
         ;     877           	step=s4;
000475 e0e4      	LDI  R30,LOW(4)
000476 2ede      	MOV  R13,R30
         ;     878 			//cnt_del=ee_delay[prog,0]*10U;
         ;     879 			}
         ;     880           }
          _0xEF:
         ;     881 
         ;     882    	else if(step==s4)
000477 c022      	RJMP _0xF0
          _0xEE:
000478 e0e4      	LDI  R30,LOW(4)
000479 15ed      	CP   R30,R13
00047a f469      	BRNE _0xF1
         ;     883 		{
         ;     884 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
00047b 6d00      	ORI  R16,LOW(208)
         ;     885 		cnt_del--;
00047c 940e 092f 	CALL SUBOPT_0x7
         ;     886 		if(cnt_del==0)
00047e f441      	BRNE _0xF2
         ;     887 			{
         ;     888 			step=s5;
00047f e0e5      	LDI  R30,LOW(5)
000480 2ede      	MOV  R13,R30
         ;     889 			cnt_del=30;
000481 e1ee      	LDI  R30,LOW(30)
000482 e0f0      	LDI  R31,HIGH(30)
000483 93e0 0173 	STS  _cnt_del,R30
000485 93f0 0174 	STS  _cnt_del+1,R31
         ;     890 			}
         ;     891 		}
          _0xF2:
         ;     892 
         ;     893 	else if(step==s5)
000487 c012      	RJMP _0xF3
          _0xF1:
000488 e0e5      	LDI  R30,LOW(5)
000489 15ed      	CP   R30,R13
00048a f439      	BRNE _0xF4
         ;     894 		{
         ;     895 		temp|=(1<<PP1)|(1<<PP4);
00048b 6500      	ORI  R16,LOW(80)
         ;     896 		cnt_del--;
00048c 940e 092f 	CALL SUBOPT_0x7
         ;     897 		if(cnt_del==0)
00048e f411      	BRNE _0xF5
         ;     898 			{
         ;     899 			step=s6;
00048f e0e6      	LDI  R30,LOW(6)
000490 2ede      	MOV  R13,R30
         ;     900 			//cnt_del=ee_delay[prog,1]*10U;
         ;     901 			}
         ;     902 		}
          _0xF5:
         ;     903 
         ;     904 	else if(step==s6)
000491 c008      	RJMP _0xF6
          _0xF4:
000492 e0e6      	LDI  R30,LOW(6)
000493 15ed      	CP   R30,R13
000494 f429      	BRNE _0xF7
         ;     905 		{
         ;     906 		temp|=(1<<PP4);
000495 6100      	ORI  R16,LOW(16)
         ;     907 		cnt_del--;
000496 940e 092f 	CALL SUBOPT_0x7
         ;     908 		if(cnt_del==0)
000498 f409      	BRNE _0xF8
         ;     909 			{
         ;     910 			step=sOFF;
000499 24dd      	CLR  R13
         ;     911 			}
         ;     912 		}
          _0xF8:
         ;     913 
         ;     914 	}
          _0xF7:
          _0xF6:
          _0xF3:
          _0xF0:
          _0xED:
          _0xEA:
         ;     915 	
         ;     916 step_contr_end:
          _0xE7:
          _0xE6:
          _0xD3:
          _0xBA:
          _0x9B:
         ;     917 
         ;     918 //if(ee_vacuum_mode==evmOFF) temp&=~(1<<PP3);
         ;     919 
         ;     920 PORTB=~temp;
00049a 2fe0      	MOV  R30,R16
00049b 95e0      	COM  R30
00049c bbe8      	OUT  0x18,R30
         ;     921 //PORTB=0x55;
         ;     922 }
          _0x18B:
00049d 9109      	LD   R16,Y+
00049e 9508      	RET
         ;     923 
         ;     924 
         ;     925 //-----------------------------------------------
         ;     926 void bin2bcd_int(unsigned int in)
         ;     927 {
          _bin2bcd_int:
         ;     928 char i;
         ;     929 for(i=3;i>0;i--)
00049f 930a      	ST   -Y,R16
         ;	in -> Y+1
         ;	i -> R16
0004a0 e003      	LDI  R16,LOW(3)
          _0xFA:
0004a1 e0e0      	LDI  R30,LOW(0)
0004a2 17e0      	CP   R30,R16
0004a3 f4c8      	BRSH _0xFB
         ;     930 	{
         ;     931 	dig[i]=in%10;
0004a4 2fe0      	MOV  R30,R16
0004a5 e0f0      	LDI  R31,0
0004a6 59eb      	SUBI R30,LOW(-_dig)
0004a7 4ffe      	SBCI R31,HIGH(-_dig)
0004a8 93ff      	PUSH R31
0004a9 93ef      	PUSH R30
0004aa 81a9      	LDD  R26,Y+1
0004ab 81ba      	LDD  R27,Y+1+1
0004ac e0ea      	LDI  R30,LOW(10)
0004ad e0f0      	LDI  R31,HIGH(10)
0004ae 940e 09c6 	CALL __MODW21U
0004b0 91af      	POP  R26
0004b1 91bf      	POP  R27
0004b2 93ec      	ST   X,R30
         ;     932 	in/=10;
0004b3 81a9      	LDD  R26,Y+1
0004b4 81ba      	LDD  R27,Y+1+1
0004b5 e0ea      	LDI  R30,LOW(10)
0004b6 e0f0      	LDI  R31,HIGH(10)
0004b7 940e 09b3 	CALL __DIVW21U
0004b9 83e9      	STD  Y+1,R30
0004ba 83fa      	STD  Y+1+1,R31
         ;     933 	}   
0004bb 5001      	SUBI R16,1
0004bc cfe4      	RJMP _0xFA
          _0xFB:
         ;     934 }
0004bd 8108      	LDD  R16,Y+0
0004be c06c      	RJMP _0x18A
         ;     935 
         ;     936 //-----------------------------------------------
         ;     937 void bcd2ind(char s)
         ;     938 {
          _bcd2ind:
         ;     939 char i;
         ;     940 bZ=1;
0004bf 930a      	ST   -Y,R16
         ;	s -> Y+1
         ;	i -> R16
0004c0 9468      	SET
0004c1 f823      	BLD  R2,3
         ;     941 for (i=0;i<5;i++)
0004c2 e000      	LDI  R16,LOW(0)
          _0xFD:
0004c3 3005      	CPI  R16,5
0004c4 f010      	BRLO PC+3
0004c5 940c 051e 	JMP _0xFE
         ;     942 	{
         ;     943 	if(bZ&&(!dig[i-1])&&(i<4))
0004c7 fe23      	SBRS R2,3
0004c8 c009      	RJMP _0x100
0004c9 940e 095d 	CALL SUBOPT_0xC
0004cb 59eb      	SUBI R30,LOW(-_dig)
0004cc 4ffe      	SBCI R31,HIGH(-_dig)
0004cd 81e0      	LD   R30,Z
0004ce 30e0      	CPI  R30,0
0004cf f411      	BRNE _0x100
0004d0 3004      	CPI  R16,4
0004d1 f008      	BRLO _0x101
          _0x100:
0004d2 c01f      	RJMP _0xFF
          _0x101:
         ;     944 		{
         ;     945 		if((4-i)>s)
0004d3 e0e4      	LDI  R30,LOW(4)
0004d4 1be0      	SUB  R30,R16
0004d5 2fae      	MOV  R26,R30
0004d6 81e9      	LDD  R30,Y+1
0004d7 17ea      	CP   R30,R26
0004d8 f460      	BRSH _0x102
         ;     946 			{
         ;     947 			ind_out[i-1]=DIGISYM[10];
0004d9 940e 095d 	CALL SUBOPT_0xC
0004db 5ae0      	SUBI R30,LOW(-_ind_out)
0004dc 4ffe      	SBCI R31,HIGH(-_ind_out)
0004dd 93ff      	PUSH R31
0004de 93ef      	PUSH R30
0004df   +  	__POINTW1FN _DIGISYM,10
0004e1 91e4      	LPM  R30,Z
0004e2 91af      	POP  R26
0004e3 91bf      	POP  R27
0004e4 c00b      	RJMP _0x18C
         ;     948 			}
         ;     949 		else ind_out[i-1]=DIGISYM[0];	
          _0x102:
0004e5 940e 095d 	CALL SUBOPT_0xC
0004e7 5ae0      	SUBI R30,LOW(-_ind_out)
0004e8 4ffe      	SBCI R31,HIGH(-_ind_out)
0004e9 93ff      	PUSH R31
0004ea 93ef      	PUSH R30
0004eb e5ea      	LDI  R30,LOW(_DIGISYM*2)
0004ec e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0004ed 91e4      	LPM  R30,Z
0004ee 91af      	POP  R26
0004ef 91bf      	POP  R27
          _0x18C:
0004f0 93ec      	ST   X,R30
         ;     950 		}
         ;     951 	else
0004f1 c01a      	RJMP _0x104
          _0xFF:
         ;     952 		{
         ;     953 		ind_out[i-1]=DIGISYM[dig[i-1]];
0004f2 940e 095d 	CALL SUBOPT_0xC
0004f4 5ae0      	SUBI R30,LOW(-_ind_out)
0004f5 4ffe      	SBCI R31,HIGH(-_ind_out)
0004f6 93ff      	PUSH R31
0004f7 93ef      	PUSH R30
0004f8 e5ea      	LDI  R30,LOW(_DIGISYM*2)
0004f9 e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0004fa 93ff      	PUSH R31
0004fb 93ef      	PUSH R30
0004fc 940e 095d 	CALL SUBOPT_0xC
0004fe 59eb      	SUBI R30,LOW(-_dig)
0004ff 4ffe      	SBCI R31,HIGH(-_dig)
000500 81e0      	LD   R30,Z
000501 91af      	POP  R26
000502 91bf      	POP  R27
000503 e0f0      	LDI  R31,0
000504 0fea      	ADD  R30,R26
000505 1ffb      	ADC  R31,R27
000506 91e4      	LPM  R30,Z
000507 91af      	POP  R26
000508 91bf      	POP  R27
000509 93ec      	ST   X,R30
         ;     954 		bZ=0;
00050a 94e8      	CLT
00050b f823      	BLD  R2,3
         ;     955 		}                   
          _0x104:
         ;     956 
         ;     957 	if(s)
00050c 81e9      	LDD  R30,Y+1
00050d 30e0      	CPI  R30,0
00050e f069      	BREQ _0x105
         ;     958 		{
         ;     959 		ind_out[3-s]&=0b01111111;
00050f 81a9      	LDD  R26,Y+1
000510 e0e3      	LDI  R30,LOW(3)
000511 1bea      	SUB  R30,R26
000512 e0f0      	LDI  R31,0
000513 5ae0      	SUBI R30,LOW(-_ind_out)
000514 4ffe      	SBCI R31,HIGH(-_ind_out)
000515 93ff      	PUSH R31
000516 93ef      	PUSH R30
000517 81e0      	LD   R30,Z
000518 77ef      	ANDI R30,0x7F
000519 91af      	POP  R26
00051a 91bf      	POP  R27
00051b 93ec      	ST   X,R30
         ;     960 		}	
         ;     961  
         ;     962 	}
          _0x105:
00051c 5f0f      	SUBI R16,-1
00051d cfa5      	RJMP _0xFD
          _0xFE:
         ;     963 }            
00051e 8108      	LDD  R16,Y+0
00051f 9622      	ADIW R28,2
000520 9508      	RET
         ;     964 //-----------------------------------------------
         ;     965 void int2ind(unsigned int in,char s)
         ;     966 {
          _int2ind:
         ;     967 bin2bcd_int(in);
000521 81e9      	LDD  R30,Y+1
000522 81fa      	LDD  R31,Y+1+1
000523 93fa      	ST   -Y,R31
000524 93ea      	ST   -Y,R30
000525 940e 049f 	CALL _bin2bcd_int
         ;     968 bcd2ind(s);
000527 81e8      	LD   R30,Y
000528 93ea      	ST   -Y,R30
000529 940e 04bf 	CALL _bcd2ind
         ;     969 
         ;     970 } 
          _0x18A:
00052b 9623      	ADIW R28,3
00052c 9508      	RET
         ;     971 
         ;     972 //-----------------------------------------------
         ;     973 void ind_hndl(void)
         ;     974 {
          _ind_hndl:
         ;     975 if(ind==iMn)
00052d 20ee      	TST  R14
00052e f5d1      	BRNE _0x106
         ;     976 	{
         ;     977 	if(ee_prog==EE_PROG_FULL)
00052f e0a5      	LDI  R26,LOW(_ee_prog)
000530 e0b0      	LDI  R27,HIGH(_ee_prog)
000531 940e 09d7 	CALL __EEPROMRDW
000533 9730      	SBIW R30,0
000534 f199      	BREQ _0x108
         ;     978 		{
         ;     979 		}
         ;     980 	else if(ee_prog==EE_PROG_ONLY_ORIENT)
000535 e0a5      	LDI  R26,LOW(_ee_prog)
000536 e0b0      	LDI  R27,HIGH(_ee_prog)
000537 940e 09d7 	CALL __EEPROMRDW
000539 30e1      	CPI  R30,LOW(0x1)
00053a e0a0      	LDI  R26,HIGH(0x1)
00053b 07fa      	CPC  R31,R26
00053c f429      	BRNE _0x109
         ;     981 		{
         ;     982 		int2ind(orient_step,0);
00053d 91e0 017e 	LDS  R30,_orient_step
00053f 940e 0961 	CALL SUBOPT_0xD
         ;     983 		}
         ;     984 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
000541 c026      	RJMP _0x10A
          _0x109:
000542 e0a5      	LDI  R26,LOW(_ee_prog)
000543 e0b0      	LDI  R27,HIGH(_ee_prog)
000544 940e 09d7 	CALL __EEPROMRDW
000546 30e2      	CPI  R30,LOW(0x2)
000547 e0a0      	LDI  R26,HIGH(0x2)
000548 07fa      	CPC  R31,R26
000549 f429      	BRNE _0x10B
         ;     985 		{
         ;     986 		int2ind(napoln_step,0);                              
00054a 91e0 017d 	LDS  R30,_napoln_step
00054c 940e 0961 	CALL SUBOPT_0xD
         ;     987 		}			                
         ;     988 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
00054e c019      	RJMP _0x10C
          _0x10B:
00054f e0a5      	LDI  R26,LOW(_ee_prog)
000550 e0b0      	LDI  R27,HIGH(_ee_prog)
000551 940e 09d7 	CALL __EEPROMRDW
000553 30e3      	CPI  R30,LOW(0x3)
000554 e0a0      	LDI  R26,HIGH(0x3)
000555 07fa      	CPC  R31,R26
000556 f429      	BRNE _0x10D
         ;     989 		{
         ;     990 		int2ind(payka_step,0);
000557 91e0 017c 	LDS  R30,_payka_step
000559 940e 0961 	CALL SUBOPT_0xD
         ;     991 		}
         ;     992 	else if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
00055b c00c      	RJMP _0x10E
          _0x10D:
00055c e0a5      	LDI  R26,LOW(_ee_prog)
00055d e0b0      	LDI  R27,HIGH(_ee_prog)
00055e 940e 09d7 	CALL __EEPROMRDW
000560 30e4      	CPI  R30,LOW(0x4)
000561 e0a0      	LDI  R26,HIGH(0x4)
000562 07fa      	CPC  R31,R26
000563 f421      	BRNE _0x10F
         ;     993 		{
         ;     994 		int2ind(main_loop_step,0);
000564 91e0 017f 	LDS  R30,_main_loop_step
000566 940e 0961 	CALL SUBOPT_0xD
         ;     995 		}			
         ;     996 	
         ;     997 	//int2ind(bDM,0);
         ;     998 	//int2ind(in_word,0);
         ;     999 	//int2ind(cnt_dm,0);
         ;    1000 	
         ;    1001 	//int2ind(bDM,0);
         ;    1002 	//int2ind(ee_delay[prog,sub_ind],1);  
         ;    1003 	//ind_out[0]=0xff;//DIGISYM[0];
         ;    1004 	//ind_out[1]=0xff;//DIGISYM[1];
         ;    1005 	//ind_out[2]=DIGISYM[2];//0xff;
         ;    1006 	//ind_out[0]=DIGISYM[7]; 
         ;    1007 
         ;    1008 	//ind_out[0]=DIGISYM[sub_ind+1];
         ;    1009 	}
          _0x10F:
          _0x10E:
          _0x10C:
          _0x10A:
          _0x108:
         ;    1010 else if(ind==iSet)
000568 c053      	RJMP _0x110
          _0x106:
000569 e0e2      	LDI  R30,LOW(2)
00056a 15ee      	CP   R30,R14
00056b f011      	BREQ PC+3
00056c 940c 05bc 	JMP _0x111
         ;    1011 	{
         ;    1012      if(sub_ind==0)int2ind(ee_prog,0);
00056e 91e0 016e 	LDS  R30,_sub_ind
000570 30e0      	CPI  R30,0
000571 f459      	BRNE _0x112
000572 e0a5      	LDI  R26,LOW(_ee_prog)
000573 e0b0      	LDI  R27,HIGH(_ee_prog)
000574 940e 09d7 	CALL __EEPROMRDW
000576 93fa      	ST   -Y,R31
000577 93ea      	ST   -Y,R30
000578 e0e0      	LDI  R30,LOW(0)
000579 93ea      	ST   -Y,R30
00057a 940e 0521 	CALL _int2ind
         ;    1013 	else if(sub_ind==1)int2ind(ee_temp1,1);
00057c c02b      	RJMP _0x113
          _0x112:
00057d 91a0 016e 	LDS  R26,_sub_ind
00057f 30a1      	CPI  R26,LOW(0x1)
000580 f439      	BRNE _0x114
000581 e0a1      	LDI  R26,LOW(_ee_temp1)
000582 e0b0      	LDI  R27,HIGH(_ee_temp1)
000583 940e 09d7 	CALL __EEPROMRDW
000585 940e 0968 	CALL SUBOPT_0xE
         ;    1014 	else if(sub_ind==2)int2ind(ee_temp2,1);
000587 c020      	RJMP _0x115
          _0x114:
000588 91a0 016e 	LDS  R26,_sub_ind
00058a 30a2      	CPI  R26,LOW(0x2)
00058b f439      	BRNE _0x116
00058c e0a3      	LDI  R26,LOW(_ee_temp2)
00058d e0b0      	LDI  R27,HIGH(_ee_temp2)
00058e 940e 09d7 	CALL __EEPROMRDW
000590 940e 0968 	CALL SUBOPT_0xE
         ;    1015 	else if(sub_ind==3)int2ind(ee_temp3,1);
000592 c015      	RJMP _0x117
          _0x116:
000593 91a0 016e 	LDS  R26,_sub_ind
000595 30a3      	CPI  R26,LOW(0x3)
000596 f439      	BRNE _0x118
000597 e0a7      	LDI  R26,LOW(_ee_temp3)
000598 e0b0      	LDI  R27,HIGH(_ee_temp3)
000599 940e 09d7 	CALL __EEPROMRDW
00059b 940e 0968 	CALL SUBOPT_0xE
         ;    1016 	else if(sub_ind==4)int2ind(ee_temp4,1);
00059d c00a      	RJMP _0x119
          _0x118:
00059e 91a0 016e 	LDS  R26,_sub_ind
0005a0 30a4      	CPI  R26,LOW(0x4)
0005a1 f431      	BRNE _0x11A
0005a2 e0a9      	LDI  R26,LOW(_ee_temp4)
0005a3 e0b0      	LDI  R27,HIGH(_ee_temp4)
0005a4 940e 09d7 	CALL __EEPROMRDW
0005a6 940e 0968 	CALL SUBOPT_0xE
         ;    1017 		
         ;    1018 	if(bFL5)ind_out[0]=DIGISYM[sub_ind+1];
          _0x11A:
          _0x119:
          _0x117:
          _0x115:
          _0x113:
0005a8 fe30      	SBRS R3,0
0005a9 c00d      	RJMP _0x11B
0005aa e5ea      	LDI  R30,LOW(_DIGISYM*2)
0005ab e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0005ac 93ff      	PUSH R31
0005ad 93ef      	PUSH R30
0005ae 91e0 016e 	LDS  R30,_sub_ind
0005b0 5fef      	SUBI R30,-LOW(1)
0005b1 91af      	POP  R26
0005b2 91bf      	POP  R27
0005b3 e0f0      	LDI  R31,0
0005b4 0fea      	ADD  R30,R26
0005b5 1ffb      	ADC  R31,R27
0005b6 c002      	RJMP _0x18D
         ;    1019 	else    ind_out[0]=DIGISYM[10];
          _0x11B:
0005b7   +  	__POINTW1FN _DIGISYM,10
          _0x18D:
0005b9 91e4      	LPM  R30,Z
0005ba 93e0 0160 	STS  _ind_out,R30
         ;    1020 	}
         ;    1021 }
          _0x111:
          _0x110:
0005bc 9508      	RET
         ;    1022 
         ;    1023 //-----------------------------------------------
         ;    1024 void led_hndl(void)
         ;    1025 {
          _led_hndl:
         ;    1026 ind_out[4]=DIGISYM[10]; 
0005bd   +  	__POINTW1FN _DIGISYM,10
0005bf 91e4      	LPM  R30,Z
0005c0   +  	__PUTB1MN _ind_out,4
         ;    1027 
         ;    1028 ind_out[4]&=~(1<<LED_POW_ON); 
0005c2   +  	__POINTW1MN _ind_out,4
0005c4 93ff      	PUSH R31
0005c5 93ef      	PUSH R30
0005c6 81e0      	LD   R30,Z
0005c7 7def      	ANDI R30,0xDF
0005c8 91af      	POP  R26
0005c9 91bf      	POP  R27
0005ca 93ec      	ST   X,R30
         ;    1029 
         ;    1030 if(step!=sOFF)
0005cb 20dd      	TST  R13
0005cc f049      	BREQ _0x11D
         ;    1031 	{
         ;    1032 	ind_out[4]&=~(1<<LED_WRK);
0005cd   +  	__POINTW1MN _ind_out,4
0005cf 93ff      	PUSH R31
0005d0 93ef      	PUSH R30
0005d1 81e0      	LD   R30,Z
0005d2 7bef      	ANDI R30,0xBF
0005d3 91af      	POP  R26
0005d4 91bf      	POP  R27
0005d5 c008      	RJMP _0x18E
         ;    1033 	}
         ;    1034 else ind_out[4]|=(1<<LED_WRK);
          _0x11D:
0005d6   +  	__POINTW1MN _ind_out,4
0005d8 93ff      	PUSH R31
0005d9 93ef      	PUSH R30
0005da 81e0      	LD   R30,Z
0005db 64e0      	ORI  R30,0x40
0005dc 91af      	POP  R26
0005dd 91bf      	POP  R27
          _0x18E:
0005de 93ec      	ST   X,R30
         ;    1035 
         ;    1036 
         ;    1037 if(step==sOFF)
0005df 20dd      	TST  R13
0005e0 f4a9      	BRNE _0x11F
         ;    1038 	{
         ;    1039  	if(bERR)
0005e1 fe31      	SBRS R3,1
0005e2 c009      	RJMP _0x120
         ;    1040 		{
         ;    1041 		ind_out[4]&=~(1<<LED_ERROR);
0005e3   +  	__POINTW1MN _ind_out,4
0005e5 93ff      	PUSH R31
0005e6 93ef      	PUSH R30
0005e7 81e0      	LD   R30,Z
0005e8 7fee      	ANDI R30,0xFE
0005e9 91af      	POP  R26
0005ea 91bf      	POP  R27
0005eb c008      	RJMP _0x18F
         ;    1042 		}
         ;    1043 	else
          _0x120:
         ;    1044 		{
         ;    1045 		ind_out[4]|=(1<<LED_ERROR);
0005ec   +  	__POINTW1MN _ind_out,4
0005ee 93ff      	PUSH R31
0005ef 93ef      	PUSH R30
0005f0 81e0      	LD   R30,Z
0005f1 60e1      	ORI  R30,1
0005f2 91af      	POP  R26
0005f3 91bf      	POP  R27
          _0x18F:
0005f4 93ec      	ST   X,R30
         ;    1046 		}
         ;    1047      }
         ;    1048 else ind_out[4]|=(1<<LED_ERROR);
0005f5 c009      	RJMP _0x122
          _0x11F:
0005f6   +  	__POINTW1MN _ind_out,4
0005f8 93ff      	PUSH R31
0005f9 93ef      	PUSH R30
0005fa 81e0      	LD   R30,Z
0005fb 60e1      	ORI  R30,1
0005fc 91af      	POP  R26
0005fd 91bf      	POP  R27
0005fe 93ec      	ST   X,R30
          _0x122:
         ;    1049 
         ;    1050 /* 	if(bMD1)
         ;    1051 		{
         ;    1052 		ind_out[4]&=~(1<<LED_ERROR);
         ;    1053 		}
         ;    1054 	else
         ;    1055 		{
         ;    1056 		ind_out[4]|=(1<<LED_ERROR);
         ;    1057 		} */
         ;    1058 
         ;    1059 //if(bERR)ind_out[4]&=~(1<<LED_ERROR);
         ;    1060 if(ee_loop_mode==elmAUTO)ind_out[4]&=~(1<<LED_LOOP_AUTO);
0005ff e0a0      	LDI  R26,LOW(_ee_loop_mode)
000600 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
000601 940e 09db 	CALL __EEPROMRDB
000603 35e5      	CPI  R30,LOW(0x55)
000604 f449      	BRNE _0x123
000605   +  	__POINTW1MN _ind_out,4
000607 93ff      	PUSH R31
000608 93ef      	PUSH R30
000609 81e0      	LD   R30,Z
00060a 77ef      	ANDI R30,0x7F
00060b 91af      	POP  R26
00060c 91bf      	POP  R27
00060d c008      	RJMP _0x190
         ;    1061 else ind_out[4]|=(1<<LED_LOOP_AUTO);
          _0x123:
00060e   +  	__POINTW1MN _ind_out,4
000610 93ff      	PUSH R31
000611 93ef      	PUSH R30
000612 81e0      	LD   R30,Z
000613 68e0      	ORI  R30,0x80
000614 91af      	POP  R26
000615 91bf      	POP  R27
          _0x190:
000616 93ec      	ST   X,R30
         ;    1062 
         ;    1063 /*if(prog==p1) ind_out[4]&=~(1<<LED_PROG1);
         ;    1064 else if(prog==p2) ind_out[4]&=~(1<<LED_PROG2);
         ;    1065 else if(prog==p3) ind_out[4]&=~(1<<LED_PROG3);
         ;    1066 else if(prog==p4) ind_out[4]&=~(1<<LED_PROG4); */
         ;    1067 
         ;    1068 /*if(ind==iPr_sel)
         ;    1069 	{
         ;    1070 	if(bFL5)ind_out[4]|=(1<<LED_PROG1)|(1<<LED_PROG2)|(1<<LED_PROG3)|(1<<LED_PROG4);
         ;    1071 	}*/ 
         ;    1072 	 
         ;    1073 /*if(ind==iVr)
         ;    1074 	{
         ;    1075 	if(bFL5)ind_out[4]|=(1<<LED_POW_ON);
         ;    1076 	} */
         ;    1077 if(orient_step!=sOFF)ind_out[4]&=~(1<<LED_ORIENT);
000617 91e0 017e 	LDS  R30,_orient_step
000619 30e0      	CPI  R30,0
00061a f049      	BREQ _0x125
00061b   +  	__POINTW1MN _ind_out,4
00061d 93ff      	PUSH R31
00061e 93ef      	PUSH R30
00061f 81e0      	LD   R30,Z
000620 7eef      	ANDI R30,0xEF
000621 91af      	POP  R26
000622 91bf      	POP  R27
000623 93ec      	ST   X,R30
         ;    1078 if(napoln_step!=sOFF)ind_out[4]&=~(1<<LED_NAPOLN);
          _0x125:
000624 91e0 017d 	LDS  R30,_napoln_step
000626 30e0      	CPI  R30,0
000627 f049      	BREQ _0x126
000628   +  	__POINTW1MN _ind_out,4
00062a 93ff      	PUSH R31
00062b 93ef      	PUSH R30
00062c 81e0      	LD   R30,Z
00062d 7feb      	ANDI R30,0xFB
00062e 91af      	POP  R26
00062f 91bf      	POP  R27
000630 93ec      	ST   X,R30
         ;    1079 if(payka_step!=sOFF)ind_out[4]&=~(1<<LED_PAYKA);
          _0x126:
000631 91e0 017c 	LDS  R30,_payka_step
000633 30e0      	CPI  R30,0
000634 f049      	BREQ _0x127
000635   +  	__POINTW1MN _ind_out,4
000637 93ff      	PUSH R31
000638 93ef      	PUSH R30
000639 81e0      	LD   R30,Z
00063a 7fe7      	ANDI R30,0XF7
00063b 91af      	POP  R26
00063c 91bf      	POP  R27
00063d 93ec      	ST   X,R30
         ;    1080 if(main_loop_step!=sOFF)ind_out[4]&=~(1<<LED_MAIN_LOOP);	
          _0x127:
00063e 91e0 017f 	LDS  R30,_main_loop_step
000640 30e0      	CPI  R30,0
000641 f049      	BREQ _0x128
000642   +  	__POINTW1MN _ind_out,4
000644 93ff      	PUSH R31
000645 93ef      	PUSH R30
000646 81e0      	LD   R30,Z
000647 7fed      	ANDI R30,0xFD
000648 91af      	POP  R26
000649 91bf      	POP  R27
00064a 93ec      	ST   X,R30
         ;    1081 }
          _0x128:
00064b 9508      	RET
         ;    1082 
         ;    1083 //-----------------------------------------------
         ;    1084 // Подпрограмма драйва до 7 кнопок одного порта, 
         ;    1085 // различает короткое и длинное нажатие,
         ;    1086 // срабатывает на отпускание кнопки, возможность
         ;    1087 // ускорения перебора при длинном нажатии...
         ;    1088 #define but_port PORTC
         ;    1089 #define but_dir  DDRC
         ;    1090 #define but_pin  PINC
         ;    1091 #define but_mask 0b01101010
         ;    1092 #define no_but   0b11111111
         ;    1093 #define but_on   5
         ;    1094 #define but_onL  20
         ;    1095 
         ;    1096 
         ;    1097 
         ;    1098 
         ;    1099 void but_drv(void)
         ;    1100 { 
          _but_drv:
         ;    1101 DDRD&=0b00000111;
00064c b3e1      	IN   R30,0x11
00064d 70e7      	ANDI R30,LOW(0x7)
00064e 940e 096e 	CALL SUBOPT_0xF
         ;    1102 PORTD|=0b11111000;
         ;    1103 
         ;    1104 but_port|=(but_mask^0xff);
000650 940e 0973 	CALL SUBOPT_0x10
         ;    1105 but_dir&=but_mask;
         ;    1106 #asm
         ;    1107 nop
000652 0000      nop
         ;    1108 nop
000653 0000      nop
         ;    1109 nop
000654 0000      nop
         ;    1110 nop
000655 0000      nop
         ;    1111 #endasm
         
         ;    1112 
         ;    1113 but_n=but_pin|but_mask; 
000656 b3e3      	IN   R30,0x13
000657 66ea      	ORI  R30,LOW(0x6A)
000658 93e0 0169 	STS  _but_n_G1,R30
         ;    1114 
         ;    1115 if((but_n==no_but)||(but_n!=but_s))
00065a 91a0 0169 	LDS  R26,_but_n_G1
00065c 3faf      	CPI  R26,LOW(0xFF)
00065d f011      	BREQ _0x12A
00065e d31b      	RCALL SUBOPT_0x11
00065f f109      	BREQ _0x129
          _0x12A:
         ;    1116  	{
         ;    1117  	speed=0;
000660 94e8      	CLT
000661 f826      	BLD  R2,6
         ;    1118    	if (((but0_cnt>=but_on)||(but1_cnt!=0))&&(!l_but))
000662 91a0 016b 	LDS  R26,_but0_cnt_G1
000664 30a5      	CPI  R26,LOW(0x5)
000665 f420      	BRSH _0x12D
000666 91a0 016c 	LDS  R26,_but1_cnt_G1
000668 30a0      	CPI  R26,LOW(0x0)
000669 f011      	BREQ _0x12F
          _0x12D:
00066a fe24      	SBRS R2,4
00066b c001      	RJMP _0x130
          _0x12F:
00066c c004      	RJMP _0x12C
          _0x130:
         ;    1119   		{
         ;    1120    	     n_but=1;
00066d 9468      	SET
00066e f825      	BLD  R2,5
         ;    1121           but=but_s;
00066f 90b0 016a 	LDS  R11,_but_s_G1
         ;    1122           }
         ;    1123    	if (but1_cnt>=but_onL_temp)
          _0x12C:
000671 d30e      	RCALL SUBOPT_0x12
000672 f018      	BRLO _0x131
         ;    1124   		{
         ;    1125    	     n_but=1;
000673 9468      	SET
000674 f825      	BLD  R2,5
         ;    1126           but=but_s&0b11111101;
000675 d310      	RCALL SUBOPT_0x13
         ;    1127           }
         ;    1128     	l_but=0;
          _0x131:
000676 94e8      	CLT
000677 f824      	BLD  R2,4
         ;    1129    	but_onL_temp=but_onL;
000678 e1e4      	LDI  R30,LOW(20)
000679 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1130     	but0_cnt=0;
00067b e0e0      	LDI  R30,LOW(0)
00067c 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1131   	but1_cnt=0;          
00067e 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1132      goto but_drv_out;
000680 c02b      	RJMP _0x132
         ;    1133   	}  
         ;    1134   	
         ;    1135 if(but_n==but_s)
          _0x129:
000681 d2f8      	RCALL SUBOPT_0x11
000682 f549      	BRNE _0x133
         ;    1136  	{
         ;    1137   	but0_cnt++;
000683 91e0 016b 	LDS  R30,_but0_cnt_G1
000685 5fef      	SUBI R30,-LOW(1)
000686 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1138   	if(but0_cnt>=but_on)
000688 91a0 016b 	LDS  R26,_but0_cnt_G1
00068a 30a5      	CPI  R26,LOW(0x5)
00068b f100      	BRLO _0x134
         ;    1139   		{
         ;    1140    		but0_cnt=0;
00068c e0e0      	LDI  R30,LOW(0)
00068d 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1141    		but1_cnt++;
00068f 91e0 016c 	LDS  R30,_but1_cnt_G1
000691 5fef      	SUBI R30,-LOW(1)
000692 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1142    		if(but1_cnt>=but_onL_temp)
000694 d2eb      	RCALL SUBOPT_0x12
000695 f0b0      	BRLO _0x135
         ;    1143    			{              
         ;    1144     			but=but_s&0b11111101;
000696 d2ef      	RCALL SUBOPT_0x13
         ;    1145     			but1_cnt=0;
000697 e0e0      	LDI  R30,LOW(0)
000698 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1146     			n_but=1;
00069a 9468      	SET
00069b f825      	BLD  R2,5
         ;    1147     			l_but=1;
00069c 9468      	SET
00069d f824      	BLD  R2,4
         ;    1148 			if(speed)
00069e fe26      	SBRS R2,6
00069f c00c      	RJMP _0x136
         ;    1149 				{
         ;    1150     				but_onL_temp=but_onL_temp>>1;
0006a0 91e0 016d 	LDS  R30,_but_onL_temp_G1
0006a2 95e6      	LSR  R30
0006a3 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1151         			if(but_onL_temp<=2) but_onL_temp=2;
0006a5 91a0 016d 	LDS  R26,_but_onL_temp_G1
0006a7 e0e2      	LDI  R30,LOW(2)
0006a8 17ea      	CP   R30,R26
0006a9 f010      	BRLO _0x137
0006aa 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1152 				}    
          _0x137:
         ;    1153    			}
          _0x136:
         ;    1154   		} 
          _0x135:
         ;    1155  	}
          _0x134:
         ;    1156 but_drv_out:
          _0x133:
          _0x132:
         ;    1157 but_s=but_n;
0006ac 91e0 0169 	LDS  R30,_but_n_G1
0006ae 93e0 016a 	STS  _but_s_G1,R30
         ;    1158 but_port|=(but_mask^0xff);
0006b0 d2c2      	RCALL SUBOPT_0x10
         ;    1159 but_dir&=but_mask;
         ;    1160 }    
0006b1 9508      	RET
         ;    1161 
         ;    1162 #define butV	239
         ;    1163 #define butV_	237
         ;    1164 #define butP	251
         ;    1165 #define butP_	249
         ;    1166 #define butR	127
         ;    1167 #define butR_	125
         ;    1168 #define butL	254
         ;    1169 #define butL_	252
         ;    1170 #define butLR	126
         ;    1171 #define butLR_	124 
         ;    1172 #define butVP_ 233
         ;    1173 //-----------------------------------------------
         ;    1174 void but_an(void)
         ;    1175 {
          _but_an:
         ;    1176 
         ;    1177 if(bSTART)
0006b2 fe37      	SBRS R3,7
0006b3 c003      	RJMP _0x138
         ;    1178 	{   
         ;    1179 /*	if(ee_prog==EE_PROG_FULL)
         ;    1180 		{
         ;    1181 		}
         ;    1182 	else if(ee_prog==EE_PROG_ONLY_ORIENT)
         ;    1183 		{
         ;    1184 		orient_cmd=cmdSTART;
         ;    1185 		}
         ;    1186 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
         ;    1187 		{
         ;    1188 		napoln_cmd=cmdSTART;                              
         ;    1189 		}			                
         ;    1190 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
         ;    1191 		{
         ;    1192 		payka_cmd=cmdSTART;
         ;    1193 		}
         ;    1194 	else if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
         ;    1195 		{
         ;    1196 		main_loop_cmd=cmdSTART;
         ;    1197 		//main_loop_del_cnt=20;
         ;    1198 		}  */
         ;    1199 		
         ;    1200 		
         ;    1201 		main_loop_cmd=cmdSTART;
0006b4 e0e1      	LDI  R30,LOW(1)
0006b5 93e0 0183 	STS  _main_loop_cmd,R30
         ;    1202 		
         ;    1203 						
         ;    1204 	}
         ;    1205 	
         ;    1206 bSTART=0;	
          _0x138:
0006b7 94e8      	CLT
0006b8 f837      	BLD  R3,7
         ;    1207 
         ;    1208 if(bSTOP)
0006b9 fe40      	SBRS R4,0
0006ba c009      	RJMP _0x139
         ;    1209 	{   
         ;    1210 	orient_cmd=cmdSTOP;
0006bb e0e2      	LDI  R30,LOW(2)
0006bc 93e0 0182 	STS  _orient_cmd,R30
         ;    1211 	napoln_cmd=cmdSTOP;
0006be 93e0 0181 	STS  _napoln_cmd,R30
         ;    1212 	payka_cmd=cmdSTOP;
0006c0 93e0 0180 	STS  _payka_cmd,R30
         ;    1213 	main_loop_cmd=cmdSTOP;
0006c2 93e0 0183 	STS  _main_loop_cmd,R30
         ;    1214 		
         ;    1215 	}
         ;    1216 	
         ;    1217 bSTOP=0;	
          _0x139:
0006c4 94e8      	CLT
0006c5 f840      	BLD  R4,0
         ;    1218 
         ;    1219 
         ;    1220 /*
         ;    1221 if(!(in_word&0x01))
         ;    1222 	{
         ;    1223 	#ifdef TVIST_SKO
         ;    1224 	if((step==sOFF)&&(!bERR))
         ;    1225 		{
         ;    1226 		step=s1;
         ;    1227 		if(prog==p2) cnt_del=70;
         ;    1228 		else if(prog==p3) cnt_del=100;
         ;    1229 		}
         ;    1230 	#endif
         ;    1231 	#ifdef DV3KL2MD
         ;    1232 	if((step==sOFF)&&(!bERR))
         ;    1233 		{
         ;    1234 		step=s1;
         ;    1235 		cnt_del=70;
         ;    1236 		}
         ;    1237 	#endif	
         ;    1238 	#ifndef TVIST_SKO
         ;    1239 	if((step==sOFF)&&(!bERR))
         ;    1240 		{
         ;    1241 		step=s1;
         ;    1242 		if(prog==p1) cnt_del=50;
         ;    1243 		else if(prog==p2) cnt_del=50;
         ;    1244 		else if(prog==p3) cnt_del=50;
         ;    1245           #ifdef P380_MINI
         ;    1246   		cnt_del=100;
         ;    1247   		#endif
         ;    1248 		}
         ;    1249 	#endif
         ;    1250 	}
         ;    1251 if(!(in_word&0x02))
         ;    1252 	{
         ;    1253 	step=sOFF;
         ;    1254 
         ;    1255 	} */
         ;    1256 
         ;    1257 if (!n_but) goto but_an_end;
0006c6 fe25      	SBRS R2,5
0006c7 c16f      	RJMP _0x13B
         ;    1258 
         ;    1259 if(but==butV_)
0006c8 eeed      	LDI  R30,LOW(237)
0006c9 15eb      	CP   R30,R11
0006ca f469      	BRNE _0x13C
         ;    1260 	{
         ;    1261 	if(ee_loop_mode!=elmAUTO)ee_loop_mode=elmAUTO;
0006cb e0a0      	LDI  R26,LOW(_ee_loop_mode)
0006cc e0b0      	LDI  R27,HIGH(_ee_loop_mode)
0006cd 940e 09db 	CALL __EEPROMRDB
0006cf 35e5      	CPI  R30,LOW(0x55)
0006d0 f011      	BREQ _0x13D
0006d1 e5e5      	LDI  R30,LOW(85)
0006d2 c001      	RJMP _0x191
         ;    1262 	else ee_loop_mode=elmMNL;
          _0x13D:
0006d3 eaea      	LDI  R30,LOW(170)
          _0x191:
0006d4 e0a0      	LDI  R26,LOW(_ee_loop_mode)
0006d5 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
0006d6 940e 09ef 	CALL __EEPROMWRB
         ;    1263 	}
         ;    1264 
         ;    1265 
         ;    1266 if(ind==iMn)
          _0x13C:
0006d8 20ee      	TST  R14
0006d9 f449      	BRNE _0x13F
         ;    1267 	{
         ;    1268 	if(but==butP_)
0006da efe9      	LDI  R30,LOW(249)
0006db 15eb      	CP   R30,R11
0006dc f429      	BRNE _0x140
         ;    1269 		{
         ;    1270 		ind=iSet;
0006dd e0e2      	LDI  R30,LOW(2)
0006de 2eee      	MOV  R14,R30
         ;    1271 		sub_ind=0;
0006df e0e0      	LDI  R30,LOW(0)
0006e0 93e0 016e 	STS  _sub_ind,R30
         ;    1272 		}
         ;    1273 	}
          _0x140:
         ;    1274 
         ;    1275 else if(ind==iSet)
0006e2 c151      	RJMP _0x141
          _0x13F:
0006e3 e0e2      	LDI  R30,LOW(2)
0006e4 15ee      	CP   R30,R14
0006e5 f011      	BREQ PC+3
0006e6 940c 0834 	JMP _0x142
         ;    1276 	{
         ;    1277 	if(but==butP_)
0006e8 efe9      	LDI  R30,LOW(249)
0006e9 15eb      	CP   R30,R11
0006ea f429      	BRNE _0x143
         ;    1278 		{
         ;    1279 		ind=iMn;
0006eb 24ee      	CLR  R14
         ;    1280 		sub_ind=0;
0006ec e0e0      	LDI  R30,LOW(0)
0006ed 93e0 016e 	STS  _sub_ind,R30
         ;    1281 		}      
         ;    1282 	else if(but==butP)
0006ef c144      	RJMP _0x144
          _0x143:
0006f0 efeb      	LDI  R30,LOW(251)
0006f1 15eb      	CP   R30,R11
0006f2 f469      	BRNE _0x145
         ;    1283 		{
         ;    1284 		sub_ind++;
0006f3 91e0 016e 	LDS  R30,_sub_ind
0006f5 5fef      	SUBI R30,-LOW(1)
0006f6 93e0 016e 	STS  _sub_ind,R30
         ;    1285 		if(sub_ind==5)sub_ind=0;
0006f8 91a0 016e 	LDS  R26,_sub_ind
0006fa 30a5      	CPI  R26,LOW(0x5)
0006fb f419      	BRNE _0x146
0006fc e0e0      	LDI  R30,LOW(0)
0006fd 93e0 016e 	STS  _sub_ind,R30
         ;    1286 		}
          _0x146:
         ;    1287 	else if (sub_ind==0)
0006ff c134      	RJMP _0x147
          _0x145:
000700 91e0 016e 	LDS  R30,_sub_ind
000702 30e0      	CPI  R30,0
000703 f5a9      	BRNE _0x148
         ;    1288 		{
         ;    1289 		if(but==butR)ee_prog++;
000704 e7ef      	LDI  R30,LOW(127)
000705 15eb      	CP   R30,R11
000706 f449      	BRNE _0x149
000707 e0a5      	LDI  R26,LOW(_ee_prog)
000708 e0b0      	LDI  R27,HIGH(_ee_prog)
000709 940e 09d7 	CALL __EEPROMRDW
00070b 9631      	ADIW R30,1
00070c 940e 09e7 	CALL __EEPROMWRW
00070e 9731      	SBIW R30,1
         ;    1290 		else if(but==butL)ee_prog--;
00070f c00b      	RJMP _0x14A
          _0x149:
000710 efee      	LDI  R30,LOW(254)
000711 15eb      	CP   R30,R11
000712 f441      	BRNE _0x14B
000713 e0a5      	LDI  R26,LOW(_ee_prog)
000714 e0b0      	LDI  R27,HIGH(_ee_prog)
000715 940e 09d7 	CALL __EEPROMRDW
000717 9731      	SBIW R30,1
000718 940e 09e7 	CALL __EEPROMWRW
00071a 9631      	ADIW R30,1
         ;    1291 		if(ee_prog>5)ee_prog=0;
          _0x14B:
          _0x14A:
00071b e0a5      	LDI  R26,LOW(_ee_prog)
00071c e0b0      	LDI  R27,HIGH(_ee_prog)
00071d 940e 09d7 	CALL __EEPROMRDW
00071f 01df      	MOVW R26,R30
000720 e0e5      	LDI  R30,LOW(5)
000721 e0f0      	LDI  R31,HIGH(5)
000722 17ea      	CP   R30,R26
000723 07fb      	CPC  R31,R27
000724 f434      	BRGE _0x14C
000725 e0e0      	LDI  R30,LOW(0)
000726 e0f0      	LDI  R31,HIGH(0)
000727 e0a5      	LDI  R26,LOW(_ee_prog)
000728 e0b0      	LDI  R27,HIGH(_ee_prog)
000729 940e 09e7 	CALL __EEPROMWRW
         ;    1292 		if(ee_prog<0)ee_prog=5;
          _0x14C:
00072b e0a5      	LDI  R26,LOW(_ee_prog)
00072c e0b0      	LDI  R27,HIGH(_ee_prog)
00072d 940e 09d7 	CALL __EEPROMRDW
00072f 01df      	MOVW R26,R30
000730 9710      	SBIW R26,0
000731 f434      	BRGE _0x14D
000732 e0e5      	LDI  R30,LOW(5)
000733 e0f0      	LDI  R31,HIGH(5)
000734 e0a5      	LDI  R26,LOW(_ee_prog)
000735 e0b0      	LDI  R27,HIGH(_ee_prog)
000736 940e 09e7 	CALL __EEPROMWRW
         ;    1293 		}
          _0x14D:
         ;    1294 	else if (sub_ind==1)
000738 c0fb      	RJMP _0x14E
          _0x148:
000739 91a0 016e 	LDS  R26,_sub_ind
00073b 30a1      	CPI  R26,LOW(0x1)
00073c f5d9      	BRNE _0x14F
         ;    1295 		{             
         ;    1296 		if((but==butR)||(but==butR_))	
00073d e7ef      	LDI  R30,LOW(127)
00073e 15eb      	CP   R30,R11
00073f f019      	BREQ _0x151
000740 e7ed      	LDI  R30,LOW(125)
000741 15eb      	CP   R30,R11
000742 f4b9      	BRNE _0x150
          _0x151:
         ;    1297 			{  
         ;    1298 			speed=1;
000743 9468      	SET
000744 f826      	BLD  R2,6
         ;    1299 			ee_temp1++;
000745 e0a1      	LDI  R26,LOW(_ee_temp1)
000746 e0b0      	LDI  R27,HIGH(_ee_temp1)
000747 940e 09d7 	CALL __EEPROMRDW
000749 9631      	ADIW R30,1
00074a 940e 09e7 	CALL __EEPROMWRW
00074c 9731      	SBIW R30,1
         ;    1300 			if(ee_temp1>900)ee_temp1=900;
00074d e0a1      	LDI  R26,LOW(_ee_temp1)
00074e e0b0      	LDI  R27,HIGH(_ee_temp1)
00074f 940e 09d7 	CALL __EEPROMRDW
000751 d239      	RCALL SUBOPT_0x14
000752 f434      	BRGE _0x153
000753 e8e4      	LDI  R30,LOW(900)
000754 e0f3      	LDI  R31,HIGH(900)
000755 e0a1      	LDI  R26,LOW(_ee_temp1)
000756 e0b0      	LDI  R27,HIGH(_ee_temp1)
000757 940e 09e7 	CALL __EEPROMWRW
         ;    1301 			}   
          _0x153:
         ;    1302 	
         ;    1303     		else if((but==butL)||(but==butL_))	
000759 c01d      	RJMP _0x154
          _0x150:
00075a efee      	LDI  R30,LOW(254)
00075b 15eb      	CP   R30,R11
00075c f019      	BREQ _0x156
00075d efec      	LDI  R30,LOW(252)
00075e 15eb      	CP   R30,R11
00075f f4b9      	BRNE _0x155
          _0x156:
         ;    1304 			{  
         ;    1305     	    		speed=1;
000760 9468      	SET
000761 f826      	BLD  R2,6
         ;    1306     			ee_temp1--;
000762 e0a1      	LDI  R26,LOW(_ee_temp1)
000763 e0b0      	LDI  R27,HIGH(_ee_temp1)
000764 940e 09d7 	CALL __EEPROMRDW
000766 9731      	SBIW R30,1
000767 940e 09e7 	CALL __EEPROMWRW
000769 9631      	ADIW R30,1
         ;    1307     			if(ee_temp1<0)ee_temp1=0;
00076a e0a1      	LDI  R26,LOW(_ee_temp1)
00076b e0b0      	LDI  R27,HIGH(_ee_temp1)
00076c 940e 09d7 	CALL __EEPROMRDW
00076e 01df      	MOVW R26,R30
00076f 9710      	SBIW R26,0
000770 f434      	BRGE _0x158
000771 e0e0      	LDI  R30,LOW(0)
000772 e0f0      	LDI  R31,HIGH(0)
000773 e0a1      	LDI  R26,LOW(_ee_temp1)
000774 e0b0      	LDI  R27,HIGH(_ee_temp1)
000775 940e 09e7 	CALL __EEPROMWRW
         ;    1308     			}				
          _0x158:
         ;    1309 		}   
          _0x155:
          _0x154:
         ;    1310 	else if (sub_ind==2)
000777 c0bc      	RJMP _0x159
          _0x14F:
000778 91a0 016e 	LDS  R26,_sub_ind
00077a 30a2      	CPI  R26,LOW(0x2)
00077b f5d9      	BRNE _0x15A
         ;    1311 		{             
         ;    1312 		if((but==butR)||(but==butR_))	
00077c e7ef      	LDI  R30,LOW(127)
00077d 15eb      	CP   R30,R11
00077e f019      	BREQ _0x15C
00077f e7ed      	LDI  R30,LOW(125)
000780 15eb      	CP   R30,R11
000781 f4b9      	BRNE _0x15B
          _0x15C:
         ;    1313 			{  
         ;    1314 			speed=1;
000782 9468      	SET
000783 f826      	BLD  R2,6
         ;    1315 			ee_temp2++;
000784 e0a3      	LDI  R26,LOW(_ee_temp2)
000785 e0b0      	LDI  R27,HIGH(_ee_temp2)
000786 940e 09d7 	CALL __EEPROMRDW
000788 9631      	ADIW R30,1
000789 940e 09e7 	CALL __EEPROMWRW
00078b 9731      	SBIW R30,1
         ;    1316 			if(ee_temp2>900)ee_temp2=900;
00078c e0a3      	LDI  R26,LOW(_ee_temp2)
00078d e0b0      	LDI  R27,HIGH(_ee_temp2)
00078e 940e 09d7 	CALL __EEPROMRDW
000790 d1fa      	RCALL SUBOPT_0x14
000791 f434      	BRGE _0x15E
000792 e8e4      	LDI  R30,LOW(900)
000793 e0f3      	LDI  R31,HIGH(900)
000794 e0a3      	LDI  R26,LOW(_ee_temp2)
000795 e0b0      	LDI  R27,HIGH(_ee_temp2)
000796 940e 09e7 	CALL __EEPROMWRW
         ;    1317 			}   
          _0x15E:
         ;    1318 	
         ;    1319     		else if((but==butL)||(but==butL_))	
000798 c01d      	RJMP _0x15F
          _0x15B:
000799 efee      	LDI  R30,LOW(254)
00079a 15eb      	CP   R30,R11
00079b f019      	BREQ _0x161
00079c efec      	LDI  R30,LOW(252)
00079d 15eb      	CP   R30,R11
00079e f4b9      	BRNE _0x160
          _0x161:
         ;    1320 			{  
         ;    1321     	    		speed=1;
00079f 9468      	SET
0007a0 f826      	BLD  R2,6
         ;    1322     			ee_temp2--;
0007a1 e0a3      	LDI  R26,LOW(_ee_temp2)
0007a2 e0b0      	LDI  R27,HIGH(_ee_temp2)
0007a3 940e 09d7 	CALL __EEPROMRDW
0007a5 9731      	SBIW R30,1
0007a6 940e 09e7 	CALL __EEPROMWRW
0007a8 9631      	ADIW R30,1
         ;    1323     			if(ee_temp2<0)ee_temp2=0;
0007a9 e0a3      	LDI  R26,LOW(_ee_temp2)
0007aa e0b0      	LDI  R27,HIGH(_ee_temp2)
0007ab 940e 09d7 	CALL __EEPROMRDW
0007ad 01df      	MOVW R26,R30
0007ae 9710      	SBIW R26,0
0007af f434      	BRGE _0x163
0007b0 e0e0      	LDI  R30,LOW(0)
0007b1 e0f0      	LDI  R31,HIGH(0)
0007b2 e0a3      	LDI  R26,LOW(_ee_temp2)
0007b3 e0b0      	LDI  R27,HIGH(_ee_temp2)
0007b4 940e 09e7 	CALL __EEPROMWRW
         ;    1324     			}				
          _0x163:
         ;    1325 		}
          _0x160:
          _0x15F:
         ;    1326 	else if (sub_ind==3)
0007b6 c07d      	RJMP _0x164
          _0x15A:
0007b7 91a0 016e 	LDS  R26,_sub_ind
0007b9 30a3      	CPI  R26,LOW(0x3)
0007ba f5d9      	BRNE _0x165
         ;    1327 		{             
         ;    1328 		if((but==butR)||(but==butR_))	
0007bb e7ef      	LDI  R30,LOW(127)
0007bc 15eb      	CP   R30,R11
0007bd f019      	BREQ _0x167
0007be e7ed      	LDI  R30,LOW(125)
0007bf 15eb      	CP   R30,R11
0007c0 f4b9      	BRNE _0x166
          _0x167:
         ;    1329 			{  
         ;    1330 			speed=1;
0007c1 9468      	SET
0007c2 f826      	BLD  R2,6
         ;    1331 			ee_temp3++;
0007c3 e0a7      	LDI  R26,LOW(_ee_temp3)
0007c4 e0b0      	LDI  R27,HIGH(_ee_temp3)
0007c5 940e 09d7 	CALL __EEPROMRDW
0007c7 9631      	ADIW R30,1
0007c8 940e 09e7 	CALL __EEPROMWRW
0007ca 9731      	SBIW R30,1
         ;    1332 			if(ee_temp3>900)ee_temp3=900;
0007cb e0a7      	LDI  R26,LOW(_ee_temp3)
0007cc e0b0      	LDI  R27,HIGH(_ee_temp3)
0007cd 940e 09d7 	CALL __EEPROMRDW
0007cf d1bb      	RCALL SUBOPT_0x14
0007d0 f434      	BRGE _0x169
0007d1 e8e4      	LDI  R30,LOW(900)
0007d2 e0f3      	LDI  R31,HIGH(900)
0007d3 e0a7      	LDI  R26,LOW(_ee_temp3)
0007d4 e0b0      	LDI  R27,HIGH(_ee_temp3)
0007d5 940e 09e7 	CALL __EEPROMWRW
         ;    1333 			}   
          _0x169:
         ;    1334 	
         ;    1335     		else if((but==butL)||(but==butL_))	
0007d7 c01d      	RJMP _0x16A
          _0x166:
0007d8 efee      	LDI  R30,LOW(254)
0007d9 15eb      	CP   R30,R11
0007da f019      	BREQ _0x16C
0007db efec      	LDI  R30,LOW(252)
0007dc 15eb      	CP   R30,R11
0007dd f4b9      	BRNE _0x16B
          _0x16C:
         ;    1336 			{  
         ;    1337     	    		speed=1;
0007de 9468      	SET
0007df f826      	BLD  R2,6
         ;    1338     			ee_temp3--;
0007e0 e0a7      	LDI  R26,LOW(_ee_temp3)
0007e1 e0b0      	LDI  R27,HIGH(_ee_temp3)
0007e2 940e 09d7 	CALL __EEPROMRDW
0007e4 9731      	SBIW R30,1
0007e5 940e 09e7 	CALL __EEPROMWRW
0007e7 9631      	ADIW R30,1
         ;    1339     			if(ee_temp3<0)ee_temp3=0;
0007e8 e0a7      	LDI  R26,LOW(_ee_temp3)
0007e9 e0b0      	LDI  R27,HIGH(_ee_temp3)
0007ea 940e 09d7 	CALL __EEPROMRDW
0007ec 01df      	MOVW R26,R30
0007ed 9710      	SBIW R26,0
0007ee f434      	BRGE _0x16E
0007ef e0e0      	LDI  R30,LOW(0)
0007f0 e0f0      	LDI  R31,HIGH(0)
0007f1 e0a7      	LDI  R26,LOW(_ee_temp3)
0007f2 e0b0      	LDI  R27,HIGH(_ee_temp3)
0007f3 940e 09e7 	CALL __EEPROMWRW
         ;    1340     			}				
          _0x16E:
         ;    1341 		}		
          _0x16B:
          _0x16A:
         ;    1342 	else if (sub_ind==4)
0007f5 c03e      	RJMP _0x16F
          _0x165:
0007f6 91a0 016e 	LDS  R26,_sub_ind
0007f8 30a4      	CPI  R26,LOW(0x4)
0007f9 f5d1      	BRNE _0x170
         ;    1343 		{             
         ;    1344 		if((but==butR)||(but==butR_))	
0007fa e7ef      	LDI  R30,LOW(127)
0007fb 15eb      	CP   R30,R11
0007fc f019      	BREQ _0x172
0007fd e7ed      	LDI  R30,LOW(125)
0007fe 15eb      	CP   R30,R11
0007ff f4b9      	BRNE _0x171
          _0x172:
         ;    1345 			{  
         ;    1346 			speed=1;
000800 9468      	SET
000801 f826      	BLD  R2,6
         ;    1347 			ee_temp4++;
000802 e0a9      	LDI  R26,LOW(_ee_temp4)
000803 e0b0      	LDI  R27,HIGH(_ee_temp4)
000804 940e 09d7 	CALL __EEPROMRDW
000806 9631      	ADIW R30,1
000807 940e 09e7 	CALL __EEPROMWRW
000809 9731      	SBIW R30,1
         ;    1348 			if(ee_temp4>900)ee_temp4=900;
00080a e0a9      	LDI  R26,LOW(_ee_temp4)
00080b e0b0      	LDI  R27,HIGH(_ee_temp4)
00080c 940e 09d7 	CALL __EEPROMRDW
00080e d17c      	RCALL SUBOPT_0x14
00080f f434      	BRGE _0x174
000810 e8e4      	LDI  R30,LOW(900)
000811 e0f3      	LDI  R31,HIGH(900)
000812 e0a9      	LDI  R26,LOW(_ee_temp4)
000813 e0b0      	LDI  R27,HIGH(_ee_temp4)
000814 940e 09e7 	CALL __EEPROMWRW
         ;    1349 			}   
          _0x174:
         ;    1350 	
         ;    1351     		else if((but==butL)||(but==butL_))	
000816 c01d      	RJMP _0x175
          _0x171:
000817 efee      	LDI  R30,LOW(254)
000818 15eb      	CP   R30,R11
000819 f019      	BREQ _0x177
00081a efec      	LDI  R30,LOW(252)
00081b 15eb      	CP   R30,R11
00081c f4b9      	BRNE _0x176
          _0x177:
         ;    1352 			{  
         ;    1353     	    		speed=1;
00081d 9468      	SET
00081e f826      	BLD  R2,6
         ;    1354     			ee_temp4--;
00081f e0a9      	LDI  R26,LOW(_ee_temp4)
000820 e0b0      	LDI  R27,HIGH(_ee_temp4)
000821 940e 09d7 	CALL __EEPROMRDW
000823 9731      	SBIW R30,1
000824 940e 09e7 	CALL __EEPROMWRW
000826 9631      	ADIW R30,1
         ;    1355     			if(ee_temp4<0)ee_temp4=0;
000827 e0a9      	LDI  R26,LOW(_ee_temp4)
000828 e0b0      	LDI  R27,HIGH(_ee_temp4)
000829 940e 09d7 	CALL __EEPROMRDW
00082b 01df      	MOVW R26,R30
00082c 9710      	SBIW R26,0
00082d f434      	BRGE _0x179
00082e e0e0      	LDI  R30,LOW(0)
00082f e0f0      	LDI  R31,HIGH(0)
000830 e0a9      	LDI  R26,LOW(_ee_temp4)
000831 e0b0      	LDI  R27,HIGH(_ee_temp4)
000832 940e 09e7 	CALL __EEPROMWRW
         ;    1356     			}				
          _0x179:
         ;    1357 		}													
          _0x176:
          _0x175:
         ;    1358 	}
          _0x170:
          _0x16F:
          _0x164:
          _0x159:
          _0x14E:
          _0x147:
          _0x144:
         ;    1359 
         ;    1360 
         ;    1361 
         ;    1362 
         ;    1363 if(but==butVP_)
          _0x142:
          _0x141:
000834 eee9      	LDI  R30,LOW(233)
000835 15eb      	CP   R30,R11
000836 f401      	BRNE _0x17A
         ;    1364 	{
         ;    1365 	//if(ind!=iVr)ind=iVr;
         ;    1366 	//else ind=iMn;
         ;    1367 	}
         ;    1368 
         ;    1369 /*	
         ;    1370 if(ind==iMn)
         ;    1371 	{
         ;    1372 	if(but==butP_)ind=iPr_sel;
         ;    1373 	if(but==butLR)	
         ;    1374 		{
         ;    1375 		if((prog==p3)||(prog==p4))
         ;    1376 			{ 
         ;    1377 			if(sub_ind==0)sub_ind=1;
         ;    1378 			else sub_ind=0;
         ;    1379 			}
         ;    1380     		else sub_ind=0;
         ;    1381 		}	 
         ;    1382 	if((but==butR)||(but==butR_))	
         ;    1383 		{  
         ;    1384 		speed=1;
         ;    1385 		//ee_delay[prog,sub_ind]++;
         ;    1386 		}   
         ;    1387 	
         ;    1388 	else if((but==butL)||(but==butL_))	
         ;    1389 		{  
         ;    1390     		speed=1;
         ;    1391     		//ee_delay[prog,sub_ind]--;
         ;    1392     		}		
         ;    1393 	} 
         ;    1394 	
         ;    1395 else if(ind==iPr_sel)
         ;    1396 	{
         ;    1397 	if(but==butP_)ind=iMn;
         ;    1398 	if(but==butP)
         ;    1399 		{
         ;    1400 		prog++;
         ;    1401 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1402 		//ee_program[0]=prog;
         ;    1403 		//ee_program[1]=prog;
         ;    1404 		//ee_program[2]=prog;
         ;    1405 		}
         ;    1406 	
         ;    1407 	if(but==butR)
         ;    1408 		{
         ;    1409 		prog++;
         ;    1410 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1411 		//ee_program[0]=prog;
         ;    1412 		//ee_program[1]=prog;
         ;    1413 		//ee_program[2]=prog;
         ;    1414 		}
         ;    1415 
         ;    1416 	if(but==butL)
         ;    1417 		{
         ;    1418 		prog--;
         ;    1419 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1420 		//ee_program[0]=prog;
         ;    1421 		//ee_program[1]=prog;
         ;    1422 		//ee_program[2]=prog;
         ;    1423 		}	
         ;    1424 	} 
         ;    1425 
         ;    1426 /*else if(ind==iVr)
         ;    1427 	{
         ;    1428 	if(but==butP_)
         ;    1429 		{
         ;    1430 	    ///	if(ee_vr_log)ee_vr_log=0;
         ;    1431 	    ///	else ee_vr_log=1;
         ;    1432 		}	
         ;    1433 	}*/ 	
         ;    1434 
         ;    1435 but_an_end:
          _0x17A:
          _0x13B:
         ;    1436 n_but=0;
000837 94e8      	CLT
000838 f825      	BLD  R2,5
         ;    1437 }
000839 9508      	RET
         ;    1438 
         ;    1439 //-----------------------------------------------
         ;    1440 void ind_drv(void)
         ;    1441 {
          _ind_drv:
         ;    1442 if(++ind_cnt>=6)ind_cnt=0;
00083a 94a3      	INC  R10
00083b e0e6      	LDI  R30,LOW(6)
00083c 16ae      	CP   R10,R30
00083d f008      	BRLO _0x17B
00083e 24aa      	CLR  R10
         ;    1443 
         ;    1444 if(ind_cnt<5)
          _0x17B:
00083f e0e5      	LDI  R30,LOW(5)
000840 16ae      	CP   R10,R30
000841 f4c8      	BRSH _0x17C
         ;    1445 	{
         ;    1446 	DDRC=0xFF;
000842 efef      	LDI  R30,LOW(255)
000843 bbe4      	OUT  0x14,R30
         ;    1447 	PORTC=0xFF;
000844 bbe5      	OUT  0x15,R30
         ;    1448 	DDRD|=0b11111000;
000845 b3e1      	IN   R30,0x11
000846 6fe8      	ORI  R30,LOW(0xF8)
000847 d126      	RCALL SUBOPT_0xF
         ;    1449 	PORTD|=0b11111000;
         ;    1450 	PORTD&=IND_STROB[ind_cnt];
000848 b3e2      	IN   R30,0x12
000849 93ef      	PUSH R30
00084a e5a4      	LDI  R26,LOW(_IND_STROB*2)
00084b e0b0      	LDI  R27,HIGH(_IND_STROB*2)
00084c 2dea      	MOV  R30,R10
00084d e0f0      	LDI  R31,0
00084e 0fea      	ADD  R30,R26
00084f 1ffb      	ADC  R31,R27
000850 91e4      	LPM  R30,Z
000851 91af      	POP  R26
000852 23ea      	AND  R30,R26
000853 bbe2      	OUT  0x12,R30
         ;    1451 	PORTC=ind_out[ind_cnt];
000854 2dea      	MOV  R30,R10
000855 e0f0      	LDI  R31,0
000856 5ae0      	SUBI R30,LOW(-_ind_out)
000857 4ffe      	SBCI R31,HIGH(-_ind_out)
000858 81e0      	LD   R30,Z
000859 bbe5      	OUT  0x15,R30
         ;    1452 	}
         ;    1453 else but_drv();
00085a c002      	RJMP _0x17D
          _0x17C:
00085b 940e 064c 	CALL _but_drv
          _0x17D:
         ;    1454 }
00085d 9508      	RET
         ;    1455 
         ;    1456 //***********************************************
         ;    1457 //***********************************************
         ;    1458 //***********************************************
         ;    1459 //***********************************************
         ;    1460 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
         ;    1461 {
          _timer0_ovf_isr:
00085e 920a      	ST   -Y,R0
00085f 921a      	ST   -Y,R1
000860 92fa      	ST   -Y,R15
000861 936a      	ST   -Y,R22
000862 937a      	ST   -Y,R23
000863 938a      	ST   -Y,R24
000864 939a      	ST   -Y,R25
000865 93aa      	ST   -Y,R26
000866 93ba      	ST   -Y,R27
000867 93ea      	ST   -Y,R30
000868 93fa      	ST   -Y,R31
000869 b7ef      	IN   R30,SREG
00086a 93ea      	ST   -Y,R30
         ;    1462 TCCR0=0x02;
00086b d125      	RCALL SUBOPT_0x15
         ;    1463 TCNT0=-208;
         ;    1464 OCR0=0x00; 
         ;    1465 
         ;    1466 if(bPP3)PORTB.0=!PORTB.0;
00086c fe43      	SBRS R4,3
00086d c006      	RJMP _0x17E
00086e 94e8      	CLT
00086f 9bc0      	SBIS 0x18,0
000870 9468      	SET
000871 b3e8      	IN   R30,0x18
000872 f9e0      	BLD  R30,0
000873 bbe8      	OUT  0x18,R30
         ;    1467 
         ;    1468 b600Hz=1;
          _0x17E:
000874 9468      	SET
000875 f820      	BLD  R2,0
         ;    1469 ind_drv();
000876 dfc3      	RCALL _ind_drv
         ;    1470 if(++t0_cnt0>=6)
000877 9463      	INC  R6
000878 e0e6      	LDI  R30,LOW(6)
000879 166e      	CP   R6,R30
00087a f018      	BRLO _0x17F
         ;    1471 	{
         ;    1472 	t0_cnt0=0;
00087b 2466      	CLR  R6
         ;    1473 	b100Hz=1;
00087c 9468      	SET
00087d f821      	BLD  R2,1
         ;    1474 	}
         ;    1475 
         ;    1476 if(++t0_cnt1>=60)
          _0x17F:
00087e 9473      	INC  R7
00087f e3ec      	LDI  R30,LOW(60)
000880 167e      	CP   R7,R30
000881 f088      	BRLO _0x180
         ;    1477 	{
         ;    1478 	t0_cnt1=0;
000882 2477      	CLR  R7
         ;    1479 	b10Hz=1;
000883 9468      	SET
000884 f822      	BLD  R2,2
         ;    1480 	
         ;    1481 	if(++t0_cnt2>=2)
000885 9483      	INC  R8
000886 e0e2      	LDI  R30,LOW(2)
000887 168e      	CP   R8,R30
000888 f018      	BRLO _0x181
         ;    1482 		{
         ;    1483 		t0_cnt2=0;
000889 2488      	CLR  R8
         ;    1484 		bFL5=!bFL5;
00088a e0e1      	LDI  R30,LOW(1)
00088b 263e      	EOR  R3,R30
         ;    1485 		}
         ;    1486 		
         ;    1487 	if(++t0_cnt3>=5)
          _0x181:
00088c 9493      	INC  R9
00088d e0e5      	LDI  R30,LOW(5)
00088e 169e      	CP   R9,R30
00088f f018      	BRLO _0x182
         ;    1488 		{
         ;    1489 		t0_cnt3=0;
000890 2499      	CLR  R9
         ;    1490 		bFL2=!bFL2;
000891 e8e0      	LDI  R30,LOW(128)
000892 262e      	EOR  R2,R30
         ;    1491 		}		
         ;    1492 	}
          _0x182:
         ;    1493 }
          _0x180:
000893 91e9      	LD   R30,Y+
000894 bfef      	OUT  SREG,R30
000895 91f9      	LD   R31,Y+
000896 91e9      	LD   R30,Y+
000897 91b9      	LD   R27,Y+
000898 91a9      	LD   R26,Y+
000899 9199      	LD   R25,Y+
00089a 9189      	LD   R24,Y+
00089b 9179      	LD   R23,Y+
00089c 9169      	LD   R22,Y+
00089d 90f9      	LD   R15,Y+
00089e 9019      	LD   R1,Y+
00089f 9009      	LD   R0,Y+
0008a0 9518      	RETI
         ;    1494 
         ;    1495 //===============================================
         ;    1496 //===============================================
         ;    1497 //===============================================
         ;    1498 //===============================================
         ;    1499 
         ;    1500 void main(void)
         ;    1501 {
          _main:
         ;    1502 
         ;    1503 PORTA=0xff;
0008a1 efef      	LDI  R30,LOW(255)
0008a2 bbeb      	OUT  0x1B,R30
         ;    1504 DDRA=0x00;
0008a3 d04d      	RCALL SUBOPT_0x0
         ;    1505 
         ;    1506 PORTB=0xff;
0008a4 d0f4      	RCALL SUBOPT_0x16
         ;    1507 DDRB=0xFF;
         ;    1508 
         ;    1509 PORTC=0x00;
0008a5 e0e0      	LDI  R30,LOW(0)
0008a6 bbe5      	OUT  0x15,R30
         ;    1510 DDRC=0x00;
0008a7 bbe4      	OUT  0x14,R30
         ;    1511 
         ;    1512 
         ;    1513 PORTD=0x00;
0008a8 bbe2      	OUT  0x12,R30
         ;    1514 DDRD=0x00;
0008a9 bbe1      	OUT  0x11,R30
         ;    1515 
         ;    1516 
         ;    1517 TCCR0=0x02;
0008aa d0e6      	RCALL SUBOPT_0x15
         ;    1518 TCNT0=-208;
         ;    1519 OCR0=0x00;
         ;    1520 
         ;    1521 TCCR1A=0x00;
0008ab e0e0      	LDI  R30,LOW(0)
0008ac bdef      	OUT  0x2F,R30
         ;    1522 TCCR1B=0x00;
0008ad bdee      	OUT  0x2E,R30
         ;    1523 TCNT1H=0x00;
0008ae bded      	OUT  0x2D,R30
         ;    1524 TCNT1L=0x00;
0008af bdec      	OUT  0x2C,R30
         ;    1525 ICR1H=0x00;
0008b0 bde7      	OUT  0x27,R30
         ;    1526 ICR1L=0x00;
0008b1 bde6      	OUT  0x26,R30
         ;    1527 OCR1AH=0x00;
0008b2 bdeb      	OUT  0x2B,R30
         ;    1528 OCR1AL=0x00;
0008b3 bdea      	OUT  0x2A,R30
         ;    1529 OCR1BH=0x00;
0008b4 bde9      	OUT  0x29,R30
         ;    1530 OCR1BL=0x00;
0008b5 bde8      	OUT  0x28,R30
         ;    1531 
         ;    1532 
         ;    1533 ASSR=0x00;
0008b6 bde2      	OUT  0x22,R30
         ;    1534 TCCR2=0x00;
0008b7 bde5      	OUT  0x25,R30
         ;    1535 TCNT2=0x00;
0008b8 bde4      	OUT  0x24,R30
         ;    1536 OCR2=0x00;
0008b9 bde3      	OUT  0x23,R30
         ;    1537 
         ;    1538 MCUCR=0x00;
0008ba bfe5      	OUT  0x35,R30
         ;    1539 MCUCSR=0x00;
0008bb bfe4      	OUT  0x34,R30
         ;    1540 
         ;    1541 TIMSK=0x01;
0008bc e0e1      	LDI  R30,LOW(1)
0008bd bfe9      	OUT  0x39,R30
         ;    1542 
         ;    1543 ACSR=0x80;
0008be e8e0      	LDI  R30,LOW(128)
0008bf b9e8      	OUT  0x8,R30
         ;    1544 SFIOR=0x00;
0008c0 e0e0      	LDI  R30,LOW(0)
0008c1 bfe0      	OUT  0x30,R30
         ;    1545 
         ;    1546 #asm("sei") 
0008c2 9478      	sei
         ;    1547 PORTB=0xFF;
0008c3 efef      	LDI  R30,LOW(255)
0008c4 d0d4      	RCALL SUBOPT_0x16
         ;    1548 DDRB=0xFF;
         ;    1549 ind=iMn;
0008c5 24ee      	CLR  R14
         ;    1550 prog_drv();
0008c6 940e 006a 	CALL _prog_drv
         ;    1551 ind_hndl();
0008c8 940e 052d 	CALL _ind_hndl
         ;    1552 led_hndl();
0008ca 940e 05bd 	CALL _led_hndl
         ;    1553 
         ;    1554 
         ;    1555 while (1)
          _0x183:
         ;    1556       {
         ;    1557       if(b600Hz)
0008cc fe20      	SBRS R2,0
0008cd c004      	RJMP _0x186
         ;    1558 		{
         ;    1559 		b600Hz=0; 
0008ce 94e8      	CLT
0008cf f820      	BLD  R2,0
         ;    1560           in_an();
0008d0 940e 009f 	CALL _in_an
         ;    1561           
         ;    1562 		}         
         ;    1563       if(b100Hz)
          _0x186:
0008d2 fe21      	SBRS R2,1
0008d3 c011      	RJMP _0x187
         ;    1564 		{        
         ;    1565 		b100Hz=0; 
0008d4 94e8      	CLT
0008d5 f821      	BLD  R2,1
         ;    1566 		but_an();
0008d6 dddb      	RCALL _but_an
         ;    1567 	    	//in_drv();
         ;    1568           ind_hndl();
0008d7 940e 052d 	CALL _ind_hndl
         ;    1569           step_contr();
0008d9 940e 036c 	CALL _step_contr
         ;    1570           
         ;    1571           main_loop_hndl();
0008db 940e 0182 	CALL _main_loop_hndl
         ;    1572           payka_hndl();
0008dd 940e 023d 	CALL _payka_hndl
         ;    1573           napoln_hndl();
0008df 940e 029d 	CALL _napoln_hndl
         ;    1574           orient_hndl();
0008e1 940e 0302 	CALL _orient_hndl
         ;    1575           out_drv();
0008e3 940e 034a 	CALL _out_drv
         ;    1576 		}   
         ;    1577 	if(b10Hz)
          _0x187:
0008e5 fe22      	SBRS R2,2
0008e6 c008      	RJMP _0x188
         ;    1578 		{
         ;    1579 		b10Hz=0;
0008e7 94e8      	CLT
0008e8 f822      	BLD  R2,2
         ;    1580 		prog_drv();
0008e9 940e 006a 	CALL _prog_drv
         ;    1581 		err_drv();
0008eb 940e 008f 	CALL _err_drv
         ;    1582 		
         ;    1583     	     
         ;    1584           led_hndl();
0008ed 940e 05bd 	CALL _led_hndl
         ;    1585           
         ;    1586           }
         ;    1587 
         ;    1588       };
          _0x188:
0008ef cfdc      	RJMP _0x183
         ;    1589 }
          _0x189:
0008f0 cfff      	RJMP _0x189
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x0:
0008f1 e0e0      	LDI  R30,LOW(0)
0008f2 bbea      	OUT  0x1A,R30
0008f3 efef      	LDI  R30,LOW(255)
0008f4 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x1:
0008f5 e0e2      	LDI  R30,LOW(2)
0008f6 93e0 0182 	STS  _orient_cmd,R30
0008f8 93e0 0181 	STS  _napoln_cmd,R30
0008fa 93e0 0180 	STS  _payka_cmd,R30
0008fc e0e0      	LDI  R30,LOW(0)
0008fd 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x2:
0008fe 93e0 017f 	STS  _main_loop_step,R30
000900 e1e4      	LDI  R30,LOW(20)
000901 e0f0      	LDI  R31,HIGH(20)
000902 93e0 018a 	STS  _main_loop_cnt_del,R30
000904 93f0 018b 	STS  _main_loop_cnt_del+1,R31
000906 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x3:
000907 91e0 018a 	LDS  R30,_main_loop_cnt_del
000909 91f0 018b 	LDS  R31,_main_loop_cnt_del+1
00090b 9731      	SBIW R30,1
00090c 93e0 018a 	STS  _main_loop_cnt_del,R30
00090e 93f0 018b 	STS  _main_loop_cnt_del+1,R31
000910 9730      	SBIW R30,0
000911 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
          SUBOPT_0x4:
000912 e0aa      	LDI  R26,LOW(10)
000913 e0b0      	LDI  R27,HIGH(10)
000914 940e 09ae 	CALL __MULW12
000916 93e0 0184 	STS  _payka_cnt_del,R30
000918 93f0 0185 	STS  _payka_cnt_del+1,R31
00091a 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
          SUBOPT_0x5:
00091b 91e0 0184 	LDS  R30,_payka_cnt_del
00091d 91f0 0185 	LDS  R31,_payka_cnt_del+1
00091f 9731      	SBIW R30,1
000920 93e0 0184 	STS  _payka_cnt_del,R30
000922 93f0 0185 	STS  _payka_cnt_del+1,R31
000924 9730      	SBIW R30,0
000925 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x6:
000926 e1e3      	LDI  R30,LOW(19)
000927 2ede      	MOV  R13,R30
000928 e2e8      	LDI  R30,LOW(40)
000929 e0f0      	LDI  R31,HIGH(40)
00092a 93e0 0173 	STS  _cnt_del,R30
00092c 93f0 0174 	STS  _cnt_del+1,R31
00092e 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 19 TIMES
          SUBOPT_0x7:
00092f 91e0 0173 	LDS  R30,_cnt_del
000931 91f0 0174 	LDS  R31,_cnt_del+1
000933 9731      	SBIW R30,1
000934 93e0 0173 	STS  _cnt_del,R30
000936 93f0 0174 	STS  _cnt_del+1,R31
000938 9730      	SBIW R30,0
000939 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
          SUBOPT_0x8:
00093a e0e3      	LDI  R30,LOW(3)
00093b 2ede      	MOV  R13,R30
00093c e3e2      	LDI  R30,LOW(50)
00093d e0f0      	LDI  R31,HIGH(50)
00093e 93e0 0173 	STS  _cnt_del,R30
000940 93f0 0174 	STS  _cnt_del+1,R31
000942 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x9:
000943 e0e5      	LDI  R30,LOW(5)
000944 2ede      	MOV  R13,R30
000945 e1e4      	LDI  R30,LOW(20)
000946 e0f0      	LDI  R31,HIGH(20)
000947 93e0 0173 	STS  _cnt_del,R30
000949 93f0 0174 	STS  _cnt_del+1,R31
00094b 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xA:
00094c e0e7      	LDI  R30,LOW(7)
00094d 2ede      	MOV  R13,R30
00094e e1e4      	LDI  R30,LOW(20)
00094f e0f0      	LDI  R31,HIGH(20)
000950 93e0 0173 	STS  _cnt_del,R30
000952 93f0 0174 	STS  _cnt_del+1,R31
000954 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xB:
000955 2ede      	MOV  R13,R30
000956 e1e4      	LDI  R30,LOW(20)
000957 e0f0      	LDI  R31,HIGH(20)
000958 93e0 0173 	STS  _cnt_del,R30
00095a 93f0 0174 	STS  _cnt_del+1,R31
00095c 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
          SUBOPT_0xC:
00095d 2fe0      	MOV  R30,R16
00095e 50e1      	SUBI R30,LOW(1)
00095f e0f0      	LDI  R31,0
000960 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
          SUBOPT_0xD:
000961 e0f0      	LDI  R31,0
000962 93fa      	ST   -Y,R31
000963 93ea      	ST   -Y,R30
000964 e0e0      	LDI  R30,LOW(0)
000965 93ea      	ST   -Y,R30
000966 940c 0521 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
          SUBOPT_0xE:
000968 93fa      	ST   -Y,R31
000969 93ea      	ST   -Y,R30
00096a e0e1      	LDI  R30,LOW(1)
00096b 93ea      	ST   -Y,R30
00096c 940c 0521 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xF:
00096e bbe1      	OUT  0x11,R30
00096f b3e2      	IN   R30,0x12
000970 6fe8      	ORI  R30,LOW(0xF8)
000971 bbe2      	OUT  0x12,R30
000972 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x10:
000973 b3e5      	IN   R30,0x15
000974 69e5      	ORI  R30,LOW(0x95)
000975 bbe5      	OUT  0x15,R30
000976 b3e4      	IN   R30,0x14
000977 76ea      	ANDI R30,LOW(0x6A)
000978 bbe4      	OUT  0x14,R30
000979 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x11:
00097a 91e0 016a 	LDS  R30,_but_s_G1
00097c 91a0 0169 	LDS  R26,_but_n_G1
00097e 17ea      	CP   R30,R26
00097f 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x12:
000980 91e0 016d 	LDS  R30,_but_onL_temp_G1
000982 91a0 016c 	LDS  R26,_but1_cnt_G1
000984 17ae      	CP   R26,R30
000985 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x13:
000986 91e0 016a 	LDS  R30,_but_s_G1
000988 7fed      	ANDI R30,0xFD
000989 2ebe      	MOV  R11,R30
00098a 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
          SUBOPT_0x14:
00098b 01df      	MOVW R26,R30
00098c e8e4      	LDI  R30,LOW(900)
00098d e0f3      	LDI  R31,HIGH(900)
00098e 17ea      	CP   R30,R26
00098f 07fb      	CPC  R31,R27
000990 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x15:
000991 e0e2      	LDI  R30,LOW(2)
000992 bfe3      	OUT  0x33,R30
000993 e3e0      	LDI  R30,LOW(65328)
000994 efff      	LDI  R31,HIGH(65328)
000995 bfe2      	OUT  0x32,R30
000996 e0e0      	LDI  R30,LOW(0)
000997 bfec      	OUT  0x3C,R30
000998 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x16:
000999 bbe8      	OUT  0x18,R30
00099a efef      	LDI  R30,LOW(255)
00099b bbe7      	OUT  0x17,R30
00099c 9508      	RET
         
          __ANEGW1:
00099d 95e0      	COM  R30
00099e 95f0      	COM  R31
00099f 9631      	ADIW R30,1
0009a0 9508      	RET
         
          __EQB12:
0009a1 17ea      	CP   R30,R26
0009a2 e0e1      	LDI  R30,1
0009a3 f009      	BREQ __EQB12T
0009a4 27ee      	CLR  R30
          __EQB12T:
0009a5 9508      	RET
         
          __MULW12U:
0009a6 9ffa      	MUL  R31,R26
0009a7 2df0      	MOV  R31,R0
0009a8 9feb      	MUL  R30,R27
0009a9 0df0      	ADD  R31,R0
0009aa 9fea      	MUL  R30,R26
0009ab 2de0      	MOV  R30,R0
0009ac 0df1      	ADD  R31,R1
0009ad 9508      	RET
         
          __MULW12:
0009ae d01a      	RCALL __CHKSIGNW
0009af dff6      	RCALL __MULW12U
0009b0 f40e      	BRTC __MULW121
0009b1 dfeb      	RCALL __ANEGW1
          __MULW121:
0009b2 9508      	RET
         
          __DIVW21U:
0009b3 2400      	CLR  R0
0009b4 2411      	CLR  R1
0009b5 e190      	LDI  R25,16
          __DIVW21U1:
0009b6 0faa      	LSL  R26
0009b7 1fbb      	ROL  R27
0009b8 1c00      	ROL  R0
0009b9 1c11      	ROL  R1
0009ba 1a0e      	SUB  R0,R30
0009bb 0a1f      	SBC  R1,R31
0009bc f418      	BRCC __DIVW21U2
0009bd 0e0e      	ADD  R0,R30
0009be 1e1f      	ADC  R1,R31
0009bf c001      	RJMP __DIVW21U3
          __DIVW21U2:
0009c0 60a1      	SBR  R26,1
          __DIVW21U3:
0009c1 959a      	DEC  R25
0009c2 f799      	BRNE __DIVW21U1
0009c3 01fd      	MOVW R30,R26
0009c4 01d0      	MOVW R26,R0
0009c5 9508      	RET
         
          __MODW21U:
0009c6 dfec      	RCALL __DIVW21U
0009c7 01fd      	MOVW R30,R26
0009c8 9508      	RET
         
          __CHKSIGNW:
0009c9 94e8      	CLT
0009ca fff7      	SBRS R31,7
0009cb c002      	RJMP __CHKSW1
0009cc dfd0      	RCALL __ANEGW1
0009cd 9468      	SET
          __CHKSW1:
0009ce ffb7      	SBRS R27,7
0009cf c006      	RJMP __CHKSW2
0009d0 95a0      	COM  R26
0009d1 95b0      	COM  R27
0009d2 9611      	ADIW R26,1
0009d3 f800      	BLD  R0,0
0009d4 9403      	INC  R0
0009d5 fa00      	BST  R0,0
          __CHKSW2:
0009d6 9508      	RET
         
          __EEPROMRDW:
0009d7 9611      	ADIW R26,1
0009d8 d002      	RCALL __EEPROMRDB
0009d9 2ffe      	MOV  R31,R30
0009da 9711      	SBIW R26,1
         
          __EEPROMRDB:
0009db 99e1      	SBIC EECR,EEWE
0009dc cffe      	RJMP __EEPROMRDB
0009dd 93ff      	PUSH R31
0009de b7ff      	IN   R31,SREG
0009df 94f8      	CLI
0009e0 bbae      	OUT  EEARL,R26
0009e1 bbbf      	OUT  EEARH,R27
0009e2 9ae0      	SBI  EECR,EERE
0009e3 b3ed      	IN   R30,EEDR
0009e4 bfff      	OUT  SREG,R31
0009e5 91ff      	POP  R31
0009e6 9508      	RET
         
          __EEPROMWRW:
0009e7 d007      	RCALL __EEPROMWRB
0009e8 9611      	ADIW R26,1
0009e9 93ef      	PUSH R30
0009ea 2fef      	MOV  R30,R31
0009eb d003      	RCALL __EEPROMWRB
0009ec 91ef      	POP  R30
0009ed 9711      	SBIW R26,1
0009ee 9508      	RET
         
          __EEPROMWRB:
0009ef 99e1      	SBIC EECR,EEWE
0009f0 cffe      	RJMP __EEPROMWRB
0009f1 b79f      	IN   R25,SREG
0009f2 94f8      	CLI
0009f3 bbae      	OUT  EEARL,R26
0009f4 bbbf      	OUT  EEARH,R27
0009f5 9ae0      	SBI  EECR,EERE
0009f6 b38d      	IN   R24,EEDR
0009f7 17e8      	CP   R30,R24
0009f8 f019      	BREQ __EEPROMWRB0
0009f9 bbed      	OUT  EEDR,R30
0009fa 9ae2      	SBI  EECR,EEMWE
0009fb 9ae1      	SBI  EECR,EEWE
          __EEPROMWRB0:
0009fc bf9f      	OUT  SREG,R25
0009fd 9508      	RET
         
          __SAVELOCR4:
0009fe 933a      	ST   -Y,R19
          __SAVELOCR3:
0009ff 932a      	ST   -Y,R18
          __SAVELOCR2:
000a00 931a      	ST   -Y,R17
000a01 930a      	ST   -Y,R16
000a02 9508      	RET
         
          __LOADLOCR4:
000a03 813b      	LDD  R19,Y+3
          __LOADLOCR3:
000a04 812a      	LDD  R18,Y+2
          __LOADLOCR2:
000a05 8119      	LDD  R17,Y+1
000a06 8108      	LD   R16,Y
000a07 9508      	RET
         

Assembly complete with no errors.
