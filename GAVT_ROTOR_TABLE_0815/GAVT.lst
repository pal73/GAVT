
AVRASM ver. 1.52  GAVT.asm Fri Aug 14 23:13:08 2015


         ;CodeVisionAVR C Compiler V1.24.1d Standard
         ;(C) Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
         ;http://www.hpinfotech.ro
         ;e-mail:office@hpinfotech.ro
         
         ;Chip type           : ATmega16
         ;Program type        : Application
         ;Clock frequency     : 1,000000 MHz
         ;Memory model        : Small
         ;Optimize for        : Size
         ;(s)printf features  : int, width
         ;(s)scanf features   : long, width
         ;External SRAM size  : 0
         ;Data Stack size     : 256 byte(s)
         ;Heap size           : 0 byte(s)
         ;Promote char to int : No
         ;char is unsigned    : Yes
         ;8 bit enums         : Yes
         ;Enhanced core instructions    : On
         ;Automatic register allocation : On
         
          	.EQU UDRE=0x5
          	.EQU RXC=0x7
          	.EQU USR=0xB
          	.EQU UDR=0xC
          	.EQU EERE=0x0
          	.EQU EEWE=0x1
          	.EQU EEMWE=0x2
          	.EQU SPSR=0xE
          	.EQU SPDR=0xF
          	.EQU EECR=0x1C
          	.EQU EEDR=0x1D
          	.EQU EEARL=0x1E
          	.EQU EEARH=0x1F
          	.EQU WDTCR=0x21
          	.EQU MCUCR=0x35
          	.EQU GICR=0x3B
          	.EQU SPL=0x3D
          	.EQU SPH=0x3E
          	.EQU SREG=0x3F
         
          	.DEF R0X0=R0
          	.DEF R0X1=R1
          	.DEF R0X2=R2
          	.DEF R0X3=R3
          	.DEF R0X4=R4
          	.DEF R0X5=R5
          	.DEF R0X6=R6
          	.DEF R0X7=R7
          	.DEF R0X8=R8
          	.DEF R0X9=R9
          	.DEF R0XA=R10
          	.DEF R0XB=R11
          	.DEF R0XC=R12
          	.DEF R0XD=R13
          	.DEF R0XE=R14
          	.DEF R0XF=R15
          	.DEF R0X10=R16
          	.DEF R0X11=R17
          	.DEF R0X12=R18
          	.DEF R0X13=R19
          	.DEF R0X14=R20
          	.DEF R0X15=R21
          	.DEF R0X16=R22
          	.DEF R0X17=R23
          	.DEF R0X18=R24
          	.DEF R0X19=R25
          	.DEF R0X1A=R26
          	.DEF R0X1B=R27
          	.DEF R0X1C=R28
          	.DEF R0X1D=R29
          	.DEF R0X1E=R30
          	.DEF R0X1F=R31
         
          	.EQU __se_bit=0x40
          	.EQU __sm_mask=0xB0
          	.EQU __sm_adc_noise_red=0x10
          	.EQU __sm_powerdown=0x20
          	.EQU __sm_powersave=0x30
          	.EQU __sm_standby=0xA0
          	.EQU __sm_ext_standby=0xB0
         
          	.MACRO __CPD1N
          	CPI  R30,LOW(@0)
          	LDI  R26,HIGH(@0)
          	CPC  R31,R26
          	LDI  R26,BYTE3(@0)
          	CPC  R22,R26
          	LDI  R26,BYTE4(@0)
          	CPC  R23,R26
          	.ENDM
         
          	.MACRO __CPD2N
          	CPI  R26,LOW(@0)
          	LDI  R30,HIGH(@0)
          	CPC  R27,R30
          	LDI  R30,BYTE3(@0)
          	CPC  R24,R30
          	LDI  R30,BYTE4(@0)
          	CPC  R25,R30
          	.ENDM
         
          	.MACRO __CPWRR
          	CP   R@0,R@2
          	CPC  R@1,R@3
          	.ENDM
         
          	.MACRO __CPWRN
          	CPI  R@0,LOW(@2)
          	LDI  R30,HIGH(@2)
          	CPC  R@1,R30
          	.ENDM
         
          	.MACRO __ADDD1N
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	SBCI R22,BYTE3(-@0)
          	SBCI R23,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __ADDD2N
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	SBCI R24,BYTE3(-@0)
          	SBCI R25,BYTE4(-@0)
          	.ENDM
         
          	.MACRO __SUBD1N
          	SUBI R30,LOW(@0)
          	SBCI R31,HIGH(@0)
          	SBCI R22,BYTE3(@0)
          	SBCI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __SUBD2N
          	SUBI R26,LOW(@0)
          	SBCI R27,HIGH(@0)
          	SBCI R24,BYTE3(@0)
          	SBCI R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ANDD1N
          	ANDI R30,LOW(@0)
          	ANDI R31,HIGH(@0)
          	ANDI R22,BYTE3(@0)
          	ANDI R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __ORD1N
          	ORI  R30,LOW(@0)
          	ORI  R31,HIGH(@0)
          	ORI  R22,BYTE3(@0)
          	ORI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __DELAY_USB
          	LDI  R24,LOW(@0)
          __DELAY_USB_LOOP:
          	DEC  R24
          	BRNE __DELAY_USB_LOOP
          	.ENDM
         
          	.MACRO __DELAY_USW
          	LDI  R24,LOW(@0)
          	LDI  R25,HIGH(@0)
          __DELAY_USW_LOOP:
          	SBIW R24,1
          	BRNE __DELAY_USW_LOOP
          	.ENDM
         
          	.MACRO __CLRD1S
          	LDI  R30,0
          	STD  Y+@0,R30
          	STD  Y+@0+1,R30
          	STD  Y+@0+2,R30
          	STD  Y+@0+3,R30
          	.ENDM
         
          	.MACRO __GETD1S
          	LDD  R30,Y+@0
          	LDD  R31,Y+@0+1
          	LDD  R22,Y+@0+2
          	LDD  R23,Y+@0+3
          	.ENDM
         
          	.MACRO __PUTD1S
          	STD  Y+@0,R30
          	STD  Y+@0+1,R31
          	STD  Y+@0+2,R22
          	STD  Y+@0+3,R23
          	.ENDM
         
          	.MACRO __POINTB1MN
          	LDI  R30,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1MN
          	LDI  R30,LOW(@0+@1)
          	LDI  R31,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW1FN
          	LDI  R30,LOW(2*@0+@1)
          	LDI  R31,HIGH(2*@0+@1)
          	.ENDM
         
          	.MACRO __POINTB2MN
          	LDI  R26,LOW(@0+@1)
          	.ENDM
         
          	.MACRO __POINTW2MN
          	LDI  R26,LOW(@0+@1)
          	LDI  R27,HIGH(@0+@1)
          	.ENDM
         
          	.MACRO __POINTBRM
          	LDI  R@0,LOW(@1)
          	.ENDM
         
          	.MACRO __POINTWRM
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __POINTBRMN
          	LDI  R@0,LOW(@1+@2)
          	.ENDM
         
          	.MACRO __POINTWRMN
          	LDI  R@0,LOW(@2+@3)
          	LDI  R@1,HIGH(@2+@3)
          	.ENDM
         
          	.MACRO __GETD1N
          	LDI  R30,LOW(@0)
          	LDI  R31,HIGH(@0)
          	LDI  R22,BYTE3(@0)
          	LDI  R23,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2N
          	LDI  R26,LOW(@0)
          	LDI  R27,HIGH(@0)
          	LDI  R24,BYTE3(@0)
          	LDI  R25,BYTE4(@0)
          	.ENDM
         
          	.MACRO __GETD2S
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	LDD  R24,Y+@0+2
          	LDD  R25,Y+@0+3
          	.ENDM
         
          	.MACRO __GETB1MN
          	LDS  R30,@0+@1
          	.ENDM
         
          	.MACRO __GETW1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	LDS  R22,@0+@1+2
          	LDS  R23,@0+@1+3
          	.ENDM
         
          	.MACRO __GETBRMN
          	LDS  R@2,@0+@1
          	.ENDM
         
          	.MACRO __GETWRMN
          	LDS  R@2,@0+@1
          	LDS  R@3,@0+@1+1
          	.ENDM
         
          	.MACRO __GETB2MN
          	LDS  R26,@0+@1
          	.ENDM
         
          	.MACRO __GETW2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	.ENDM
         
          	.MACRO __GETD2MN
          	LDS  R26,@0+@1
          	LDS  R27,@0+@1+1
          	LDS  R24,@0+@1+2
          	LDS  R25,@0+@1+3
          	.ENDM
         
          	.MACRO __PUTB1MN
          	STS  @0+@1,R30
          	.ENDM
         
          	.MACRO __PUTW1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	.ENDM
         
          	.MACRO __PUTD1MN
          	STS  @0+@1,R30
          	STS  @0+@1+1,R31
          	STS  @0+@1+2,R22
          	STS  @0+@1+3,R23
          	.ENDM
         
          	.MACRO __PUTBMRN
          	STS  @0+@1,R@2
          	.ENDM
         
          	.MACRO __PUTWMRN
          	STS  @0+@1,R@2
          	STS  @0+@1+1,R@3
          	.ENDM
         
          	.MACRO __GETW1R
          	MOV  R30,R@0
          	MOV  R31,R@1
          	.ENDM
         
          	.MACRO __GETW2R
          	MOV  R26,R@0
          	MOV  R27,R@1
          	.ENDM
         
          	.MACRO __GETWRN
          	LDI  R@0,LOW(@2)
          	LDI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __PUTW1R
          	MOV  R@0,R30
          	MOV  R@1,R31
          	.ENDM
         
          	.MACRO __PUTW2R
          	MOV  R@0,R26
          	MOV  R@1,R27
          	.ENDM
         
          	.MACRO __ADDWRN
          	SUBI R@0,LOW(-@2)
          	SBCI R@1,HIGH(-@2)
          	.ENDM
         
          	.MACRO __ADDWRR
          	ADD  R@0,R@2
          	ADC  R@1,R@3
          	.ENDM
         
          	.MACRO __SUBWRN
          	SUBI R@0,LOW(@2)
          	SBCI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __SUBWRR
          	SUB  R@0,R@2
          	SBC  R@1,R@3
          	.ENDM
         
          	.MACRO __ANDWRN
          	ANDI R@0,LOW(@2)
          	ANDI R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ANDWRR
          	AND  R@0,R@2
          	AND  R@1,R@3
          	.ENDM
         
          	.MACRO __ORWRN
          	ORI  R@0,LOW(@2)
          	ORI  R@1,HIGH(@2)
          	.ENDM
         
          	.MACRO __ORWRR
          	OR   R@0,R@2
          	OR   R@1,R@3
          	.ENDM
         
          	.MACRO __EORWRR
          	EOR  R@0,R@2
          	EOR  R@1,R@3
          	.ENDM
         
          	.MACRO __GETWRS
          	LDD  R@0,Y+@2
          	LDD  R@1,Y+@2+1
          	.ENDM
         
          	.MACRO __PUTWSR
          	STD  Y+@2,R@0
          	STD  Y+@2+1,R@1
          	.ENDM
         
          	.MACRO __MOVEWRR
          	MOV  R@0,R@2
          	MOV  R@1,R@3
          	.ENDM
         
          	.MACRO __INWR
          	IN   R@0,@2
          	IN   R@1,@2+1
          	.ENDM
         
          	.MACRO __OUTWR
          	OUT  @2+1,R@1
          	OUT  @2,R@0
          	.ENDM
         
          	.MACRO __CALL1MN
          	LDS  R30,@0+@1
          	LDS  R31,@0+@1+1
          	ICALL
          	.ENDM
         
          	.MACRO __NBST
          	BST  R@0,@1
          	IN   R30,SREG
          	LDI  R31,0x40
          	EOR  R30,R31
          	OUT  SREG,R30
          	.ENDM
         
         
          	.MACRO __PUTB1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SN
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNS
          	LDD  R26,Y+@0
          	LDD  R27,Y+@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMN
          	LDS  R26,@0
          	LDS  R27,@0+1
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1PMNS
          	LDS  R26,@0
          	LDS  R27,@0+1
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RN
          	MOVW R26,R@0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RNS
          	MOVW R26,R@0
          	ADIW R26,@1
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RON
          	MOV  R26,R@0
          	MOV  R27,R@1
          	SUBI R26,LOW(-@2)
          	SBCI R27,HIGH(-@2)
          	CALL __PUTDP1
          	.ENDM
         
          	.MACRO __PUTB1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1RONS
          	MOV  R26,R@0
          	MOV  R27,R@1
          	ADIW R26,@2
          	CALL __PUTDP1
          	.ENDM
         
         
          	.MACRO __GETB1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R30,Z
          	.ENDM
         
          	.MACRO __GETW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R31,Z
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __GETD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R0,Z+
          	LD   R1,Z+
          	LD   R22,Z+
          	LD   R23,Z
          	MOVW R30,R0
          	.ENDM
         
          	.MACRO __GETB2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R26,X
          	.ENDM
         
          	.MACRO __GETW2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	.ENDM
         
          	.MACRO __GETD2SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R1,X+
          	LD   R24,X+
          	LD   R25,X
          	MOVW R26,R0
          	.ENDM
         
          	.MACRO __GETBRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@1)
          	SBCI R31,HIGH(-@1)
          	LD   R@0,Z
          	.ENDM
         
          	.MACRO __GETWRSX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	LD   R@0,Z+
          	LD   R@1,Z
          	.ENDM
         
          	.MACRO __LSLW8SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	LD   R31,Z
          	CLR  R30
          	.ENDM
         
          	.MACRO __PUTB1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __CLRW1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __CLRD1SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	CLR  R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z+,R0
          	ST   Z,R0
          	.ENDM
         
          	.MACRO __PUTB2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R26
          	.ENDM
         
          	.MACRO __PUTW2SX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z+,R26
          	ST   Z,R27
          	.ENDM
         
          	.MACRO __PUTBSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@0)
          	SBCI R31,HIGH(-@0)
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTWSRX
          	MOVW R30,R28
          	SUBI R30,LOW(-@2)
          	SBCI R31,HIGH(-@2)
          	ST   Z+,R@0
          	ST   Z,R@1
          	.ENDM
         
          	.MACRO __PUTB1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X,R30
          	.ENDM
         
          	.MACRO __PUTW1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X,R31
          	.ENDM
         
          	.MACRO __PUTD1SNX
          	MOVW R26,R28
          	SUBI R26,LOW(-@0)
          	SBCI R27,HIGH(-@0)
          	LD   R0,X+
          	LD   R27,X
          	MOV  R26,R0
          	SUBI R26,LOW(-@1)
          	SBCI R27,HIGH(-@1)
          	ST   X+,R30
          	ST   X+,R31
          	ST   X+,R22
          	ST   X,R23
          	.ENDM
         
          	.MACRO __MULBRR
          	MULS R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.MACRO __MULBRRU
          	MUL  R@0,R@1
          	MOV  R30,R0
          	.ENDM
         
          	.CSEG
          	.ORG 0
         
          	.INCLUDE "GAVT.vec"
         
         ;INTERRUPT VECTORS
000000 940c 003a 	JMP  __RESET
000002 940c 0000 	JMP  0
000004 940c 0000 	JMP  0
000006 940c 0000 	JMP  0
000008 940c 0000 	JMP  0
00000a 940c 0000 	JMP  0
00000c 940c 0000 	JMP  0
00000e 940c 0000 	JMP  0
000010 940c 0000 	JMP  0
000012 940c 07bb 	JMP  _timer0_ovf_isr
000014 940c 0000 	JMP  0
000016 940c 0000 	JMP  0
000018 940c 0000 	JMP  0
00001a 940c 0000 	JMP  0
00001c 940c 0000 	JMP  0
00001e 940c 0000 	JMP  0
000020 940c 0000 	JMP  0
000022 940c 0000 	JMP  0
000024 940c 0000 	JMP  0
000026 940c 0000 	JMP  0
000028 940c 0000 	JMP  0
         
          	.INCLUDE "GAVT.inc"
          	.DEF _t0_cnt0=R6
          	.DEF _t0_cnt1=R7
          	.DEF _t0_cnt2=R8
          	.DEF _t0_cnt3=R9
          	.DEF _ind_cnt=R10
          _IND_STROB:
          	.DB  0xBF,0xDF,0xEF,0xF7,0x7F
00002a dfbf
00002b f7ef
00002c 007f
          _DIGISYM:
          	.DB  0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8
00002d f9c0
00002e b0a4
00002f 9299
000030 f882
          	.DB  0x80,0x90,0xFF
000031 9080
000032 00ff
          _3:
          	.DB  0x55,0x55,0x55,0x55,0x55
000033 5555
000034 5555
000035 0055
          	.DEF _but=R11
          	.DEF _prog=R12
          	.DEF _step=R13
          	.DEF _ind=R14
         
          __GLOBAL_INI_TBL:
          	.DW  0x05
000036 0005
          	.DW  _ind_out
000037 0160
          	.DW  _3*2
000038 0066
         
          	.DW  0
000039 0000
         
          __RESET:
00003a 94f8      	CLI
00003b 27ee      	CLR  R30
00003c bbec      	OUT  EECR,R30
         
         ;INTERRUPT VECTORS ARE PLACED
         ;AT THE START OF FLASH
00003d e0f1      	LDI  R31,1
00003e bffb      	OUT  GICR,R31
00003f bfeb      	OUT  GICR,R30
000040 bfe5      	OUT  MCUCR,R30
         
         ;DISABLE WATCHDOG
000041 e1f8      	LDI  R31,0x18
000042 bdf1      	OUT  WDTCR,R31
000043 bde1      	OUT  WDTCR,R30
         
         ;CLEAR R2-R14
000044 e08d      	LDI  R24,13
000045 e0a2      	LDI  R26,2
000046 27bb      	CLR  R27
          __CLEAR_REG:
000047 93ed      	ST   X+,R30
000048 958a      	DEC  R24
000049 f7e9      	BRNE __CLEAR_REG
         
         ;CLEAR SRAM
00004a e080      	LDI  R24,LOW(0x400)
00004b e094      	LDI  R25,HIGH(0x400)
00004c e6a0      	LDI  R26,0x60
          __CLEAR_SRAM:
00004d 93ed      	ST   X+,R30
00004e 9701      	SBIW R24,1
00004f f7e9      	BRNE __CLEAR_SRAM
         
         ;GLOBAL VARIABLES INITIALIZATION
000050 e6ec      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
000051 e0f0      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
          __GLOBAL_INI_NEXT:
000052 9185      	LPM  R24,Z+
000053 9195      	LPM  R25,Z+
000054 9700      	SBIW R24,0
000055 f061      	BREQ __GLOBAL_INI_END
000056 91a5      	LPM  R26,Z+
000057 91b5      	LPM  R27,Z+
000058 9005      	LPM  R0,Z+
000059 9015      	LPM  R1,Z+
00005a 01bf      	MOVW R22,R30
00005b 01f0      	MOVW R30,R0
          __GLOBAL_INI_LOOP:
00005c 9005      	LPM  R0,Z+
00005d 920d      	ST   X+,R0
00005e 9701      	SBIW R24,1
00005f f7e1      	BRNE __GLOBAL_INI_LOOP
000060 01fb      	MOVW R30,R22
000061 cff0      	RJMP __GLOBAL_INI_NEXT
          __GLOBAL_INI_END:
         
         ;STACK POINTER INITIALIZATION
000062 e5ef      	LDI  R30,LOW(0x45F)
000063 bfed      	OUT  SPL,R30
000064 e0e4      	LDI  R30,HIGH(0x45F)
000065 bfee      	OUT  SPH,R30
         
         ;DATA STACK POINTER INITIALIZATION
000066 e6c0      	LDI  R28,LOW(0x160)
000067 e0d1      	LDI  R29,HIGH(0x160)
         
000068 940c 07f6 	JMP  _main
         
          	.ESEG
          	.ORG 0
         
          	.DSEG
          	.ORG 0x160
         ;       1 #define LED_POW_ON	5
         ;       2 #define LED_MAIN_LOOP	1
         ;       3 #define LED_ORIENT	4
         ;       4 #define LED_NAPOLN	2 
         ;       5 #define LED_PAYKA	3
         ;       6 #define LED_ERROR	0 
         ;       7 #define LED_WRK	6
         ;       8 #define LED_LOOP_AUTO	7
         ;       9 
         ;      10 
         ;      11 
         ;      12 
         ;      13 #define BD1	7
         ;      14 #define BD2	4
         ;      15 #define DM	1
         ;      16 #define START	0
         ;      17 #define STOP	2
         ;      18 #define MD1	3
         ;      19 #define MD2	5
         ;      20 
         ;      21 
         ;      22 #define PP1	6
         ;      23 #define PP2	7
         ;      24 #define PP3	5
         ;      25 #define PP4	4
         ;      26 #define PP5	3 
         ;      27 #define PP6	2
         ;      28 #define PP7	1
         ;      29 
         ;      30 
         ;      31 bit b600Hz;
         ;      32 
         ;      33 bit b100Hz;
         ;      34 bit b10Hz;
         ;      35 char t0_cnt0,t0_cnt1,t0_cnt2,t0_cnt3;
         ;      36 char ind_cnt;
         ;      37 flash char IND_STROB[]={0b10111111,0b11011111,0b11101111,0b11110111,0b01111111};
         
          	.CSEG
         ;      38 flash char DIGISYM[]={0b11000000,0b11111001,0b10100100,0b10110000,0b10011001,0b10010010,0b10000010,0b11111000,0b10000000,0b10010000,0b11111111};								
         ;      39 
         ;      40 char ind_out[5]={0x255,0x255,0x255,0x255,0x255};
         
          	.DSEG
          _ind_out:
000160      	.BYTE 0x5
         ;      41 char dig[4];
          _dig:
000165      	.BYTE 0x4
         ;      42 bit bZ;    
         ;      43 char but;
         ;      44 static char but_n;
          _but_n_G1:
000169      	.BYTE 0x1
         ;      45 static char but_s;
          _but_s_G1:
00016a      	.BYTE 0x1
         ;      46 static char but0_cnt;
          _but0_cnt_G1:
00016b      	.BYTE 0x1
         ;      47 static char but1_cnt;
          _but1_cnt_G1:
00016c      	.BYTE 0x1
         ;      48 static char but_onL_temp;
          _but_onL_temp_G1:
00016d      	.BYTE 0x1
         ;      49 bit l_but;		//идет длинное нажатие на кнопку
         ;      50 bit n_but;          //произошло нажатие
         ;      51 bit speed;		//разрешение ускорения перебора 
         ;      52 bit bFL2; 
         ;      53 bit bFL5;
         ;      54 eeprom enum{elmAUTO=0x55,elmMNL=0xaa}ee_loop_mode;
         
          	.ESEG
          _ee_loop_mode:
          	.DB  0x0
000000 00
         ;      55 //eeprom char ee_program[2];
         ;      56 enum {p1=1,p2=2,p3=3,p4=4}prog;
         ;      57 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}step=sOFF;
         ;      58 enum {iMn,iPr_sel,iSet} ind;
         ;      59 char sub_ind;
         
          	.DSEG
          _sub_ind:
00016e      	.BYTE 0x1
         ;      60 char in_word,in_word_old,in_word_new,in_word_cnt;
          _in_word:
00016f      	.BYTE 0x1
          _in_word_old:
000170      	.BYTE 0x1
          _in_word_new:
000171      	.BYTE 0x1
          _in_word_cnt:
000172      	.BYTE 0x1
         ;      61 bit bERR;
         ;      62 signed int cnt_del=0;
          _cnt_del:
000173      	.BYTE 0x2
         ;      63 
         ;      64 bit bMD1,bMD2,bBD1,bBD2,bDM,bSTART,bSTOP;
         ;      65 
         ;      66 char cnt_md1,cnt_md2,cnt_bd1,cnt_bd2,cnt_dm,cnt_start,cnt_stop;
          _cnt_md1:
000175      	.BYTE 0x1
          _cnt_md2:
000176      	.BYTE 0x1
          _cnt_bd1:
000177      	.BYTE 0x1
          _cnt_bd2:
000178      	.BYTE 0x1
          _cnt_dm:
000179      	.BYTE 0x1
          _cnt_start:
00017a      	.BYTE 0x1
          _cnt_stop:
00017b      	.BYTE 0x1
         ;      67 
         ;      68 //eeprom unsigned ee_delay[4,2];
         ;      69 //eeprom char ee_vr_log;
         ;      70 #include <mega16.h>
         ;      71 //#include <mega8535.h>  
         ;      72 
         ;      73 bit bPP1,bPP2,bPP3,bPP4,bPP5,bPP6,bPP7,bPP8;
         ;      74 
         ;      75 enum{sOFF=0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16,s54,s55,s100}payka_step=sOFF,napoln_step=sOFF,orient_step=sOFF,main_loop_step=sOFF;
          _payka_step:
00017c      	.BYTE 0x1
          _napoln_step:
00017d      	.BYTE 0x1
          _orient_step:
00017e      	.BYTE 0x1
          _main_loop_step:
00017f      	.BYTE 0x1
         ;      76 enum{cmdOFF=0,cmdSTART,cmdSTOP}payka_cmd=cmdOFF,napoln_cmd=cmdOFF,orient_cmd=cmdOFF,main_loop_cmd=cmdOFF;
          _payka_cmd:
000180      	.BYTE 0x1
          _napoln_cmd:
000181      	.BYTE 0x1
          _orient_cmd:
000182      	.BYTE 0x1
          _main_loop_cmd:
000183      	.BYTE 0x1
         ;      77 signed short payka_cnt_del,napoln_cnt_del,orient_cnt_del,main_loop_cnt_del;
          _payka_cnt_del:
000184      	.BYTE 0x2
          _napoln_cnt_del:
000186      	.BYTE 0x2
          _orient_cnt_del:
000188      	.BYTE 0x2
          _main_loop_cnt_del:
00018a      	.BYTE 0x2
         ;      78 eeprom signed short ee_temp1,ee_temp2;
         
          	.ESEG
          _ee_temp1:
          	.DW  0x0
000001 00 00
          _ee_temp2:
          	.DW  0x0
000003 00 00
         ;      79 
         ;      80 bit bPAYKA_COMPLETE=0,bNAPOLN_COMPLETE=0,bORIENT_COMPLETE=0;
         ;      81 eeprom signed int ee_prog;
          _ee_prog:
          	.DW  0x0
000005 00 00
         ;      82 
         ;      83 #define EE_PROG_FULL		0
         ;      84 #define EE_PROG_ONLY_ORIENT 	1
         ;      85 #define EE_PROG_ONLY_NAPOLN	2
         ;      86 #define EE_PROG_ONLY_PAYKA	3
         ;      87 #define EE_PROG_ONLY_MAIN_LOOP 	4
         ;      88 
         ;      89 //-----------------------------------------------
         ;      90 void prog_drv(void)
         ;      91 {
         
          	.CSEG
          _prog_drv:
         ;      92 char temp,temp1,temp2;
         ;      93 
         ;      94 ///temp=ee_program[0];
         ;      95 ///temp1=ee_program[1];
         ;      96 ///temp2=ee_program[2];
         ;      97 
         ;      98 if((temp==temp1)&&(temp==temp2))
00006a 940e 0958 	CALL __SAVELOCR3
         ;	temp -> R16
         ;	temp1 -> R17
         ;	temp2 -> R18
00006c 1710      	CP   R17,R16
00006d f411      	BRNE _0x5
00006e 1720      	CP   R18,R16
00006f f009      	BREQ _0x6
          _0x5:
000070 c001      	RJMP _0x4
          _0x6:
         ;      99 	{
         ;     100 	}
         ;     101 else if((temp==temp1)&&(temp!=temp2))
000071 c019      	RJMP _0x7
          _0x4:
000072 1710      	CP   R17,R16
000073 f411      	BRNE _0x9
000074 1720      	CP   R18,R16
000075 f409      	BRNE _0xA
          _0x9:
000076 c002      	RJMP _0x8
          _0xA:
         ;     102 	{
         ;     103 	temp2=temp;
000077 2f20      	MOV  R18,R16
         ;     104 	}
         ;     105 else if((temp!=temp1)&&(temp==temp2))
000078 c012      	RJMP _0xB
          _0x8:
000079 1710      	CP   R17,R16
00007a f011      	BREQ _0xD
00007b 1720      	CP   R18,R16
00007c f009      	BREQ _0xE
          _0xD:
00007d c002      	RJMP _0xC
          _0xE:
         ;     106 	{
         ;     107 	temp1=temp;
00007e 2f10      	MOV  R17,R16
         ;     108 	}
         ;     109 else if((temp!=temp1)&&(temp1==temp2))
00007f c00b      	RJMP _0xF
          _0xC:
000080 1710      	CP   R17,R16
000081 f011      	BREQ _0x11
000082 1721      	CP   R18,R17
000083 f009      	BREQ _0x12
          _0x11:
000084 c002      	RJMP _0x10
          _0x12:
         ;     110 	{
         ;     111 	temp=temp1;
000085 2f01      	MOV  R16,R17
         ;     112 	}
         ;     113 else if((temp!=temp1)&&(temp!=temp2))
000086 c004      	RJMP _0x13
          _0x10:
000087 1710      	CP   R17,R16
000088 f011      	BREQ _0x15
000089 1720      	CP   R18,R16
00008a f401      	BRNE _0x16
          _0x15:
          _0x16:
         ;     114 	{
         ;     115 ////	temp=MINPROG;
         ;     116 ////	temp1=MINPROG;
         ;     117 ////	temp2=MINPROG;
         ;     118 	}
         ;     119 
         ;     120 ////if(!((temp<=MAXPROG)&&(temp>=MINPROG)))
         ;     121 ////	{
         ;     122 ////	temp=MINPROG;
         ;     123 ////	}
         ;     124 
         ;     125 ///if(temp!=ee_program[0])ee_program[0]=temp;
         ;     126 ///if(temp!=ee_program[1])ee_program[1]=temp;
         ;     127 ///if(temp!=ee_program[2])ee_program[2]=temp;
         ;     128 
         ;     129 prog=temp;
          _0x13:
          _0xF:
          _0xB:
          _0x7:
00008b 2ec0      	MOV  R12,R16
         ;     130 }
00008c 940e 095d 	CALL __LOADLOCR3
00008e c48f      	RJMP _0x16F
         ;     131 
         ;     132 //-----------------------------------------------
         ;     133 void in_drv(void)
         ;     134 {
         ;     135 char i,temp;
         ;     136 unsigned int tempUI;
         ;     137 DDRA=0x00;
         ;	i -> R16
         ;	temp -> R17
         ;	tempUI -> R18,R19
         ;     138 PORTA=0xff;
         ;     139 in_word_new=PINA;
         ;     140 if(in_word_old==in_word_new)
         ;     141 	{
         ;     142 	if(in_word_cnt<10)
         ;     143 		{
         ;     144 		in_word_cnt++;
         ;     145 		if(in_word_cnt>=10)
         ;     146 			{
         ;     147 			in_word=in_word_old;
         ;     148 			}
         ;     149 		}
         ;     150 	}
         ;     151 else in_word_cnt=0;
         ;     152 
         ;     153 
         ;     154 in_word_old=in_word_new;
         ;     155 }   
         ;     156 
         ;     157 //-----------------------------------------------
         ;     158 void err_drv(void)
         ;     159 {
          _err_drv:
         ;     160 if(step==sOFF)
00008f 20dd      	TST  R13
000090 f459      	BRNE _0x1B
         ;     161 	{
         ;     162     	if(prog==p2)	
000091 e0e2      	LDI  R30,LOW(2)
000092 15ec      	CP   R30,R12
000093 f439      	BRNE _0x1C
         ;     163     		{
         ;     164        		if(bMD1) bERR=1;
000094 fe32      	SBRS R3,2
000095 c003      	RJMP _0x1D
000096 9468      	SET
000097 f831      	BLD  R3,1
         ;     165        		else bERR=0;
000098 c002      	RJMP _0x1E
          _0x1D:
000099 94e8      	CLT
00009a f831      	BLD  R3,1
          _0x1E:
         ;     166 		}
         ;     167 	}
          _0x1C:
         ;     168 else bERR=0;
00009b c002      	RJMP _0x1F
          _0x1B:
00009c 94e8      	CLT
00009d f831      	BLD  R3,1
          _0x1F:
         ;     169 }
00009e 9508      	RET
         ;     170   
         ;     171 
         ;     172 //-----------------------------------------------
         ;     173 void in_an(void)
         ;     174 {
          _in_an:
         ;     175 DDRA=0x00;
00009f 940e 0846 	CALL SUBOPT_0x0
         ;     176 PORTA=0xff;
0000a1 bbeb      	OUT  0x1B,R30
         ;     177 in_word=PINA;
0000a2 b3e9      	IN   R30,0x19
0000a3 93e0 016f 	STS  _in_word,R30
         ;     178 
         ;     179 if(!(in_word&(1<<MD1)))
0000a5 70e8      	ANDI R30,LOW(0x8)
0000a6 f481      	BRNE _0x20
         ;     180 	{
         ;     181 	if(cnt_md1<10)
0000a7 91a0 0175 	LDS  R26,_cnt_md1
0000a9 30aa      	CPI  R26,LOW(0xA)
0000aa f458      	BRSH _0x21
         ;     182 		{
         ;     183 		cnt_md1++;
0000ab 91e0 0175 	LDS  R30,_cnt_md1
0000ad 5fef      	SUBI R30,-LOW(1)
0000ae 93e0 0175 	STS  _cnt_md1,R30
         ;     184 		if(cnt_md1==10) bMD1=1;
0000b0 91a0 0175 	LDS  R26,_cnt_md1
0000b2 30aa      	CPI  R26,LOW(0xA)
0000b3 f411      	BRNE _0x22
0000b4 9468      	SET
0000b5 f832      	BLD  R3,2
         ;     185 		}
          _0x22:
         ;     186 
         ;     187 	}
          _0x21:
         ;     188 else
0000b6 c00b      	RJMP _0x23
          _0x20:
         ;     189 	{
         ;     190 	if(cnt_md1)
0000b7 91e0 0175 	LDS  R30,_cnt_md1
0000b9 30e0      	CPI  R30,0
0000ba f039      	BREQ _0x24
         ;     191 		{
         ;     192 		cnt_md1--;
0000bb 50e1      	SUBI R30,LOW(1)
0000bc 93e0 0175 	STS  _cnt_md1,R30
         ;     193 		if(cnt_md1==0) bMD1=0;
0000be 30e0      	CPI  R30,0
0000bf f411      	BRNE _0x25
0000c0 94e8      	CLT
0000c1 f832      	BLD  R3,2
         ;     194 		}
          _0x25:
         ;     195 
         ;     196 	}
          _0x24:
          _0x23:
         ;     197 
         ;     198 if(!(in_word&(1<<MD2)))
0000c2 91e0 016f 	LDS  R30,_in_word
0000c4 72e0      	ANDI R30,LOW(0x20)
0000c5 f481      	BRNE _0x26
         ;     199 	{
         ;     200 	if(cnt_md2<10)
0000c6 91a0 0176 	LDS  R26,_cnt_md2
0000c8 30aa      	CPI  R26,LOW(0xA)
0000c9 f458      	BRSH _0x27
         ;     201 		{
         ;     202 		cnt_md2++;
0000ca 91e0 0176 	LDS  R30,_cnt_md2
0000cc 5fef      	SUBI R30,-LOW(1)
0000cd 93e0 0176 	STS  _cnt_md2,R30
         ;     203 		if(cnt_md2==10) bMD2=1;
0000cf 91a0 0176 	LDS  R26,_cnt_md2
0000d1 30aa      	CPI  R26,LOW(0xA)
0000d2 f411      	BRNE _0x28
0000d3 9468      	SET
0000d4 f833      	BLD  R3,3
         ;     204 		}
          _0x28:
         ;     205 
         ;     206 	}
          _0x27:
         ;     207 else
0000d5 c00b      	RJMP _0x29
          _0x26:
         ;     208 	{
         ;     209 	if(cnt_md2)
0000d6 91e0 0176 	LDS  R30,_cnt_md2
0000d8 30e0      	CPI  R30,0
0000d9 f039      	BREQ _0x2A
         ;     210 		{
         ;     211 		cnt_md2--;
0000da 50e1      	SUBI R30,LOW(1)
0000db 93e0 0176 	STS  _cnt_md2,R30
         ;     212 		if(cnt_md2==0) bMD2=0;
0000dd 30e0      	CPI  R30,0
0000de f411      	BRNE _0x2B
0000df 94e8      	CLT
0000e0 f833      	BLD  R3,3
         ;     213 		}
          _0x2B:
         ;     214 
         ;     215 	}
          _0x2A:
          _0x29:
         ;     216 
         ;     217 if(!(in_word&(1<<BD1)))
0000e1 91e0 016f 	LDS  R30,_in_word
0000e3 78e0      	ANDI R30,LOW(0x80)
0000e4 f481      	BRNE _0x2C
         ;     218 	{
         ;     219 	if(cnt_bd1<10)
0000e5 91a0 0177 	LDS  R26,_cnt_bd1
0000e7 30aa      	CPI  R26,LOW(0xA)
0000e8 f458      	BRSH _0x2D
         ;     220 		{
         ;     221 		cnt_bd1++;
0000e9 91e0 0177 	LDS  R30,_cnt_bd1
0000eb 5fef      	SUBI R30,-LOW(1)
0000ec 93e0 0177 	STS  _cnt_bd1,R30
         ;     222 		if(cnt_bd1==10) bBD1=1;
0000ee 91a0 0177 	LDS  R26,_cnt_bd1
0000f0 30aa      	CPI  R26,LOW(0xA)
0000f1 f411      	BRNE _0x2E
0000f2 9468      	SET
0000f3 f834      	BLD  R3,4
         ;     223 		}
          _0x2E:
         ;     224 
         ;     225 	}
          _0x2D:
         ;     226 else
0000f4 c00b      	RJMP _0x2F
          _0x2C:
         ;     227 	{
         ;     228 	if(cnt_bd1)
0000f5 91e0 0177 	LDS  R30,_cnt_bd1
0000f7 30e0      	CPI  R30,0
0000f8 f039      	BREQ _0x30
         ;     229 		{
         ;     230 		cnt_bd1--;
0000f9 50e1      	SUBI R30,LOW(1)
0000fa 93e0 0177 	STS  _cnt_bd1,R30
         ;     231 		if(cnt_bd1==0) bBD1=0;
0000fc 30e0      	CPI  R30,0
0000fd f411      	BRNE _0x31
0000fe 94e8      	CLT
0000ff f834      	BLD  R3,4
         ;     232 		}
          _0x31:
         ;     233 
         ;     234 	}
          _0x30:
          _0x2F:
         ;     235 
         ;     236 if(!(in_word&(1<<BD2)))
000100 91e0 016f 	LDS  R30,_in_word
000102 71e0      	ANDI R30,LOW(0x10)
000103 f481      	BRNE _0x32
         ;     237 	{
         ;     238 	if(cnt_bd2<10)
000104 91a0 0178 	LDS  R26,_cnt_bd2
000106 30aa      	CPI  R26,LOW(0xA)
000107 f458      	BRSH _0x33
         ;     239 		{
         ;     240 		cnt_bd2++;
000108 91e0 0178 	LDS  R30,_cnt_bd2
00010a 5fef      	SUBI R30,-LOW(1)
00010b 93e0 0178 	STS  _cnt_bd2,R30
         ;     241 		if(cnt_bd2==10) bBD2=1;
00010d 91a0 0178 	LDS  R26,_cnt_bd2
00010f 30aa      	CPI  R26,LOW(0xA)
000110 f411      	BRNE _0x34
000111 9468      	SET
000112 f835      	BLD  R3,5
         ;     242 		}
          _0x34:
         ;     243 
         ;     244 	}
          _0x33:
         ;     245 else
000113 c00b      	RJMP _0x35
          _0x32:
         ;     246 	{
         ;     247 	if(cnt_bd2)
000114 91e0 0178 	LDS  R30,_cnt_bd2
000116 30e0      	CPI  R30,0
000117 f039      	BREQ _0x36
         ;     248 		{
         ;     249 		cnt_bd2--;
000118 50e1      	SUBI R30,LOW(1)
000119 93e0 0178 	STS  _cnt_bd2,R30
         ;     250 		if(cnt_bd2==0) bBD2=0;
00011b 30e0      	CPI  R30,0
00011c f411      	BRNE _0x37
00011d 94e8      	CLT
00011e f835      	BLD  R3,5
         ;     251 		}
          _0x37:
         ;     252 
         ;     253 	}
          _0x36:
          _0x35:
         ;     254 
         ;     255 if(!(in_word&(1<<DM)))
00011f 91e0 016f 	LDS  R30,_in_word
000121 70e2      	ANDI R30,LOW(0x2)
000122 f481      	BRNE _0x38
         ;     256 	{
         ;     257 	if(cnt_dm<10)
000123 91a0 0179 	LDS  R26,_cnt_dm
000125 30aa      	CPI  R26,LOW(0xA)
000126 f458      	BRSH _0x39
         ;     258 		{
         ;     259 		cnt_dm++;
000127 91e0 0179 	LDS  R30,_cnt_dm
000129 5fef      	SUBI R30,-LOW(1)
00012a 93e0 0179 	STS  _cnt_dm,R30
         ;     260 		if(cnt_dm==10) bDM=1;
00012c 91a0 0179 	LDS  R26,_cnt_dm
00012e 30aa      	CPI  R26,LOW(0xA)
00012f f411      	BRNE _0x3A
000130 9468      	SET
000131 f836      	BLD  R3,6
         ;     261 		}
          _0x3A:
         ;     262 	}
          _0x39:
         ;     263 else
000132 c00b      	RJMP _0x3B
          _0x38:
         ;     264 	{
         ;     265 	if(cnt_dm)
000133 91e0 0179 	LDS  R30,_cnt_dm
000135 30e0      	CPI  R30,0
000136 f039      	BREQ _0x3C
         ;     266 		{
         ;     267 		cnt_dm--;
000137 50e1      	SUBI R30,LOW(1)
000138 93e0 0179 	STS  _cnt_dm,R30
         ;     268 		if(cnt_dm==0) bDM=0;
00013a 30e0      	CPI  R30,0
00013b f411      	BRNE _0x3D
00013c 94e8      	CLT
00013d f836      	BLD  R3,6
         ;     269 		}
          _0x3D:
         ;     270 	}
          _0x3C:
          _0x3B:
         ;     271 
         ;     272 if(!(in_word&(1<<START)))
00013e 91e0 016f 	LDS  R30,_in_word
000140 70e1      	ANDI R30,LOW(0x1)
000141 f4a9      	BRNE _0x3E
         ;     273 	{
         ;     274 	if(cnt_start<10)
000142 91a0 017a 	LDS  R26,_cnt_start
000144 30aa      	CPI  R26,LOW(0xA)
000145 f480      	BRSH _0x3F
         ;     275 		{
         ;     276 		cnt_start++;
000146 91e0 017a 	LDS  R30,_cnt_start
000148 5fef      	SUBI R30,-LOW(1)
000149 93e0 017a 	STS  _cnt_start,R30
         ;     277 		if(cnt_start==10) 
00014b 91a0 017a 	LDS  R26,_cnt_start
00014d 30aa      	CPI  R26,LOW(0xA)
00014e f439      	BRNE _0x40
         ;     278 			{
         ;     279 			bSTART=1;
00014f 9468      	SET
000150 f837      	BLD  R3,7
         ;     280 			main_loop_cmd==cmdSTART;
000151 91a0 0183 	LDS  R26,_main_loop_cmd
000153 e0e1      	LDI  R30,LOW(1)
000154 940e 08fa 	CALL __EQB12
         ;     281 			}
         ;     282 		}
          _0x40:
         ;     283 	}
          _0x3F:
         ;     284 else
000156 c00b      	RJMP _0x41
          _0x3E:
         ;     285 	{
         ;     286 	if(cnt_start)
000157 91e0 017a 	LDS  R30,_cnt_start
000159 30e0      	CPI  R30,0
00015a f039      	BREQ _0x42
         ;     287 		{
         ;     288 		cnt_start--;
00015b 50e1      	SUBI R30,LOW(1)
00015c 93e0 017a 	STS  _cnt_start,R30
         ;     289 		if(cnt_start==0) bSTART=0;
00015e 30e0      	CPI  R30,0
00015f f411      	BRNE _0x43
000160 94e8      	CLT
000161 f837      	BLD  R3,7
         ;     290 		}
          _0x43:
         ;     291 	} 
          _0x42:
          _0x41:
         ;     292 
         ;     293 if(!(in_word&(1<<STOP)))
000162 91e0 016f 	LDS  R30,_in_word
000164 70e4      	ANDI R30,LOW(0x4)
000165 f481      	BRNE _0x44
         ;     294 	{
         ;     295 	if(cnt_stop<10)
000166 91a0 017b 	LDS  R26,_cnt_stop
000168 30aa      	CPI  R26,LOW(0xA)
000169 f458      	BRSH _0x45
         ;     296 		{
         ;     297 		cnt_stop++;
00016a 91e0 017b 	LDS  R30,_cnt_stop
00016c 5fef      	SUBI R30,-LOW(1)
00016d 93e0 017b 	STS  _cnt_stop,R30
         ;     298 		if(cnt_stop==10) bSTOP=1;
00016f 91a0 017b 	LDS  R26,_cnt_stop
000171 30aa      	CPI  R26,LOW(0xA)
000172 f411      	BRNE _0x46
000173 9468      	SET
000174 f840      	BLD  R4,0
         ;     299 		}
          _0x46:
         ;     300 	}
          _0x45:
         ;     301 else
000175 c00b      	RJMP _0x47
          _0x44:
         ;     302 	{
         ;     303 	if(cnt_stop)
000176 91e0 017b 	LDS  R30,_cnt_stop
000178 30e0      	CPI  R30,0
000179 f039      	BREQ _0x48
         ;     304 		{
         ;     305 		cnt_stop--;
00017a 50e1      	SUBI R30,LOW(1)
00017b 93e0 017b 	STS  _cnt_stop,R30
         ;     306 		if(cnt_stop==0) bSTOP=0;
00017d 30e0      	CPI  R30,0
00017e f411      	BRNE _0x49
00017f 94e8      	CLT
000180 f840      	BLD  R4,0
         ;     307 		}
          _0x49:
         ;     308 	} 
          _0x48:
          _0x47:
         ;     309 } 
000181 9508      	RET
         ;     310 
         ;     311 //-----------------------------------------------
         ;     312 void main_loop_hndl(void)
         ;     313 {
          _main_loop_hndl:
         ;     314 if(main_loop_cmd==cmdSTART)
000182 91a0 0183 	LDS  R26,_main_loop_cmd
000184 30a1      	CPI  R26,LOW(0x1)
000185 f5d1      	BRNE _0x4A
         ;     315 	{
         ;     316 	orient_cmd=cmdSTOP;
000186 940e 084a 	CALL SUBOPT_0x1
         ;     317 	napoln_cmd=cmdSTOP;
         ;     318 	payka_cmd=cmdSTOP;
         ;     319 	main_loop_cmd=cmdOFF; 
000188 93e0 0183 	STS  _main_loop_cmd,R30
         ;     320 	
         ;     321 	if(ee_prog==EE_PROG_ONLY_ORIENT)
00018a e0a5      	LDI  R26,LOW(_ee_prog)
00018b e0b0      	LDI  R27,HIGH(_ee_prog)
00018c 940e 0930 	CALL __EEPROMRDW
00018e 30e1      	CPI  R30,LOW(0x1)
00018f e0a0      	LDI  R26,HIGH(0x1)
000190 07fa      	CPC  R31,R26
000191 f421      	BRNE _0x4B
         ;     322 		{
         ;     323 		orient_cmd=cmdSTART;
000192 e0e1      	LDI  R30,LOW(1)
000193 93e0 0182 	STS  _orient_cmd,R30
         ;     324 		}  
         ;     325 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
000195 c029      	RJMP _0x4C
          _0x4B:
000196 e0a5      	LDI  R26,LOW(_ee_prog)
000197 e0b0      	LDI  R27,HIGH(_ee_prog)
000198 940e 0930 	CALL __EEPROMRDW
00019a 30e2      	CPI  R30,LOW(0x2)
00019b e0a0      	LDI  R26,HIGH(0x2)
00019c 07fa      	CPC  R31,R26
00019d f421      	BRNE _0x4D
         ;     326 		{
         ;     327 		napoln_cmd=cmdSTART;
00019e e0e1      	LDI  R30,LOW(1)
00019f 93e0 0181 	STS  _napoln_cmd,R30
         ;     328 		}   
         ;     329 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
0001a1 c01d      	RJMP _0x4E
          _0x4D:
0001a2 e0a5      	LDI  R26,LOW(_ee_prog)
0001a3 e0b0      	LDI  R27,HIGH(_ee_prog)
0001a4 940e 0930 	CALL __EEPROMRDW
0001a6 30e3      	CPI  R30,LOW(0x3)
0001a7 e0a0      	LDI  R26,HIGH(0x3)
0001a8 07fa      	CPC  R31,R26
0001a9 f421      	BRNE _0x4F
         ;     330 		{
         ;     331 		payka_cmd=cmdSTART;
0001aa e0e1      	LDI  R30,LOW(1)
0001ab 93e0 0180 	STS  _payka_cmd,R30
         ;     332 		}
         ;     333 	else if((ee_prog==EE_PROG_ONLY_MAIN_LOOP)||(ee_prog==EE_PROG_FULL))
0001ad c011      	RJMP _0x50
          _0x4F:
0001ae e0a5      	LDI  R26,LOW(_ee_prog)
0001af e0b0      	LDI  R27,HIGH(_ee_prog)
0001b0 940e 0930 	CALL __EEPROMRDW
0001b2 30e4      	CPI  R30,LOW(0x4)
0001b3 e0a0      	LDI  R26,HIGH(0x4)
0001b4 07fa      	CPC  R31,R26
0001b5 f031      	BREQ _0x52
0001b6 e0a5      	LDI  R26,LOW(_ee_prog)
0001b7 e0b0      	LDI  R27,HIGH(_ee_prog)
0001b8 940e 0930 	CALL __EEPROMRDW
0001ba 9730      	SBIW R30,0
0001bb f419      	BRNE _0x51
          _0x52:
         ;     334 		{
         ;     335 		main_loop_step=s1;
0001bc e0e1      	LDI  R30,LOW(1)
0001bd 940e 0853 	CALL SUBOPT_0x2
         ;     336 		main_loop_cnt_del=20;
         ;     337 		}						
         ;     338 
         ;     339 	}                      
          _0x51:
          _0x50:
          _0x4E:
          _0x4C:
         ;     340 else if(main_loop_cmd==cmdSTOP)
0001bf c008      	RJMP _0x54
          _0x4A:
0001c0 91a0 0183 	LDS  R26,_main_loop_cmd
0001c2 30a2      	CPI  R26,LOW(0x2)
0001c3 f421      	BRNE _0x55
         ;     341 	{
         ;     342 	orient_cmd=cmdSTOP;
0001c4 940e 084a 	CALL SUBOPT_0x1
         ;     343 	napoln_cmd=cmdSTOP;
         ;     344 	payka_cmd=cmdSTOP;
         ;     345 	main_loop_step=sOFF;
0001c6 93e0 017f 	STS  _main_loop_step,R30
         ;     346 	}
         ;     347 
         ;     348 if(main_loop_step==sOFF)
          _0x55:
          _0x54:
0001c8 91e0 017f 	LDS  R30,_main_loop_step
0001ca 30e0      	CPI  R30,0
0001cb f429      	BRNE _0x56
         ;     349 	{
         ;     350 	bPP1=0;
0001cc 94e8      	CLT
0001cd f841      	BLD  R4,1
         ;     351 	bPP2=0;              
0001ce 94e8      	CLT
0001cf f842      	BLD  R4,2
         ;     352 	}
         ;     353 else if(main_loop_step==s1)
0001d0 c06b      	RJMP _0x57
          _0x56:
0001d1 91a0 017f 	LDS  R26,_main_loop_step
0001d3 30a1      	CPI  R26,LOW(0x1)
0001d4 f459      	BRNE _0x58
         ;     354 	{
         ;     355 	bPP1=1;
0001d5 9468      	SET
0001d6 f841      	BLD  R4,1
         ;     356 	bPP2=0;              
0001d7 94e8      	CLT
0001d8 f842      	BLD  R4,2
         ;     357 	main_loop_cnt_del--;
0001d9 940e 085c 	CALL SUBOPT_0x3
         ;     358 	if(main_loop_cnt_del==0)
0001db f419      	BRNE _0x59
         ;     359 		{
         ;     360 		main_loop_step=s2;
0001dc e0e2      	LDI  R30,LOW(2)
0001dd 93e0 017f 	STS  _main_loop_step,R30
         ;     361 		}
         ;     362 	}
          _0x59:
         ;     363 else if(main_loop_step==s2)
0001df c05c      	RJMP _0x5A
          _0x58:
0001e0 91a0 017f 	LDS  R26,_main_loop_step
0001e2 30a2      	CPI  R26,LOW(0x2)
0001e3 f451      	BRNE _0x5B
         ;     364 	{
         ;     365 	bPP1=1;
0001e4 9468      	SET
0001e5 f841      	BLD  R4,1
         ;     366 	bPP2=1;              
0001e6 9468      	SET
0001e7 f842      	BLD  R4,2
         ;     367 	if(bMD1)
0001e8 fe32      	SBRS R3,2
0001e9 c003      	RJMP _0x5C
         ;     368 		{
         ;     369 		main_loop_step=s3;
0001ea e0e3      	LDI  R30,LOW(3)
0001eb 940e 0853 	CALL SUBOPT_0x2
         ;     370 		main_loop_cnt_del=20;
         ;     371 		}
         ;     372 	} 
          _0x5C:
         ;     373 else if(main_loop_step==s3)
0001ed c04e      	RJMP _0x5D
          _0x5B:
0001ee 91a0 017f 	LDS  R26,_main_loop_step
0001f0 30a3      	CPI  R26,LOW(0x3)
0001f1 f571      	BRNE _0x5E
         ;     374 	{
         ;     375 	bPP1=0;
0001f2 94e8      	CLT
0001f3 f841      	BLD  R4,1
         ;     376 	bPP2=1;              
0001f4 9468      	SET
0001f5 f842      	BLD  R4,2
         ;     377 	main_loop_cnt_del--;
0001f6 940e 085c 	CALL SUBOPT_0x3
         ;     378 	if(main_loop_cnt_del==0)
0001f8 f531      	BRNE _0x5F
         ;     379 		{
         ;     380 		if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
0001f9 e0a5      	LDI  R26,LOW(_ee_prog)
0001fa e0b0      	LDI  R27,HIGH(_ee_prog)
0001fb 940e 0930 	CALL __EEPROMRDW
0001fd 30e4      	CPI  R30,LOW(0x4)
0001fe e0a0      	LDI  R26,HIGH(0x4)
0001ff 07fa      	CPC  R31,R26
000200 f471      	BRNE _0x60
         ;     381 			{
         ;     382 			if(ee_loop_mode==elmAUTO)main_loop_cmd=cmdSTART;
000201 e0a0      	LDI  R26,LOW(_ee_loop_mode)
000202 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
000203 940e 0934 	CALL __EEPROMRDB
000205 35e5      	CPI  R30,LOW(0x55)
000206 f421      	BRNE _0x61
000207 e0e1      	LDI  R30,LOW(1)
000208 93e0 0183 	STS  _main_loop_cmd,R30
         ;     383 			else main_loop_step=sOFF;
00020a c003      	RJMP _0x62
          _0x61:
00020b e0e0      	LDI  R30,LOW(0)
00020c 93e0 017f 	STS  _main_loop_step,R30
          _0x62:
         ;     384 			}
         ;     385 		else if(ee_prog==EE_PROG_FULL)
00020e c010      	RJMP _0x63
          _0x60:
00020f e0a5      	LDI  R26,LOW(_ee_prog)
000210 e0b0      	LDI  R27,HIGH(_ee_prog)
000211 940e 0930 	CALL __EEPROMRDW
000213 9730      	SBIW R30,0
000214 f451      	BRNE _0x64
         ;     386 			{
         ;     387 			orient_cmd=cmdSTART;
000215 e0e1      	LDI  R30,LOW(1)
000216 93e0 0182 	STS  _orient_cmd,R30
         ;     388 			napoln_cmd=cmdSTART;
000218 93e0 0181 	STS  _napoln_cmd,R30
         ;     389 			payka_cmd=cmdSTART;
00021a 93e0 0180 	STS  _payka_cmd,R30
         ;     390 			main_loop_step=s4;
00021c e0e4      	LDI  R30,LOW(4)
00021d 93e0 017f 	STS  _main_loop_step,R30
         ;     391 			}
         ;     392 		}
          _0x64:
          _0x63:
         ;     393 	}				        
          _0x5F:
         ;     394 else if(main_loop_step==s4)
00021f c01c      	RJMP _0x65
          _0x5E:
000220 91a0 017f 	LDS  R26,_main_loop_step
000222 30a4      	CPI  R26,LOW(0x4)
000223 f4c1      	BRNE _0x66
         ;     395 	{
         ;     396 	bPP1=0;
000224 94e8      	CLT
000225 f841      	BLD  R4,1
         ;     397 	bPP2=0;                    
000226 94e8      	CLT
000227 f842      	BLD  R4,2
         ;     398 	if(bORIENT_COMPLETE && bNAPOLN_COMPLETE && bPAYKA_COMPLETE)
000228 fe53      	SBRS R5,3
000229 c004      	RJMP _0x68
00022a fe52      	SBRS R5,2
00022b c002      	RJMP _0x68
00022c fc51      	SBRC R5,1
00022d c001      	RJMP _0x69
          _0x68:
00022e c00d      	RJMP _0x67
          _0x69:
         ;     399 		{
         ;     400 		if(ee_loop_mode==elmAUTO)main_loop_cmd=cmdSTART;
00022f e0a0      	LDI  R26,LOW(_ee_loop_mode)
000230 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
000231 940e 0934 	CALL __EEPROMRDB
000233 35e5      	CPI  R30,LOW(0x55)
000234 f421      	BRNE _0x6A
000235 e0e1      	LDI  R30,LOW(1)
000236 93e0 0183 	STS  _main_loop_cmd,R30
         ;     401 		else main_loop_step=sOFF;
000238 c003      	RJMP _0x6B
          _0x6A:
000239 e0e0      	LDI  R30,LOW(0)
00023a 93e0 017f 	STS  _main_loop_step,R30
          _0x6B:
         ;     402 		}
         ;     403 	
         ;     404 	}	
          _0x67:
         ;     405 	 
         ;     406 }
          _0x66:
          _0x65:
          _0x5D:
          _0x5A:
          _0x57:
00023c 9508      	RET
         ;     407 
         ;     408 //-----------------------------------------------
         ;     409 void payka_hndl(void)
         ;     410 {
          _payka_hndl:
         ;     411 if(payka_cmd==cmdSTART)
00023d 91a0 0180 	LDS  R26,_payka_cmd
00023f 30a1      	CPI  R26,LOW(0x1)
000240 f479      	BRNE _0x6C
         ;     412 	{
         ;     413 	payka_step=s1;
000241 e0e1      	LDI  R30,LOW(1)
000242 93e0 017c 	STS  _payka_step,R30
         ;     414 	payka_cnt_del=ee_temp1*10;
000244 e0a1      	LDI  R26,LOW(_ee_temp1)
000245 e0b0      	LDI  R27,HIGH(_ee_temp1)
000246 940e 0930 	CALL __EEPROMRDW
000248 940e 0867 	CALL SUBOPT_0x4
         ;     415 	bPAYKA_COMPLETE=0;
00024a 94e8      	CLT
00024b f851      	BLD  R5,1
         ;     416 	payka_cmd=cmdOFF;
00024c e0e0      	LDI  R30,LOW(0)
00024d 93e0 0180 	STS  _payka_cmd,R30
         ;     417 	}                      
         ;     418 else if(payka_cmd==cmdSTOP)
00024f c009      	RJMP _0x6D
          _0x6C:
000250 91a0 0180 	LDS  R26,_payka_cmd
000252 30a2      	CPI  R26,LOW(0x2)
000253 f429      	BRNE _0x6E
         ;     419 	{
         ;     420 	payka_step=sOFF;
000254 e0e0      	LDI  R30,LOW(0)
000255 93e0 017c 	STS  _payka_step,R30
         ;     421 	payka_cmd=cmdOFF;
000257 93e0 0180 	STS  _payka_cmd,R30
         ;     422 	} 
         ;     423 		
         ;     424 if(payka_step==sOFF)
          _0x6E:
          _0x6D:
000259 91e0 017c 	LDS  R30,_payka_step
00025b 30e0      	CPI  R30,0
00025c f429      	BRNE _0x6F
         ;     425 	{
         ;     426 	bPP6=0;
00025d 94e8      	CLT
00025e f846      	BLD  R4,6
         ;     427 	bPP7=0;
00025f 94e8      	CLT
000260 f847      	BLD  R4,7
         ;     428 	}      
         ;     429 else if(payka_step==s1)
000261 c03a      	RJMP _0x70
          _0x6F:
000262 91a0 017c 	LDS  R26,_payka_step
000264 30a1      	CPI  R26,LOW(0x1)
000265 f489      	BRNE _0x71
         ;     430 	{
         ;     431 	bPP6=1;
000266 9468      	SET
000267 f846      	BLD  R4,6
         ;     432 	bPP7=0;
000268 94e8      	CLT
000269 f847      	BLD  R4,7
         ;     433 	payka_cnt_del--;
00026a 940e 0870 	CALL SUBOPT_0x5
         ;     434 	if(payka_cnt_del==0)
00026c f449      	BRNE _0x72
         ;     435 		{
         ;     436 		payka_step=s2;
00026d e0e2      	LDI  R30,LOW(2)
00026e 93e0 017c 	STS  _payka_step,R30
         ;     437 		payka_cnt_del=20;
000270 e1e4      	LDI  R30,LOW(20)
000271 e0f0      	LDI  R31,HIGH(20)
000272 93e0 0184 	STS  _payka_cnt_del,R30
000274 93f0 0185 	STS  _payka_cnt_del+1,R31
         ;     438 		}                	
         ;     439 	}	
          _0x72:
         ;     440 else if(payka_step==s2)
000276 c025      	RJMP _0x73
          _0x71:
000277 91a0 017c 	LDS  R26,_payka_step
000279 30a2      	CPI  R26,LOW(0x2)
00027a f489      	BRNE _0x74
         ;     441 	{
         ;     442 	bPP6=0;
00027b 94e8      	CLT
00027c f846      	BLD  R4,6
         ;     443 	bPP7=0;
00027d 94e8      	CLT
00027e f847      	BLD  R4,7
         ;     444 	payka_cnt_del--;
00027f 940e 0870 	CALL SUBOPT_0x5
         ;     445 	if(payka_cnt_del==0)
000281 f449      	BRNE _0x75
         ;     446 		{
         ;     447 		payka_step=s3;
000282 e0e3      	LDI  R30,LOW(3)
000283 93e0 017c 	STS  _payka_step,R30
         ;     448 		payka_cnt_del=ee_temp2*10;
000285 e0a3      	LDI  R26,LOW(_ee_temp2)
000286 e0b0      	LDI  R27,HIGH(_ee_temp2)
000287 940e 0930 	CALL __EEPROMRDW
000289 940e 0867 	CALL SUBOPT_0x4
         ;     449 		}                	
         ;     450 	}		  
          _0x75:
         ;     451 else if(payka_step==s3)
00028b c010      	RJMP _0x76
          _0x74:
00028c 91a0 017c 	LDS  R26,_payka_step
00028e 30a3      	CPI  R26,LOW(0x3)
00028f f461      	BRNE _0x77
         ;     452 	{
         ;     453 	bPP6=0;
000290 94e8      	CLT
000291 f846      	BLD  R4,6
         ;     454 	bPP7=1;
000292 9468      	SET
000293 f847      	BLD  R4,7
         ;     455 	payka_cnt_del--;
000294 940e 0870 	CALL SUBOPT_0x5
         ;     456 	if(payka_cnt_del==0)
000296 f429      	BRNE _0x78
         ;     457 		{
         ;     458 		payka_step=sOFF;
000297 e0e0      	LDI  R30,LOW(0)
000298 93e0 017c 	STS  _payka_step,R30
         ;     459 		bPAYKA_COMPLETE=1;
00029a 9468      	SET
00029b f851      	BLD  R5,1
         ;     460 		}                	
         ;     461 	}			
          _0x78:
         ;     462 }
          _0x77:
          _0x76:
          _0x73:
          _0x70:
00029c 9508      	RET
         ;     463 
         ;     464 //-----------------------------------------------
         ;     465 void napoln_hndl(void)
         ;     466 {
          _napoln_hndl:
         ;     467 if(napoln_cmd==cmdSTART)
00029d 91a0 0181 	LDS  R26,_napoln_cmd
00029f 30a1      	CPI  R26,LOW(0x1)
0002a0 f471      	BRNE _0x79
         ;     468 	{
         ;     469 	napoln_step=s1;
0002a1 e0e1      	LDI  R30,LOW(1)
0002a2 93e0 017d 	STS  _napoln_step,R30
         ;     470 	napoln_cnt_del=0;
0002a4 e0e0      	LDI  R30,0
0002a5 93e0 0186 	STS  _napoln_cnt_del,R30
0002a7 93e0 0187 	STS  _napoln_cnt_del+1,R30
         ;     471 	bNAPOLN_COMPLETE=0;
0002a9 94e8      	CLT
0002aa f852      	BLD  R5,2
         ;     472 	
         ;     473 	napoln_cmd=cmdOFF;
0002ab e0e0      	LDI  R30,LOW(0)
0002ac 93e0 0181 	STS  _napoln_cmd,R30
         ;     474 	}                      
         ;     475 else if(napoln_cmd==cmdSTOP)
0002ae c009      	RJMP _0x7A
          _0x79:
0002af 91a0 0181 	LDS  R26,_napoln_cmd
0002b1 30a2      	CPI  R26,LOW(0x2)
0002b2 f429      	BRNE _0x7B
         ;     476 	{
         ;     477 	napoln_step=sOFF;
0002b3 e0e0      	LDI  R30,LOW(0)
0002b4 93e0 017d 	STS  _napoln_step,R30
         ;     478 	napoln_cmd=cmdOFF;
0002b6 93e0 0181 	STS  _napoln_cmd,R30
         ;     479 	} 
         ;     480 		
         ;     481 if(napoln_step==sOFF)
          _0x7B:
          _0x7A:
0002b8 91e0 017d 	LDS  R30,_napoln_step
0002ba 30e0      	CPI  R30,0
0002bb f429      	BRNE _0x7C
         ;     482 	{
         ;     483 	bPP4=0;
0002bc 94e8      	CLT
0002bd f844      	BLD  R4,4
         ;     484 	bPP5=0;
0002be 94e8      	CLT
0002bf f845      	BLD  R4,5
         ;     485 	}      
         ;     486 else if(napoln_step==s1)
0002c0 c03a      	RJMP _0x7D
          _0x7C:
0002c1 91a0 017d 	LDS  R26,_napoln_step
0002c3 30a1      	CPI  R26,LOW(0x1)
0002c4 f481      	BRNE _0x7E
         ;     487 	{
         ;     488 	bPP4=0;
0002c5 94e8      	CLT
0002c6 f844      	BLD  R4,4
         ;     489 	bPP5=0;
0002c7 94e8      	CLT
0002c8 f845      	BLD  R4,5
         ;     490 	if(bBD2)
0002c9 fe35      	SBRS R3,5
0002ca c009      	RJMP _0x7F
         ;     491 		{
         ;     492 		napoln_step=s2;
0002cb e0e2      	LDI  R30,LOW(2)
0002cc 93e0 017d 	STS  _napoln_step,R30
         ;     493 		napoln_cnt_del=20;
0002ce e1e4      	LDI  R30,LOW(20)
0002cf e0f0      	LDI  R31,HIGH(20)
0002d0 93e0 0186 	STS  _napoln_cnt_del,R30
0002d2 93f0 0187 	STS  _napoln_cnt_del+1,R31
         ;     494 		}
         ;     495 	}	
          _0x7F:
         ;     496 else if(napoln_step==s2)
0002d4 c026      	RJMP _0x80
          _0x7E:
0002d5 91a0 017d 	LDS  R26,_napoln_step
0002d7 30a2      	CPI  R26,LOW(0x2)
0002d8 f499      	BRNE _0x81
         ;     497 	{
         ;     498 	bPP4=1;
0002d9 9468      	SET
0002da f844      	BLD  R4,4
         ;     499 	bPP5=0;
0002db 94e8      	CLT
0002dc f845      	BLD  R4,5
         ;     500 	napoln_cnt_del--;
0002dd 91e0 0186 	LDS  R30,_napoln_cnt_del
0002df 91f0 0187 	LDS  R31,_napoln_cnt_del+1
0002e1 9731      	SBIW R30,1
0002e2 93e0 0186 	STS  _napoln_cnt_del,R30
0002e4 93f0 0187 	STS  _napoln_cnt_del+1,R31
         ;     501 	if(napoln_cnt_del==0)
0002e6 9730      	SBIW R30,0
0002e7 f419      	BRNE _0x82
         ;     502 		{
         ;     503 		napoln_step=s3;
0002e8 e0e3      	LDI  R30,LOW(3)
0002e9 93e0 017d 	STS  _napoln_step,R30
         ;     504 		}                	
         ;     505 	}		  
          _0x82:
         ;     506 else if(napoln_step==s3)
0002eb c00f      	RJMP _0x83
          _0x81:
0002ec 91a0 017d 	LDS  R26,_napoln_step
0002ee 30a3      	CPI  R26,LOW(0x3)
0002ef f459      	BRNE _0x84
         ;     507 	{
         ;     508 	bPP4=1;
0002f0 9468      	SET
0002f1 f844      	BLD  R4,4
         ;     509 	bPP5=1;
0002f2 9468      	SET
0002f3 f845      	BLD  R4,5
         ;     510 	//napoln_cnt_del--;
         ;     511 	if(bMD2)
0002f4 fe33      	SBRS R3,3
0002f5 c005      	RJMP _0x85
         ;     512 		{
         ;     513 		napoln_step=sOFF;
0002f6 e0e0      	LDI  R30,LOW(0)
0002f7 93e0 017d 	STS  _napoln_step,R30
         ;     514 		bNAPOLN_COMPLETE=1;
0002f9 9468      	SET
0002fa f852      	BLD  R5,2
         ;     515 		}                	
         ;     516 	}			
          _0x85:
         ;     517 }
          _0x84:
          _0x83:
          _0x80:
          _0x7D:
0002fb 9508      	RET
         ;     518 
         ;     519 //-----------------------------------------------
         ;     520 void orient_hndl(void)
         ;     521 {
          _orient_hndl:
         ;     522 if(orient_cmd==cmdSTART)
0002fc 91a0 0182 	LDS  R26,_orient_cmd
0002fe 30a1      	CPI  R26,LOW(0x1)
0002ff f471      	BRNE _0x86
         ;     523 	{
         ;     524 	orient_step=s1;
000300 e0e1      	LDI  R30,LOW(1)
000301 93e0 017e 	STS  _orient_step,R30
         ;     525 	orient_cnt_del=0;
000303 e0e0      	LDI  R30,0
000304 93e0 0188 	STS  _orient_cnt_del,R30
000306 93e0 0189 	STS  _orient_cnt_del+1,R30
         ;     526 	bORIENT_COMPLETE=0;
000308 94e8      	CLT
000309 f853      	BLD  R5,3
         ;     527 	
         ;     528 	orient_cmd=cmdOFF;
00030a e0e0      	LDI  R30,LOW(0)
00030b 93e0 0182 	STS  _orient_cmd,R30
         ;     529 	}                      
         ;     530 else if(orient_cmd==cmdSTOP)
00030d c009      	RJMP _0x87
          _0x86:
00030e 91a0 0182 	LDS  R26,_orient_cmd
000310 30a2      	CPI  R26,LOW(0x2)
000311 f429      	BRNE _0x88
         ;     531 	{
         ;     532 	orient_step=sOFF;
000312 e0e0      	LDI  R30,LOW(0)
000313 93e0 017e 	STS  _orient_step,R30
         ;     533 	orient_cmd=cmdOFF;
000315 93e0 0182 	STS  _orient_cmd,R30
         ;     534 	} 
         ;     535 		
         ;     536 if(orient_step==sOFF)
          _0x88:
          _0x87:
000317 91e0 017e 	LDS  R30,_orient_step
000319 30e0      	CPI  R30,0
00031a f419      	BRNE _0x89
         ;     537 	{
         ;     538 	bPP3=0;
00031b 94e8      	CLT
00031c f843      	BLD  R4,3
         ;     539 	} 
         ;     540 	
         ;     541 else if(orient_step==s1)
00031d c025      	RJMP _0x8A
          _0x89:
00031e 91a0 017e 	LDS  R26,_orient_step
000320 30a1      	CPI  R26,LOW(0x1)
000321 f441      	BRNE _0x8B
         ;     542 	{
         ;     543 	bPP3=0;
000322 94e8      	CLT
000323 f843      	BLD  R4,3
         ;     544 	if(bBD1)
000324 fe34      	SBRS R3,4
000325 c003      	RJMP _0x8C
         ;     545 		{
         ;     546 		orient_step=s2;
000326 e0e2      	LDI  R30,LOW(2)
000327 93e0 017e 	STS  _orient_step,R30
         ;     547 		}
         ;     548 	}	
          _0x8C:
         ;     549 		     
         ;     550 else if(orient_step==s2)
000329 c019      	RJMP _0x8D
          _0x8B:
00032a 91a0 017e 	LDS  R26,_orient_step
00032c 30a2      	CPI  R26,LOW(0x2)
00032d f441      	BRNE _0x8E
         ;     551 	{
         ;     552 	bPP3=1;
00032e 9468      	SET
00032f f843      	BLD  R4,3
         ;     553 	if(!bDM)
000330 fc36      	SBRC R3,6
000331 c003      	RJMP _0x8F
         ;     554 		{
         ;     555 		orient_step=s3;
000332 e0e3      	LDI  R30,LOW(3)
000333 93e0 017e 	STS  _orient_step,R30
         ;     556 		}
         ;     557 	}	
          _0x8F:
         ;     558 else if(orient_step==s3)
000335 c00d      	RJMP _0x90
          _0x8E:
000336 91a0 017e 	LDS  R26,_orient_step
000338 30a3      	CPI  R26,LOW(0x3)
000339 f449      	BRNE _0x91
         ;     559 	{
         ;     560 	bPP3=1;
00033a 9468      	SET
00033b f843      	BLD  R4,3
         ;     561 	if(bDM)
00033c fe36      	SBRS R3,6
00033d c005      	RJMP _0x92
         ;     562 		{
         ;     563 		orient_step=sOFF;
00033e e0e0      	LDI  R30,LOW(0)
00033f 93e0 017e 	STS  _orient_step,R30
         ;     564 		bORIENT_COMPLETE=1;
000341 9468      	SET
000342 f853      	BLD  R5,3
         ;     565 		}               	
         ;     566 	}		  
          _0x92:
         ;     567 }
          _0x91:
          _0x90:
          _0x8D:
          _0x8A:
000343 9508      	RET
         ;     568 
         ;     569 //-----------------------------------------------
         ;     570 void out_drv(void)
         ;     571 {
          _out_drv:
         ;     572 char temp=0;
         ;     573 DDRB=0xFF;
000344 930a      	ST   -Y,R16
         ;	temp -> R16
000345 e000      	LDI  R16,0
000346 efef      	LDI  R30,LOW(255)
000347 bbe7      	OUT  0x17,R30
         ;     574 
         ;     575 if(bPP1) temp|=(1<<PP1);
000348 fe41      	SBRS R4,1
000349 c001      	RJMP _0x93
00034a 6400      	ORI  R16,LOW(64)
         ;     576 if(bPP2) temp|=(1<<PP2);
          _0x93:
00034b fe42      	SBRS R4,2
00034c c001      	RJMP _0x94
00034d 6800      	ORI  R16,LOW(128)
         ;     577 if(bPP3) temp|=(1<<PP3);
          _0x94:
00034e fe43      	SBRS R4,3
00034f c001      	RJMP _0x95
000350 6200      	ORI  R16,LOW(32)
         ;     578 if(bPP4) temp|=(1<<PP4);
          _0x95:
000351 fe44      	SBRS R4,4
000352 c001      	RJMP _0x96
000353 6100      	ORI  R16,LOW(16)
         ;     579 if(bPP5) temp|=(1<<PP5);
          _0x96:
000354 fe45      	SBRS R4,5
000355 c001      	RJMP _0x97
000356 6008      	ORI  R16,LOW(8)
         ;     580 if(bPP6) temp|=(1<<PP6);
          _0x97:
000357 fe46      	SBRS R4,6
000358 c001      	RJMP _0x98
000359 6004      	ORI  R16,LOW(4)
         ;     581 if(bPP7) temp|=(1<<PP7);
          _0x98:
00035a fe47      	SBRS R4,7
00035b c001      	RJMP _0x99
00035c 6002      	ORI  R16,LOW(2)
         ;     582 
         ;     583 PORTB=~temp;
          _0x99:
00035d 940e 087b 	CALL SUBOPT_0x6
         ;     584 //PORTB=0x55;
         ;     585 }
00035f c130      	RJMP _0x170
         ;     586 
         ;     587 //-----------------------------------------------
         ;     588 void step_contr(void)
         ;     589 {
          _step_contr:
         ;     590 char temp=0;
         ;     591 DDRB=0xFF;
000360 930a      	ST   -Y,R16
         ;	temp -> R16
000361 e000      	LDI  R16,0
000362 efef      	LDI  R30,LOW(255)
000363 bbe7      	OUT  0x17,R30
         ;     592 
         ;     593 if(step==sOFF)goto step_contr_end;
000364 20dd      	TST  R13
000365 f409      	BRNE _0x9A
000366 c127      	RJMP _0x9B
         ;     594 
         ;     595 else if(prog==p1)
          _0x9A:
000367 e0e1      	LDI  R30,LOW(1)
000368 15ec      	CP   R30,R12
000369 f011      	BREQ PC+3
00036a 940c 03c5 	JMP _0x9D
         ;     596 	{
         ;     597 	if(step==s1)    //жесть
00036c 15ed      	CP   R30,R13
00036d f421      	BRNE _0x9E
         ;     598 		{
         ;     599 		temp|=(1<<PP1);
00036e 6400      	ORI  R16,LOW(64)
         ;     600           if(!bMD1)goto step_contr_end;
00036f fe32      	SBRS R3,2
000370 c11d      	RJMP _0x9B
         ;     601 
         ;     602 			//if(ee_vacuum_mode==evmOFF)
         ;     603 				{
         ;     604 				//goto lbl_0001;
         ;     605 				}
         ;     606 			//else step=s2;
         ;     607 		}
         ;     608 
         ;     609 	else if(step==s2)
000371 c052      	RJMP _0xA0
          _0x9E:
000372 e0e2      	LDI  R30,LOW(2)
000373 15ed      	CP   R30,R13
000374 f421      	BRNE _0xA1
         ;     610 		{
         ;     611 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
000375 6e00      	ORI  R16,LOW(224)
         ;     612  //         if(!bVR)goto step_contr_end;
         ;     613 lbl_0001:
         ;     614 
         ;     615           step=s100;
000376 940e 087f 	CALL SUBOPT_0x7
         ;     616 		cnt_del=40;
         ;     617           }
         ;     618 	else if(step==s100)
000378 c04b      	RJMP _0xA3
          _0xA1:
000379 e1e3      	LDI  R30,LOW(19)
00037a 15ed      	CP   R30,R13
00037b f439      	BRNE _0xA4
         ;     619 		{
         ;     620 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
00037c 6f00      	ORI  R16,LOW(240)
         ;     621           cnt_del--;
00037d 940e 0888 	CALL SUBOPT_0x8
         ;     622           if(cnt_del==0)
00037f f411      	BRNE _0xA5
         ;     623 			{
         ;     624           	step=s3;
000380 940e 0893 	CALL SUBOPT_0x9
         ;     625           	cnt_del=50;
         ;     626 			}
         ;     627 		}
          _0xA5:
         ;     628 
         ;     629 	else if(step==s3)
000382 c041      	RJMP _0xA6
          _0xA4:
000383 e0e3      	LDI  R30,LOW(3)
000384 15ed      	CP   R30,R13
000385 f439      	BRNE _0xA7
         ;     630 		{
         ;     631 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000386 6f00      	ORI  R16,LOW(240)
         ;     632           cnt_del--;
000387 940e 0888 	CALL SUBOPT_0x8
         ;     633           if(cnt_del==0)
000389 f411      	BRNE _0xA8
         ;     634 			{
         ;     635           	step=s4;
00038a e0e4      	LDI  R30,LOW(4)
00038b 2ede      	MOV  R13,R30
         ;     636 			}
         ;     637 		}
          _0xA8:
         ;     638 	else if(step==s4)
00038c c037      	RJMP _0xA9
          _0xA7:
00038d e0e4      	LDI  R30,LOW(4)
00038e 15ed      	CP   R30,R13
00038f f431      	BRNE _0xAA
         ;     639 		{
         ;     640 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5);
000390 6f08      	ORI  R16,LOW(248)
         ;     641           if(!bMD2)goto step_contr_end;
000391 fe33      	SBRS R3,3
000392 c0fb      	RJMP _0x9B
         ;     642           step=s5;
000393 940e 089c 	CALL SUBOPT_0xA
         ;     643           cnt_del=20;
         ;     644 		}
         ;     645 	else if(step==s5)
000395 c02e      	RJMP _0xAC
          _0xAA:
000396 e0e5      	LDI  R30,LOW(5)
000397 15ed      	CP   R30,R13
000398 f439      	BRNE _0xAD
         ;     646 		{
         ;     647 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000399 6f00      	ORI  R16,LOW(240)
         ;     648           cnt_del--;
00039a 940e 0888 	CALL SUBOPT_0x8
         ;     649           if(cnt_del==0)
00039c f411      	BRNE _0xAE
         ;     650 			{
         ;     651           	step=s6;
00039d e0e6      	LDI  R30,LOW(6)
00039e 2ede      	MOV  R13,R30
         ;     652 			}
         ;     653           }
          _0xAE:
         ;     654 	else if(step==s6)
00039f c024      	RJMP _0xAF
          _0xAD:
0003a0 e0e6      	LDI  R30,LOW(6)
0003a1 15ed      	CP   R30,R13
0003a2 f421      	BRNE _0xB0
         ;     655 		{
         ;     656 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP7);
0003a3 6f02      	ORI  R16,LOW(242)
         ;     657  //         if(!bMD3)goto step_contr_end;
         ;     658           step=s7;
0003a4 940e 08a5 	CALL SUBOPT_0xB
         ;     659           cnt_del=20;
         ;     660 		}
         ;     661 
         ;     662 	else if(step==s7)
0003a6 c01d      	RJMP _0xB1
          _0xB0:
0003a7 e0e7      	LDI  R30,LOW(7)
0003a8 15ed      	CP   R30,R13
0003a9 f439      	BRNE _0xB2
         ;     663 		{
         ;     664 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003aa 6f00      	ORI  R16,LOW(240)
         ;     665           cnt_del--;
0003ab 940e 0888 	CALL SUBOPT_0x8
         ;     666           if(cnt_del==0)
0003ad f411      	BRNE _0xB3
         ;     667 			{
         ;     668           	step=s8;
0003ae e0e8      	LDI  R30,LOW(8)
0003af 2ede      	MOV  R13,R30
         ;     669           	//cnt_del=ee_delay[prog,0]*10U;;
         ;     670 			}
         ;     671           }
          _0xB3:
         ;     672 	else if(step==s8)
0003b0 c013      	RJMP _0xB4
          _0xB2:
0003b1 e0e8      	LDI  R30,LOW(8)
0003b2 15ed      	CP   R30,R13
0003b3 f441      	BRNE _0xB5
         ;     673 		{
         ;     674 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
0003b4 6d00      	ORI  R16,LOW(208)
         ;     675           cnt_del--;
0003b5 940e 0888 	CALL SUBOPT_0x8
         ;     676           if(cnt_del==0)
0003b7 f419      	BRNE _0xB6
         ;     677 			{
         ;     678           	step=s9;
0003b8 e0e9      	LDI  R30,LOW(9)
0003b9 940e 08ae 	CALL SUBOPT_0xC
         ;     679           	cnt_del=20;
         ;     680 			}
         ;     681           }
          _0xB6:
         ;     682 	else if(step==s9)
0003bb c008      	RJMP _0xB7
          _0xB5:
0003bc e0e9      	LDI  R30,LOW(9)
0003bd 15ed      	CP   R30,R13
0003be f429      	BRNE _0xB8
         ;     683 		{
         ;     684 		temp|=(1<<PP1);
0003bf 6400      	ORI  R16,LOW(64)
         ;     685           cnt_del--;
0003c0 940e 0888 	CALL SUBOPT_0x8
         ;     686           if(cnt_del==0)
0003c2 f409      	BRNE _0xB9
         ;     687 			{
         ;     688           	step=sOFF;
0003c3 24dd      	CLR  R13
         ;     689           	}
         ;     690           }
          _0xB9:
         ;     691 	}
          _0xB8:
          _0xB7:
          _0xB4:
          _0xB1:
          _0xAF:
          _0xAC:
          _0xA9:
          _0xA6:
          _0xA3:
          _0xA0:
         ;     692 
         ;     693 else if(prog==p2)  //ско
0003c4 c0c9      	RJMP _0xBA
          _0x9D:
0003c5 e0e2      	LDI  R30,LOW(2)
0003c6 15ec      	CP   R30,R12
0003c7 f011      	BREQ PC+3
0003c8 940c 0412 	JMP _0xBB
         ;     694 	{
         ;     695 	if(step==s1)
0003ca e0e1      	LDI  R30,LOW(1)
0003cb 15ed      	CP   R30,R13
0003cc f421      	BRNE _0xBC
         ;     696 		{
         ;     697 		temp|=(1<<PP1);
0003cd 6400      	ORI  R16,LOW(64)
         ;     698           if(!bMD1)goto step_contr_end;
0003ce fe32      	SBRS R3,2
0003cf c0be      	RJMP _0x9B
         ;     699 
         ;     700 		/*	if(ee_vacuum_mode==evmOFF)
         ;     701 				{
         ;     702 				goto lbl_0002;
         ;     703 				}
         ;     704 			else step=s2; */
         ;     705 
         ;     706           //step=s2;
         ;     707 		}
         ;     708 
         ;     709 	else if(step==s2)
0003d0 c040      	RJMP _0xBE
          _0xBC:
0003d1 e0e2      	LDI  R30,LOW(2)
0003d2 15ed      	CP   R30,R13
0003d3 f421      	BRNE _0xBF
         ;     710 		{
         ;     711 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
0003d4 6e00      	ORI  R16,LOW(224)
         ;     712  //         if(!bVR)goto step_contr_end;
         ;     713 
         ;     714 lbl_0002:
         ;     715           step=s100;
0003d5 940e 087f 	CALL SUBOPT_0x7
         ;     716 		cnt_del=40;
         ;     717           }
         ;     718 	else if(step==s100)
0003d7 c039      	RJMP _0xC1
          _0xBF:
0003d8 e1e3      	LDI  R30,LOW(19)
0003d9 15ed      	CP   R30,R13
0003da f439      	BRNE _0xC2
         ;     719 		{
         ;     720 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003db 6f00      	ORI  R16,LOW(240)
         ;     721           cnt_del--;
0003dc 940e 0888 	CALL SUBOPT_0x8
         ;     722           if(cnt_del==0)
0003de f411      	BRNE _0xC3
         ;     723 			{
         ;     724           	step=s3;
0003df 940e 0893 	CALL SUBOPT_0x9
         ;     725           	cnt_del=50;
         ;     726 			}
         ;     727 		}
          _0xC3:
         ;     728 	else if(step==s3)
0003e1 c02f      	RJMP _0xC4
          _0xC2:
0003e2 e0e3      	LDI  R30,LOW(3)
0003e3 15ed      	CP   R30,R13
0003e4 f439      	BRNE _0xC5
         ;     729 		{
         ;     730 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003e5 6f00      	ORI  R16,LOW(240)
         ;     731           cnt_del--;
0003e6 940e 0888 	CALL SUBOPT_0x8
         ;     732           if(cnt_del==0)
0003e8 f411      	BRNE _0xC6
         ;     733 			{
         ;     734           	step=s4;
0003e9 e0e4      	LDI  R30,LOW(4)
0003ea 2ede      	MOV  R13,R30
         ;     735 			}
         ;     736 		}
          _0xC6:
         ;     737 	else if(step==s4)
0003eb c025      	RJMP _0xC7
          _0xC5:
0003ec e0e4      	LDI  R30,LOW(4)
0003ed 15ed      	CP   R30,R13
0003ee f431      	BRNE _0xC8
         ;     738 		{
         ;     739 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5);
0003ef 6f08      	ORI  R16,LOW(248)
         ;     740           if(!bMD2)goto step_contr_end;
0003f0 fe33      	SBRS R3,3
0003f1 c09c      	RJMP _0x9B
         ;     741           step=s5;
0003f2 940e 089c 	CALL SUBOPT_0xA
         ;     742           cnt_del=20;
         ;     743 		}
         ;     744 	else if(step==s5)
0003f4 c01c      	RJMP _0xCA
          _0xC8:
0003f5 e0e5      	LDI  R30,LOW(5)
0003f6 15ed      	CP   R30,R13
0003f7 f439      	BRNE _0xCB
         ;     745 		{
         ;     746 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
0003f8 6f00      	ORI  R16,LOW(240)
         ;     747           cnt_del--;
0003f9 940e 0888 	CALL SUBOPT_0x8
         ;     748           if(cnt_del==0)
0003fb f411      	BRNE _0xCC
         ;     749 			{
         ;     750           	step=s6;
0003fc e0e6      	LDI  R30,LOW(6)
0003fd 2ede      	MOV  R13,R30
         ;     751           	//cnt_del=ee_delay[prog,0]*10U;
         ;     752 			}
         ;     753           }
          _0xCC:
         ;     754 	else if(step==s6)
0003fe c012      	RJMP _0xCD
          _0xCB:
0003ff e0e6      	LDI  R30,LOW(6)
000400 15ed      	CP   R30,R13
000401 f439      	BRNE _0xCE
         ;     755 		{
         ;     756 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
000402 6d00      	ORI  R16,LOW(208)
         ;     757           cnt_del--;
000403 940e 0888 	CALL SUBOPT_0x8
         ;     758           if(cnt_del==0)
000405 f411      	BRNE _0xCF
         ;     759 			{
         ;     760           	step=s7;
000406 940e 08a5 	CALL SUBOPT_0xB
         ;     761           	cnt_del=20;
         ;     762 			}
         ;     763           }
          _0xCF:
         ;     764 	else if(step==s7)
000408 c008      	RJMP _0xD0
          _0xCE:
000409 e0e7      	LDI  R30,LOW(7)
00040a 15ed      	CP   R30,R13
00040b f429      	BRNE _0xD1
         ;     765 		{
         ;     766 		temp|=(1<<PP1);
00040c 6400      	ORI  R16,LOW(64)
         ;     767           cnt_del--;
00040d 940e 0888 	CALL SUBOPT_0x8
         ;     768           if(cnt_del==0)
00040f f409      	BRNE _0xD2
         ;     769 			{
         ;     770           	step=sOFF;
000410 24dd      	CLR  R13
         ;     771           	}
         ;     772           }
          _0xD2:
         ;     773 	}
          _0xD1:
          _0xD0:
          _0xCD:
          _0xCA:
          _0xC7:
          _0xC4:
          _0xC1:
          _0xBE:
         ;     774 
         ;     775 else if(prog==p3)   //твист
000411 c07c      	RJMP _0xD3
          _0xBB:
000412 e0e3      	LDI  R30,LOW(3)
000413 15ec      	CP   R30,R12
000414 f5e1      	BRNE _0xD4
         ;     776 	{
         ;     777 	if(step==s1)
000415 e0e1      	LDI  R30,LOW(1)
000416 15ed      	CP   R30,R13
000417 f421      	BRNE _0xD5
         ;     778 		{
         ;     779 		temp|=(1<<PP1);
000418 6400      	ORI  R16,LOW(64)
         ;     780           if(!bMD1)goto step_contr_end;
000419 fe32      	SBRS R3,2
00041a c073      	RJMP _0x9B
         ;     781 
         ;     782 		/*	if(ee_vacuum_mode==evmOFF)
         ;     783 				{
         ;     784 				goto lbl_0003;
         ;     785 				}
         ;     786 			else step=s2;*/
         ;     787 
         ;     788           //step=s2;
         ;     789 		}
         ;     790 
         ;     791 	else if(step==s2)
00041b c034      	RJMP _0xD7
          _0xD5:
00041c e0e2      	LDI  R30,LOW(2)
00041d 15ed      	CP   R30,R13
00041e f451      	BRNE _0xD8
         ;     792 		{
         ;     793 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
00041f 6e00      	ORI  R16,LOW(224)
         ;     794  //         if(!bVR)goto step_contr_end;
         ;     795 lbl_0003:
         ;     796           cnt_del=50;
000420 e3e2      	LDI  R30,LOW(50)
000421 e0f0      	LDI  R31,HIGH(50)
000422 93e0 0173 	STS  _cnt_del,R30
000424 93f0 0174 	STS  _cnt_del+1,R31
         ;     797 		step=s3;
000426 e0e3      	LDI  R30,LOW(3)
000427 2ede      	MOV  R13,R30
         ;     798 		}
         ;     799 
         ;     800 
         ;     801 	else	if(step==s3)
000428 c027      	RJMP _0xDA
          _0xD8:
000429 e0e3      	LDI  R30,LOW(3)
00042a 15ed      	CP   R30,R13
00042b f439      	BRNE _0xDB
         ;     802 		{
         ;     803 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
00042c 6f00      	ORI  R16,LOW(240)
         ;     804 		cnt_del--;
00042d 940e 0888 	CALL SUBOPT_0x8
         ;     805 		if(cnt_del==0)
00042f f411      	BRNE _0xDC
         ;     806 			{
         ;     807 			//cnt_del=ee_delay[prog,0]*10U;
         ;     808 			step=s4;
000430 e0e4      	LDI  R30,LOW(4)
000431 2ede      	MOV  R13,R30
         ;     809 			}
         ;     810           }
          _0xDC:
         ;     811 	else if(step==s4)
000432 c01d      	RJMP _0xDD
          _0xDB:
000433 e0e4      	LDI  R30,LOW(4)
000434 15ed      	CP   R30,R13
000435 f439      	BRNE _0xDE
         ;     812 		{
         ;     813 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4)|(1<<PP5)|(1<<PP7);
000436 6f0a      	ORI  R16,LOW(250)
         ;     814 		cnt_del--;
000437 940e 0888 	CALL SUBOPT_0x8
         ;     815  		if(cnt_del==0)
000439 f411      	BRNE _0xDF
         ;     816 			{
         ;     817 		    //	cnt_del=ee_delay[prog,1]*10U;
         ;     818 			step=s5;
00043a e0e5      	LDI  R30,LOW(5)
00043b 2ede      	MOV  R13,R30
         ;     819 			}
         ;     820 		}
          _0xDF:
         ;     821 
         ;     822 	else if(step==s5)
00043c c013      	RJMP _0xE0
          _0xDE:
00043d e0e5      	LDI  R30,LOW(5)
00043e 15ed      	CP   R30,R13
00043f f441      	BRNE _0xE1
         ;     823 		{
         ;     824 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP5)|(1<<PP7);
000440 6c0a      	ORI  R16,LOW(202)
         ;     825 		cnt_del--;
000441 940e 0888 	CALL SUBOPT_0x8
         ;     826 		if(cnt_del==0)
000443 f419      	BRNE _0xE2
         ;     827 			{
         ;     828 			step=s6;
000444 e0e6      	LDI  R30,LOW(6)
000445 940e 08ae 	CALL SUBOPT_0xC
         ;     829 			cnt_del=20;
         ;     830 			}
         ;     831 		}
          _0xE2:
         ;     832 
         ;     833 	else if(step==s6)
000447 c008      	RJMP _0xE3
          _0xE1:
000448 e0e6      	LDI  R30,LOW(6)
000449 15ed      	CP   R30,R13
00044a f429      	BRNE _0xE4
         ;     834 		{
         ;     835 		temp|=(1<<PP1);
00044b 6400      	ORI  R16,LOW(64)
         ;     836   		cnt_del--;
00044c 940e 0888 	CALL SUBOPT_0x8
         ;     837 		if(cnt_del==0)
00044e f409      	BRNE _0xE5
         ;     838 			{
         ;     839 			step=sOFF;
00044f 24dd      	CLR  R13
         ;     840 			}
         ;     841 		}
          _0xE5:
         ;     842 
         ;     843 	}
          _0xE4:
          _0xE3:
          _0xE0:
          _0xDD:
          _0xDA:
          _0xD7:
         ;     844 
         ;     845 else if(prog==p4)      //замок
000450 c03d      	RJMP _0xE6
          _0xD4:
000451 e0e4      	LDI  R30,LOW(4)
000452 15ec      	CP   R30,R12
000453 f5d1      	BRNE _0xE7
         ;     846 	{
         ;     847 	if(step==s1)
000454 e0e1      	LDI  R30,LOW(1)
000455 15ed      	CP   R30,R13
000456 f421      	BRNE _0xE8
         ;     848 		{
         ;     849 		temp|=(1<<PP1);
000457 6400      	ORI  R16,LOW(64)
         ;     850           if(!bMD1)goto step_contr_end;
000458 fe32      	SBRS R3,2
000459 c034      	RJMP _0x9B
         ;     851 
         ;     852 		 /*	if(ee_vacuum_mode==evmOFF)
         ;     853 				{
         ;     854 				goto lbl_0004;
         ;     855 				}
         ;     856 			else step=s2;*/
         ;     857           //step=s2;
         ;     858 		}
         ;     859 
         ;     860 	else if(step==s2)
00045a c033      	RJMP _0xEA
          _0xE8:
00045b e0e2      	LDI  R30,LOW(2)
00045c 15ed      	CP   R30,R13
00045d f421      	BRNE _0xEB
         ;     861 		{
         ;     862 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3);
00045e 6e00      	ORI  R16,LOW(224)
         ;     863  //         if(!bVR)goto step_contr_end;
         ;     864 lbl_0004:
         ;     865           step=s3;
00045f 940e 0893 	CALL SUBOPT_0x9
         ;     866 		cnt_del=50;
         ;     867           }
         ;     868 
         ;     869 	else if(step==s3)
000461 c02c      	RJMP _0xED
          _0xEB:
000462 e0e3      	LDI  R30,LOW(3)
000463 15ed      	CP   R30,R13
000464 f439      	BRNE _0xEE
         ;     870 		{
         ;     871 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP3)|(1<<PP4);
000465 6f00      	ORI  R16,LOW(240)
         ;     872           cnt_del--;
000466 940e 0888 	CALL SUBOPT_0x8
         ;     873           if(cnt_del==0)
000468 f411      	BRNE _0xEF
         ;     874 			{
         ;     875           	step=s4;
000469 e0e4      	LDI  R30,LOW(4)
00046a 2ede      	MOV  R13,R30
         ;     876 			//cnt_del=ee_delay[prog,0]*10U;
         ;     877 			}
         ;     878           }
          _0xEF:
         ;     879 
         ;     880    	else if(step==s4)
00046b c022      	RJMP _0xF0
          _0xEE:
00046c e0e4      	LDI  R30,LOW(4)
00046d 15ed      	CP   R30,R13
00046e f469      	BRNE _0xF1
         ;     881 		{
         ;     882 		temp|=(1<<PP1)|(1<<PP2)|(1<<PP4);
00046f 6d00      	ORI  R16,LOW(208)
         ;     883 		cnt_del--;
000470 940e 0888 	CALL SUBOPT_0x8
         ;     884 		if(cnt_del==0)
000472 f441      	BRNE _0xF2
         ;     885 			{
         ;     886 			step=s5;
000473 e0e5      	LDI  R30,LOW(5)
000474 2ede      	MOV  R13,R30
         ;     887 			cnt_del=30;
000475 e1ee      	LDI  R30,LOW(30)
000476 e0f0      	LDI  R31,HIGH(30)
000477 93e0 0173 	STS  _cnt_del,R30
000479 93f0 0174 	STS  _cnt_del+1,R31
         ;     888 			}
         ;     889 		}
          _0xF2:
         ;     890 
         ;     891 	else if(step==s5)
00047b c012      	RJMP _0xF3
          _0xF1:
00047c e0e5      	LDI  R30,LOW(5)
00047d 15ed      	CP   R30,R13
00047e f439      	BRNE _0xF4
         ;     892 		{
         ;     893 		temp|=(1<<PP1)|(1<<PP4);
00047f 6500      	ORI  R16,LOW(80)
         ;     894 		cnt_del--;
000480 940e 0888 	CALL SUBOPT_0x8
         ;     895 		if(cnt_del==0)
000482 f411      	BRNE _0xF5
         ;     896 			{
         ;     897 			step=s6;
000483 e0e6      	LDI  R30,LOW(6)
000484 2ede      	MOV  R13,R30
         ;     898 			//cnt_del=ee_delay[prog,1]*10U;
         ;     899 			}
         ;     900 		}
          _0xF5:
         ;     901 
         ;     902 	else if(step==s6)
000485 c008      	RJMP _0xF6
          _0xF4:
000486 e0e6      	LDI  R30,LOW(6)
000487 15ed      	CP   R30,R13
000488 f429      	BRNE _0xF7
         ;     903 		{
         ;     904 		temp|=(1<<PP4);
000489 6100      	ORI  R16,LOW(16)
         ;     905 		cnt_del--;
00048a 940e 0888 	CALL SUBOPT_0x8
         ;     906 		if(cnt_del==0)
00048c f409      	BRNE _0xF8
         ;     907 			{
         ;     908 			step=sOFF;
00048d 24dd      	CLR  R13
         ;     909 			}
         ;     910 		}
          _0xF8:
         ;     911 
         ;     912 	}
          _0xF7:
          _0xF6:
          _0xF3:
          _0xF0:
          _0xED:
          _0xEA:
         ;     913 	
         ;     914 step_contr_end:
          _0xE7:
          _0xE6:
          _0xD3:
          _0xBA:
          _0x9B:
         ;     915 
         ;     916 //if(ee_vacuum_mode==evmOFF) temp&=~(1<<PP3);
         ;     917 
         ;     918 PORTB=~temp;
00048e 940e 087b 	CALL SUBOPT_0x6
         ;     919 //PORTB=0x55;
         ;     920 }
          _0x170:
000490 9109      	LD   R16,Y+
000491 9508      	RET
         ;     921 
         ;     922 
         ;     923 //-----------------------------------------------
         ;     924 void bin2bcd_int(unsigned int in)
         ;     925 {
          _bin2bcd_int:
         ;     926 char i;
         ;     927 for(i=3;i>0;i--)
000492 930a      	ST   -Y,R16
         ;	in -> Y+1
         ;	i -> R16
000493 e003      	LDI  R16,LOW(3)
          _0xFA:
000494 e0e0      	LDI  R30,LOW(0)
000495 17e0      	CP   R30,R16
000496 f4c8      	BRSH _0xFB
         ;     928 	{
         ;     929 	dig[i]=in%10;
000497 2fe0      	MOV  R30,R16
000498 e0f0      	LDI  R31,0
000499 59eb      	SUBI R30,LOW(-_dig)
00049a 4ffe      	SBCI R31,HIGH(-_dig)
00049b 93ff      	PUSH R31
00049c 93ef      	PUSH R30
00049d 81a9      	LDD  R26,Y+1
00049e 81ba      	LDD  R27,Y+1+1
00049f e0ea      	LDI  R30,LOW(10)
0004a0 e0f0      	LDI  R31,HIGH(10)
0004a1 940e 091f 	CALL __MODW21U
0004a3 91af      	POP  R26
0004a4 91bf      	POP  R27
0004a5 93ec      	ST   X,R30
         ;     930 	in/=10;
0004a6 81a9      	LDD  R26,Y+1
0004a7 81ba      	LDD  R27,Y+1+1
0004a8 e0ea      	LDI  R30,LOW(10)
0004a9 e0f0      	LDI  R31,HIGH(10)
0004aa 940e 090c 	CALL __DIVW21U
0004ac 83e9      	STD  Y+1,R30
0004ad 83fa      	STD  Y+1+1,R31
         ;     931 	}   
0004ae 5001      	SUBI R16,1
0004af cfe4      	RJMP _0xFA
          _0xFB:
         ;     932 }
0004b0 8108      	LDD  R16,Y+0
0004b1 c06c      	RJMP _0x16F
         ;     933 
         ;     934 //-----------------------------------------------
         ;     935 void bcd2ind(char s)
         ;     936 {
          _bcd2ind:
         ;     937 char i;
         ;     938 bZ=1;
0004b2 930a      	ST   -Y,R16
         ;	s -> Y+1
         ;	i -> R16
0004b3 9468      	SET
0004b4 f823      	BLD  R2,3
         ;     939 for (i=0;i<5;i++)
0004b5 e000      	LDI  R16,LOW(0)
          _0xFD:
0004b6 3005      	CPI  R16,5
0004b7 f010      	BRLO PC+3
0004b8 940c 0511 	JMP _0xFE
         ;     940 	{
         ;     941 	if(bZ&&(!dig[i-1])&&(i<4))
0004ba fe23      	SBRS R2,3
0004bb c009      	RJMP _0x100
0004bc 940e 08b6 	CALL SUBOPT_0xD
0004be 59eb      	SUBI R30,LOW(-_dig)
0004bf 4ffe      	SBCI R31,HIGH(-_dig)
0004c0 81e0      	LD   R30,Z
0004c1 30e0      	CPI  R30,0
0004c2 f411      	BRNE _0x100
0004c3 3004      	CPI  R16,4
0004c4 f008      	BRLO _0x101
          _0x100:
0004c5 c01f      	RJMP _0xFF
          _0x101:
         ;     942 		{
         ;     943 		if((4-i)>s)
0004c6 e0e4      	LDI  R30,LOW(4)
0004c7 1be0      	SUB  R30,R16
0004c8 2fae      	MOV  R26,R30
0004c9 81e9      	LDD  R30,Y+1
0004ca 17ea      	CP   R30,R26
0004cb f460      	BRSH _0x102
         ;     944 			{
         ;     945 			ind_out[i-1]=DIGISYM[10];
0004cc 940e 08b6 	CALL SUBOPT_0xD
0004ce 5ae0      	SUBI R30,LOW(-_ind_out)
0004cf 4ffe      	SBCI R31,HIGH(-_ind_out)
0004d0 93ff      	PUSH R31
0004d1 93ef      	PUSH R30
0004d2   +  	__POINTW1FN _DIGISYM,10
0004d4 91e4      	LPM  R30,Z
0004d5 91af      	POP  R26
0004d6 91bf      	POP  R27
0004d7 c00b      	RJMP _0x171
         ;     946 			}
         ;     947 		else ind_out[i-1]=DIGISYM[0];	
          _0x102:
0004d8 940e 08b6 	CALL SUBOPT_0xD
0004da 5ae0      	SUBI R30,LOW(-_ind_out)
0004db 4ffe      	SBCI R31,HIGH(-_ind_out)
0004dc 93ff      	PUSH R31
0004dd 93ef      	PUSH R30
0004de e5ea      	LDI  R30,LOW(_DIGISYM*2)
0004df e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0004e0 91e4      	LPM  R30,Z
0004e1 91af      	POP  R26
0004e2 91bf      	POP  R27
          _0x171:
0004e3 93ec      	ST   X,R30
         ;     948 		}
         ;     949 	else
0004e4 c01a      	RJMP _0x104
          _0xFF:
         ;     950 		{
         ;     951 		ind_out[i-1]=DIGISYM[dig[i-1]];
0004e5 940e 08b6 	CALL SUBOPT_0xD
0004e7 5ae0      	SUBI R30,LOW(-_ind_out)
0004e8 4ffe      	SBCI R31,HIGH(-_ind_out)
0004e9 93ff      	PUSH R31
0004ea 93ef      	PUSH R30
0004eb e5ea      	LDI  R30,LOW(_DIGISYM*2)
0004ec e0f0      	LDI  R31,HIGH(_DIGISYM*2)
0004ed 93ff      	PUSH R31
0004ee 93ef      	PUSH R30
0004ef 940e 08b6 	CALL SUBOPT_0xD
0004f1 59eb      	SUBI R30,LOW(-_dig)
0004f2 4ffe      	SBCI R31,HIGH(-_dig)
0004f3 81e0      	LD   R30,Z
0004f4 91af      	POP  R26
0004f5 91bf      	POP  R27
0004f6 e0f0      	LDI  R31,0
0004f7 0fea      	ADD  R30,R26
0004f8 1ffb      	ADC  R31,R27
0004f9 91e4      	LPM  R30,Z
0004fa 91af      	POP  R26
0004fb 91bf      	POP  R27
0004fc 93ec      	ST   X,R30
         ;     952 		bZ=0;
0004fd 94e8      	CLT
0004fe f823      	BLD  R2,3
         ;     953 		}                   
          _0x104:
         ;     954 
         ;     955 	if(s)
0004ff 81e9      	LDD  R30,Y+1
000500 30e0      	CPI  R30,0
000501 f069      	BREQ _0x105
         ;     956 		{
         ;     957 		ind_out[3-s]&=0b01111111;
000502 81a9      	LDD  R26,Y+1
000503 e0e3      	LDI  R30,LOW(3)
000504 1bea      	SUB  R30,R26
000505 e0f0      	LDI  R31,0
000506 5ae0      	SUBI R30,LOW(-_ind_out)
000507 4ffe      	SBCI R31,HIGH(-_ind_out)
000508 93ff      	PUSH R31
000509 93ef      	PUSH R30
00050a 81e0      	LD   R30,Z
00050b 77ef      	ANDI R30,0x7F
00050c 91af      	POP  R26
00050d 91bf      	POP  R27
00050e 93ec      	ST   X,R30
         ;     958 		}	
         ;     959  
         ;     960 	}
          _0x105:
00050f 5f0f      	SUBI R16,-1
000510 cfa5      	RJMP _0xFD
          _0xFE:
         ;     961 }            
000511 8108      	LDD  R16,Y+0
000512 9622      	ADIW R28,2
000513 9508      	RET
         ;     962 //-----------------------------------------------
         ;     963 void int2ind(unsigned int in,char s)
         ;     964 {
          _int2ind:
         ;     965 bin2bcd_int(in);
000514 81e9      	LDD  R30,Y+1
000515 81fa      	LDD  R31,Y+1+1
000516 93fa      	ST   -Y,R31
000517 93ea      	ST   -Y,R30
000518 940e 0492 	CALL _bin2bcd_int
         ;     966 bcd2ind(s);
00051a 81e8      	LD   R30,Y
00051b 93ea      	ST   -Y,R30
00051c 940e 04b2 	CALL _bcd2ind
         ;     967 
         ;     968 } 
          _0x16F:
00051e 9623      	ADIW R28,3
00051f 9508      	RET
         ;     969 
         ;     970 //-----------------------------------------------
         ;     971 void ind_hndl(void)
         ;     972 {
          _ind_hndl:
         ;     973 if(ind==iMn)
000520 20ee      	TST  R14
000521 f5d1      	BRNE _0x106
         ;     974 	{
         ;     975 	if(ee_prog==EE_PROG_FULL)
000522 e0a5      	LDI  R26,LOW(_ee_prog)
000523 e0b0      	LDI  R27,HIGH(_ee_prog)
000524 940e 0930 	CALL __EEPROMRDW
000526 9730      	SBIW R30,0
000527 f199      	BREQ _0x108
         ;     976 		{
         ;     977 		}
         ;     978 	else if(ee_prog==EE_PROG_ONLY_ORIENT)
000528 e0a5      	LDI  R26,LOW(_ee_prog)
000529 e0b0      	LDI  R27,HIGH(_ee_prog)
00052a 940e 0930 	CALL __EEPROMRDW
00052c 30e1      	CPI  R30,LOW(0x1)
00052d e0a0      	LDI  R26,HIGH(0x1)
00052e 07fa      	CPC  R31,R26
00052f f429      	BRNE _0x109
         ;     979 		{
         ;     980 		int2ind(orient_step,0);
000530 91e0 017e 	LDS  R30,_orient_step
000532 940e 08ba 	CALL SUBOPT_0xE
         ;     981 		}
         ;     982 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
000534 c026      	RJMP _0x10A
          _0x109:
000535 e0a5      	LDI  R26,LOW(_ee_prog)
000536 e0b0      	LDI  R27,HIGH(_ee_prog)
000537 940e 0930 	CALL __EEPROMRDW
000539 30e2      	CPI  R30,LOW(0x2)
00053a e0a0      	LDI  R26,HIGH(0x2)
00053b 07fa      	CPC  R31,R26
00053c f429      	BRNE _0x10B
         ;     983 		{
         ;     984 		int2ind(napoln_step,0);                              
00053d 91e0 017d 	LDS  R30,_napoln_step
00053f 940e 08ba 	CALL SUBOPT_0xE
         ;     985 		}			                
         ;     986 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
000541 c019      	RJMP _0x10C
          _0x10B:
000542 e0a5      	LDI  R26,LOW(_ee_prog)
000543 e0b0      	LDI  R27,HIGH(_ee_prog)
000544 940e 0930 	CALL __EEPROMRDW
000546 30e3      	CPI  R30,LOW(0x3)
000547 e0a0      	LDI  R26,HIGH(0x3)
000548 07fa      	CPC  R31,R26
000549 f429      	BRNE _0x10D
         ;     987 		{
         ;     988 		int2ind(payka_step,0);
00054a 91e0 017c 	LDS  R30,_payka_step
00054c 940e 08ba 	CALL SUBOPT_0xE
         ;     989 		}
         ;     990 	else if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
00054e c00c      	RJMP _0x10E
          _0x10D:
00054f e0a5      	LDI  R26,LOW(_ee_prog)
000550 e0b0      	LDI  R27,HIGH(_ee_prog)
000551 940e 0930 	CALL __EEPROMRDW
000553 30e4      	CPI  R30,LOW(0x4)
000554 e0a0      	LDI  R26,HIGH(0x4)
000555 07fa      	CPC  R31,R26
000556 f421      	BRNE _0x10F
         ;     991 		{
         ;     992 		int2ind(main_loop_step,0);
000557 91e0 017f 	LDS  R30,_main_loop_step
000559 940e 08ba 	CALL SUBOPT_0xE
         ;     993 		}			
         ;     994 	
         ;     995 	//int2ind(bDM,0);
         ;     996 	//int2ind(in_word,0);
         ;     997 	//int2ind(cnt_dm,0);
         ;     998 	
         ;     999 	//int2ind(bDM,0);
         ;    1000 	//int2ind(ee_delay[prog,sub_ind],1);  
         ;    1001 	//ind_out[0]=0xff;//DIGISYM[0];
         ;    1002 	//ind_out[1]=0xff;//DIGISYM[1];
         ;    1003 	//ind_out[2]=DIGISYM[2];//0xff;
         ;    1004 	//ind_out[0]=DIGISYM[7]; 
         ;    1005 
         ;    1006 	//ind_out[0]=DIGISYM[sub_ind+1];
         ;    1007 	}
          _0x10F:
          _0x10E:
          _0x10C:
          _0x10A:
          _0x108:
         ;    1008 else if(ind==iSet)
00055b c03b      	RJMP _0x110
          _0x106:
00055c e0e2      	LDI  R30,LOW(2)
00055d 15ee      	CP   R30,R14
00055e f5c1      	BRNE _0x111
         ;    1009 	{
         ;    1010      if(sub_ind==0)int2ind(ee_prog,0);
00055f 91e0 016e 	LDS  R30,_sub_ind
000561 30e0      	CPI  R30,0
000562 f459      	BRNE _0x112
000563 e0a5      	LDI  R26,LOW(_ee_prog)
000564 e0b0      	LDI  R27,HIGH(_ee_prog)
000565 940e 0930 	CALL __EEPROMRDW
000567 93fa      	ST   -Y,R31
000568 93ea      	ST   -Y,R30
000569 e0e0      	LDI  R30,LOW(0)
00056a 93ea      	ST   -Y,R30
00056b 940e 0514 	CALL _int2ind
         ;    1011 	else if(sub_ind==1)int2ind(ee_temp1,1);
00056d c015      	RJMP _0x113
          _0x112:
00056e 91a0 016e 	LDS  R26,_sub_ind
000570 30a1      	CPI  R26,LOW(0x1)
000571 f439      	BRNE _0x114
000572 e0a1      	LDI  R26,LOW(_ee_temp1)
000573 e0b0      	LDI  R27,HIGH(_ee_temp1)
000574 940e 0930 	CALL __EEPROMRDW
000576 940e 08c1 	CALL SUBOPT_0xF
         ;    1012 	else if(sub_ind==2)int2ind(ee_temp2,1);
000578 c00a      	RJMP _0x115
          _0x114:
000579 91a0 016e 	LDS  R26,_sub_ind
00057b 30a2      	CPI  R26,LOW(0x2)
00057c f431      	BRNE _0x116
00057d e0a3      	LDI  R26,LOW(_ee_temp2)
00057e e0b0      	LDI  R27,HIGH(_ee_temp2)
00057f 940e 0930 	CALL __EEPROMRDW
000581 940e 08c1 	CALL SUBOPT_0xF
         ;    1013 		
         ;    1014 	if(bFL5)ind_out[0]=DIGISYM[sub_ind+1];
          _0x116:
          _0x115:
          _0x113:
000583 fe30      	SBRS R3,0
000584 c00d      	RJMP _0x117
000585 e5ea      	LDI  R30,LOW(_DIGISYM*2)
000586 e0f0      	LDI  R31,HIGH(_DIGISYM*2)
000587 93ff      	PUSH R31
000588 93ef      	PUSH R30
000589 91e0 016e 	LDS  R30,_sub_ind
00058b 5fef      	SUBI R30,-LOW(1)
00058c 91af      	POP  R26
00058d 91bf      	POP  R27
00058e e0f0      	LDI  R31,0
00058f 0fea      	ADD  R30,R26
000590 1ffb      	ADC  R31,R27
000591 c002      	RJMP _0x172
         ;    1015 	else    ind_out[0]=DIGISYM[10];
          _0x117:
000592   +  	__POINTW1FN _DIGISYM,10
          _0x172:
000594 91e4      	LPM  R30,Z
000595 93e0 0160 	STS  _ind_out,R30
         ;    1016 	}
         ;    1017 }
          _0x111:
          _0x110:
000597 9508      	RET
         ;    1018 
         ;    1019 //-----------------------------------------------
         ;    1020 void led_hndl(void)
         ;    1021 {
          _led_hndl:
         ;    1022 ind_out[4]=DIGISYM[10]; 
000598   +  	__POINTW1FN _DIGISYM,10
00059a 91e4      	LPM  R30,Z
00059b   +  	__PUTB1MN _ind_out,4
         ;    1023 
         ;    1024 ind_out[4]&=~(1<<LED_POW_ON); 
00059d   +  	__POINTW1MN _ind_out,4
00059f 93ff      	PUSH R31
0005a0 93ef      	PUSH R30
0005a1 81e0      	LD   R30,Z
0005a2 7def      	ANDI R30,0xDF
0005a3 91af      	POP  R26
0005a4 91bf      	POP  R27
0005a5 93ec      	ST   X,R30
         ;    1025 
         ;    1026 if(step!=sOFF)
0005a6 20dd      	TST  R13
0005a7 f049      	BREQ _0x119
         ;    1027 	{
         ;    1028 	ind_out[4]&=~(1<<LED_WRK);
0005a8   +  	__POINTW1MN _ind_out,4
0005aa 93ff      	PUSH R31
0005ab 93ef      	PUSH R30
0005ac 81e0      	LD   R30,Z
0005ad 7bef      	ANDI R30,0xBF
0005ae 91af      	POP  R26
0005af 91bf      	POP  R27
0005b0 c008      	RJMP _0x173
         ;    1029 	}
         ;    1030 else ind_out[4]|=(1<<LED_WRK);
          _0x119:
0005b1   +  	__POINTW1MN _ind_out,4
0005b3 93ff      	PUSH R31
0005b4 93ef      	PUSH R30
0005b5 81e0      	LD   R30,Z
0005b6 64e0      	ORI  R30,0x40
0005b7 91af      	POP  R26
0005b8 91bf      	POP  R27
          _0x173:
0005b9 93ec      	ST   X,R30
         ;    1031 
         ;    1032 
         ;    1033 if(step==sOFF)
0005ba 20dd      	TST  R13
0005bb f4a9      	BRNE _0x11B
         ;    1034 	{
         ;    1035  	if(bERR)
0005bc fe31      	SBRS R3,1
0005bd c009      	RJMP _0x11C
         ;    1036 		{
         ;    1037 		ind_out[4]&=~(1<<LED_ERROR);
0005be   +  	__POINTW1MN _ind_out,4
0005c0 93ff      	PUSH R31
0005c1 93ef      	PUSH R30
0005c2 81e0      	LD   R30,Z
0005c3 7fee      	ANDI R30,0xFE
0005c4 91af      	POP  R26
0005c5 91bf      	POP  R27
0005c6 c008      	RJMP _0x174
         ;    1038 		}
         ;    1039 	else
          _0x11C:
         ;    1040 		{
         ;    1041 		ind_out[4]|=(1<<LED_ERROR);
0005c7   +  	__POINTW1MN _ind_out,4
0005c9 93ff      	PUSH R31
0005ca 93ef      	PUSH R30
0005cb 81e0      	LD   R30,Z
0005cc 60e1      	ORI  R30,1
0005cd 91af      	POP  R26
0005ce 91bf      	POP  R27
          _0x174:
0005cf 93ec      	ST   X,R30
         ;    1042 		}
         ;    1043      }
         ;    1044 else ind_out[4]|=(1<<LED_ERROR);
0005d0 c009      	RJMP _0x11E
          _0x11B:
0005d1   +  	__POINTW1MN _ind_out,4
0005d3 93ff      	PUSH R31
0005d4 93ef      	PUSH R30
0005d5 81e0      	LD   R30,Z
0005d6 60e1      	ORI  R30,1
0005d7 91af      	POP  R26
0005d8 91bf      	POP  R27
0005d9 93ec      	ST   X,R30
          _0x11E:
         ;    1045 
         ;    1046 /* 	if(bMD1)
         ;    1047 		{
         ;    1048 		ind_out[4]&=~(1<<LED_ERROR);
         ;    1049 		}
         ;    1050 	else
         ;    1051 		{
         ;    1052 		ind_out[4]|=(1<<LED_ERROR);
         ;    1053 		} */
         ;    1054 
         ;    1055 //if(bERR)ind_out[4]&=~(1<<LED_ERROR);
         ;    1056 if(ee_loop_mode==elmAUTO)ind_out[4]&=~(1<<LED_LOOP_AUTO);
0005da e0a0      	LDI  R26,LOW(_ee_loop_mode)
0005db e0b0      	LDI  R27,HIGH(_ee_loop_mode)
0005dc 940e 0934 	CALL __EEPROMRDB
0005de 35e5      	CPI  R30,LOW(0x55)
0005df f449      	BRNE _0x11F
0005e0   +  	__POINTW1MN _ind_out,4
0005e2 93ff      	PUSH R31
0005e3 93ef      	PUSH R30
0005e4 81e0      	LD   R30,Z
0005e5 77ef      	ANDI R30,0x7F
0005e6 91af      	POP  R26
0005e7 91bf      	POP  R27
0005e8 c008      	RJMP _0x175
         ;    1057 else ind_out[4]|=(1<<LED_LOOP_AUTO);
          _0x11F:
0005e9   +  	__POINTW1MN _ind_out,4
0005eb 93ff      	PUSH R31
0005ec 93ef      	PUSH R30
0005ed 81e0      	LD   R30,Z
0005ee 68e0      	ORI  R30,0x80
0005ef 91af      	POP  R26
0005f0 91bf      	POP  R27
          _0x175:
0005f1 93ec      	ST   X,R30
         ;    1058 
         ;    1059 /*if(prog==p1) ind_out[4]&=~(1<<LED_PROG1);
         ;    1060 else if(prog==p2) ind_out[4]&=~(1<<LED_PROG2);
         ;    1061 else if(prog==p3) ind_out[4]&=~(1<<LED_PROG3);
         ;    1062 else if(prog==p4) ind_out[4]&=~(1<<LED_PROG4); */
         ;    1063 
         ;    1064 /*if(ind==iPr_sel)
         ;    1065 	{
         ;    1066 	if(bFL5)ind_out[4]|=(1<<LED_PROG1)|(1<<LED_PROG2)|(1<<LED_PROG3)|(1<<LED_PROG4);
         ;    1067 	}*/ 
         ;    1068 	 
         ;    1069 /*if(ind==iVr)
         ;    1070 	{
         ;    1071 	if(bFL5)ind_out[4]|=(1<<LED_POW_ON);
         ;    1072 	} */
         ;    1073 if(orient_step!=sOFF)ind_out[4]&=~(1<<LED_ORIENT);
0005f2 91e0 017e 	LDS  R30,_orient_step
0005f4 30e0      	CPI  R30,0
0005f5 f049      	BREQ _0x121
0005f6   +  	__POINTW1MN _ind_out,4
0005f8 93ff      	PUSH R31
0005f9 93ef      	PUSH R30
0005fa 81e0      	LD   R30,Z
0005fb 7eef      	ANDI R30,0xEF
0005fc 91af      	POP  R26
0005fd 91bf      	POP  R27
0005fe 93ec      	ST   X,R30
         ;    1074 if(napoln_step!=sOFF)ind_out[4]&=~(1<<LED_NAPOLN);
          _0x121:
0005ff 91e0 017d 	LDS  R30,_napoln_step
000601 30e0      	CPI  R30,0
000602 f049      	BREQ _0x122
000603   +  	__POINTW1MN _ind_out,4
000605 93ff      	PUSH R31
000606 93ef      	PUSH R30
000607 81e0      	LD   R30,Z
000608 7feb      	ANDI R30,0xFB
000609 91af      	POP  R26
00060a 91bf      	POP  R27
00060b 93ec      	ST   X,R30
         ;    1075 if(payka_step!=sOFF)ind_out[4]&=~(1<<LED_PAYKA);
          _0x122:
00060c 91e0 017c 	LDS  R30,_payka_step
00060e 30e0      	CPI  R30,0
00060f f049      	BREQ _0x123
000610   +  	__POINTW1MN _ind_out,4
000612 93ff      	PUSH R31
000613 93ef      	PUSH R30
000614 81e0      	LD   R30,Z
000615 7fe7      	ANDI R30,0XF7
000616 91af      	POP  R26
000617 91bf      	POP  R27
000618 93ec      	ST   X,R30
         ;    1076 if(main_loop_step!=sOFF)ind_out[4]&=~(1<<LED_MAIN_LOOP);	
          _0x123:
000619 91e0 017f 	LDS  R30,_main_loop_step
00061b 30e0      	CPI  R30,0
00061c f049      	BREQ _0x124
00061d   +  	__POINTW1MN _ind_out,4
00061f 93ff      	PUSH R31
000620 93ef      	PUSH R30
000621 81e0      	LD   R30,Z
000622 7fed      	ANDI R30,0xFD
000623 91af      	POP  R26
000624 91bf      	POP  R27
000625 93ec      	ST   X,R30
         ;    1077 }
          _0x124:
000626 9508      	RET
         ;    1078 
         ;    1079 //-----------------------------------------------
         ;    1080 // Подпрограмма драйва до 7 кнопок одного порта, 
         ;    1081 // различает короткое и длинное нажатие,
         ;    1082 // срабатывает на отпускание кнопки, возможность
         ;    1083 // ускорения перебора при длинном нажатии...
         ;    1084 #define but_port PORTC
         ;    1085 #define but_dir  DDRC
         ;    1086 #define but_pin  PINC
         ;    1087 #define but_mask 0b01101010
         ;    1088 #define no_but   0b11111111
         ;    1089 #define but_on   5
         ;    1090 #define but_onL  20
         ;    1091 
         ;    1092 
         ;    1093 
         ;    1094 
         ;    1095 void but_drv(void)
         ;    1096 { 
          _but_drv:
         ;    1097 DDRD&=0b00000111;
000627 b3e1      	IN   R30,0x11
000628 70e7      	ANDI R30,LOW(0x7)
000629 940e 08c7 	CALL SUBOPT_0x10
         ;    1098 PORTD|=0b11111000;
         ;    1099 
         ;    1100 but_port|=(but_mask^0xff);
00062b 940e 08cc 	CALL SUBOPT_0x11
         ;    1101 but_dir&=but_mask;
         ;    1102 #asm
         ;    1103 nop
00062d 0000      nop
         ;    1104 nop
00062e 0000      nop
         ;    1105 nop
00062f 0000      nop
         ;    1106 nop
000630 0000      nop
         ;    1107 #endasm
         
         ;    1108 
         ;    1109 but_n=but_pin|but_mask; 
000631 b3e3      	IN   R30,0x13
000632 66ea      	ORI  R30,LOW(0x6A)
000633 93e0 0169 	STS  _but_n_G1,R30
         ;    1110 
         ;    1111 if((but_n==no_but)||(but_n!=but_s))
000635 91a0 0169 	LDS  R26,_but_n_G1
000637 3faf      	CPI  R26,LOW(0xFF)
000638 f011      	BREQ _0x126
000639 d299      	RCALL SUBOPT_0x12
00063a f109      	BREQ _0x125
          _0x126:
         ;    1112  	{
         ;    1113  	speed=0;
00063b 94e8      	CLT
00063c f826      	BLD  R2,6
         ;    1114    	if (((but0_cnt>=but_on)||(but1_cnt!=0))&&(!l_but))
00063d 91a0 016b 	LDS  R26,_but0_cnt_G1
00063f 30a5      	CPI  R26,LOW(0x5)
000640 f420      	BRSH _0x129
000641 91a0 016c 	LDS  R26,_but1_cnt_G1
000643 30a0      	CPI  R26,LOW(0x0)
000644 f011      	BREQ _0x12B
          _0x129:
000645 fe24      	SBRS R2,4
000646 c001      	RJMP _0x12C
          _0x12B:
000647 c004      	RJMP _0x128
          _0x12C:
         ;    1115   		{
         ;    1116    	     n_but=1;
000648 9468      	SET
000649 f825      	BLD  R2,5
         ;    1117           but=but_s;
00064a 90b0 016a 	LDS  R11,_but_s_G1
         ;    1118           }
         ;    1119    	if (but1_cnt>=but_onL_temp)
          _0x128:
00064c d28c      	RCALL SUBOPT_0x13
00064d f018      	BRLO _0x12D
         ;    1120   		{
         ;    1121    	     n_but=1;
00064e 9468      	SET
00064f f825      	BLD  R2,5
         ;    1122           but=but_s&0b11111101;
000650 d28e      	RCALL SUBOPT_0x14
         ;    1123           }
         ;    1124     	l_but=0;
          _0x12D:
000651 94e8      	CLT
000652 f824      	BLD  R2,4
         ;    1125    	but_onL_temp=but_onL;
000653 e1e4      	LDI  R30,LOW(20)
000654 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1126     	but0_cnt=0;
000656 e0e0      	LDI  R30,LOW(0)
000657 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1127   	but1_cnt=0;          
000659 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1128      goto but_drv_out;
00065b c02b      	RJMP _0x12E
         ;    1129   	}  
         ;    1130   	
         ;    1131 if(but_n==but_s)
          _0x125:
00065c d276      	RCALL SUBOPT_0x12
00065d f549      	BRNE _0x12F
         ;    1132  	{
         ;    1133   	but0_cnt++;
00065e 91e0 016b 	LDS  R30,_but0_cnt_G1
000660 5fef      	SUBI R30,-LOW(1)
000661 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1134   	if(but0_cnt>=but_on)
000663 91a0 016b 	LDS  R26,_but0_cnt_G1
000665 30a5      	CPI  R26,LOW(0x5)
000666 f100      	BRLO _0x130
         ;    1135   		{
         ;    1136    		but0_cnt=0;
000667 e0e0      	LDI  R30,LOW(0)
000668 93e0 016b 	STS  _but0_cnt_G1,R30
         ;    1137    		but1_cnt++;
00066a 91e0 016c 	LDS  R30,_but1_cnt_G1
00066c 5fef      	SUBI R30,-LOW(1)
00066d 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1138    		if(but1_cnt>=but_onL_temp)
00066f d269      	RCALL SUBOPT_0x13
000670 f0b0      	BRLO _0x131
         ;    1139    			{              
         ;    1140     			but=but_s&0b11111101;
000671 d26d      	RCALL SUBOPT_0x14
         ;    1141     			but1_cnt=0;
000672 e0e0      	LDI  R30,LOW(0)
000673 93e0 016c 	STS  _but1_cnt_G1,R30
         ;    1142     			n_but=1;
000675 9468      	SET
000676 f825      	BLD  R2,5
         ;    1143     			l_but=1;
000677 9468      	SET
000678 f824      	BLD  R2,4
         ;    1144 			if(speed)
000679 fe26      	SBRS R2,6
00067a c00c      	RJMP _0x132
         ;    1145 				{
         ;    1146     				but_onL_temp=but_onL_temp>>1;
00067b 91e0 016d 	LDS  R30,_but_onL_temp_G1
00067d 95e6      	LSR  R30
00067e 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1147         			if(but_onL_temp<=2) but_onL_temp=2;
000680 91a0 016d 	LDS  R26,_but_onL_temp_G1
000682 e0e2      	LDI  R30,LOW(2)
000683 17ea      	CP   R30,R26
000684 f010      	BRLO _0x133
000685 93e0 016d 	STS  _but_onL_temp_G1,R30
         ;    1148 				}    
          _0x133:
         ;    1149    			}
          _0x132:
         ;    1150   		} 
          _0x131:
         ;    1151  	}
          _0x130:
         ;    1152 but_drv_out:
          _0x12F:
          _0x12E:
         ;    1153 but_s=but_n;
000687 91e0 0169 	LDS  R30,_but_n_G1
000689 93e0 016a 	STS  _but_s_G1,R30
         ;    1154 but_port|=(but_mask^0xff);
00068b d240      	RCALL SUBOPT_0x11
         ;    1155 but_dir&=but_mask;
         ;    1156 }    
00068c 9508      	RET
         ;    1157 
         ;    1158 #define butV	239
         ;    1159 #define butV_	237
         ;    1160 #define butP	251
         ;    1161 #define butP_	249
         ;    1162 #define butR	127
         ;    1163 #define butR_	125
         ;    1164 #define butL	254
         ;    1165 #define butL_	252
         ;    1166 #define butLR	126
         ;    1167 #define butLR_	124 
         ;    1168 #define butVP_ 233
         ;    1169 //-----------------------------------------------
         ;    1170 void but_an(void)
         ;    1171 {
          _but_an:
         ;    1172 
         ;    1173 if(bSTART)
00068d fe37      	SBRS R3,7
00068e c003      	RJMP _0x134
         ;    1174 	{   
         ;    1175 /*	if(ee_prog==EE_PROG_FULL)
         ;    1176 		{
         ;    1177 		}
         ;    1178 	else if(ee_prog==EE_PROG_ONLY_ORIENT)
         ;    1179 		{
         ;    1180 		orient_cmd=cmdSTART;
         ;    1181 		}
         ;    1182 	else if(ee_prog==EE_PROG_ONLY_NAPOLN)
         ;    1183 		{
         ;    1184 		napoln_cmd=cmdSTART;                              
         ;    1185 		}			                
         ;    1186 	else if(ee_prog==EE_PROG_ONLY_PAYKA)
         ;    1187 		{
         ;    1188 		payka_cmd=cmdSTART;
         ;    1189 		}
         ;    1190 	else if(ee_prog==EE_PROG_ONLY_MAIN_LOOP)
         ;    1191 		{
         ;    1192 		main_loop_cmd=cmdSTART;
         ;    1193 		//main_loop_del_cnt=20;
         ;    1194 		}  */
         ;    1195 		
         ;    1196 		
         ;    1197 		main_loop_cmd=cmdSTART;
00068f e0e1      	LDI  R30,LOW(1)
000690 93e0 0183 	STS  _main_loop_cmd,R30
         ;    1198 		
         ;    1199 						
         ;    1200 	}
         ;    1201 	
         ;    1202 bSTART=0;	
          _0x134:
000692 94e8      	CLT
000693 f837      	BLD  R3,7
         ;    1203 
         ;    1204 if(bSTOP)
000694 fe40      	SBRS R4,0
000695 c009      	RJMP _0x135
         ;    1205 	{   
         ;    1206 	orient_cmd=cmdSTOP;
000696 e0e2      	LDI  R30,LOW(2)
000697 93e0 0182 	STS  _orient_cmd,R30
         ;    1207 	napoln_cmd=cmdSTOP;
000699 93e0 0181 	STS  _napoln_cmd,R30
         ;    1208 	payka_cmd=cmdSTOP;
00069b 93e0 0180 	STS  _payka_cmd,R30
         ;    1209 	main_loop_cmd=cmdSTOP;
00069d 93e0 0183 	STS  _main_loop_cmd,R30
         ;    1210 		
         ;    1211 	}
         ;    1212 	
         ;    1213 bSTOP=0;	
          _0x135:
00069f 94e8      	CLT
0006a0 f840      	BLD  R4,0
         ;    1214 
         ;    1215 
         ;    1216 /*
         ;    1217 if(!(in_word&0x01))
         ;    1218 	{
         ;    1219 	#ifdef TVIST_SKO
         ;    1220 	if((step==sOFF)&&(!bERR))
         ;    1221 		{
         ;    1222 		step=s1;
         ;    1223 		if(prog==p2) cnt_del=70;
         ;    1224 		else if(prog==p3) cnt_del=100;
         ;    1225 		}
         ;    1226 	#endif
         ;    1227 	#ifdef DV3KL2MD
         ;    1228 	if((step==sOFF)&&(!bERR))
         ;    1229 		{
         ;    1230 		step=s1;
         ;    1231 		cnt_del=70;
         ;    1232 		}
         ;    1233 	#endif	
         ;    1234 	#ifndef TVIST_SKO
         ;    1235 	if((step==sOFF)&&(!bERR))
         ;    1236 		{
         ;    1237 		step=s1;
         ;    1238 		if(prog==p1) cnt_del=50;
         ;    1239 		else if(prog==p2) cnt_del=50;
         ;    1240 		else if(prog==p3) cnt_del=50;
         ;    1241           #ifdef P380_MINI
         ;    1242   		cnt_del=100;
         ;    1243   		#endif
         ;    1244 		}
         ;    1245 	#endif
         ;    1246 	}
         ;    1247 if(!(in_word&0x02))
         ;    1248 	{
         ;    1249 	step=sOFF;
         ;    1250 
         ;    1251 	} */
         ;    1252 
         ;    1253 if (!n_but) goto but_an_end;
0006a1 fe25      	SBRS R2,5
0006a2 c0f1      	RJMP _0x137
         ;    1254 
         ;    1255 if(but==butV_)
0006a3 eeed      	LDI  R30,LOW(237)
0006a4 15eb      	CP   R30,R11
0006a5 f469      	BRNE _0x138
         ;    1256 	{
         ;    1257 	if(ee_loop_mode!=elmAUTO)ee_loop_mode=elmAUTO;
0006a6 e0a0      	LDI  R26,LOW(_ee_loop_mode)
0006a7 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
0006a8 940e 0934 	CALL __EEPROMRDB
0006aa 35e5      	CPI  R30,LOW(0x55)
0006ab f011      	BREQ _0x139
0006ac e5e5      	LDI  R30,LOW(85)
0006ad c001      	RJMP _0x176
         ;    1258 	else ee_loop_mode=elmMNL;
          _0x139:
0006ae eaea      	LDI  R30,LOW(170)
          _0x176:
0006af e0a0      	LDI  R26,LOW(_ee_loop_mode)
0006b0 e0b0      	LDI  R27,HIGH(_ee_loop_mode)
0006b1 940e 0948 	CALL __EEPROMWRB
         ;    1259 	}
         ;    1260 
         ;    1261 
         ;    1262 if(ind==iMn)
          _0x138:
0006b3 20ee      	TST  R14
0006b4 f449      	BRNE _0x13B
         ;    1263 	{
         ;    1264 	if(but==butP_)
0006b5 efe9      	LDI  R30,LOW(249)
0006b6 15eb      	CP   R30,R11
0006b7 f429      	BRNE _0x13C
         ;    1265 		{
         ;    1266 		ind=iSet;
0006b8 e0e2      	LDI  R30,LOW(2)
0006b9 2eee      	MOV  R14,R30
         ;    1267 		sub_ind=0;
0006ba e0e0      	LDI  R30,LOW(0)
0006bb 93e0 016e 	STS  _sub_ind,R30
         ;    1268 		}
         ;    1269 	}
          _0x13C:
         ;    1270 
         ;    1271 else if(ind==iSet)
0006bd c0d3      	RJMP _0x13D
          _0x13B:
0006be e0e2      	LDI  R30,LOW(2)
0006bf 15ee      	CP   R30,R14
0006c0 f011      	BREQ PC+3
0006c1 940c 0791 	JMP _0x13E
         ;    1272 	{
         ;    1273 	if(but==butP_)
0006c3 efe9      	LDI  R30,LOW(249)
0006c4 15eb      	CP   R30,R11
0006c5 f429      	BRNE _0x13F
         ;    1274 		{
         ;    1275 		ind=iMn;
0006c6 24ee      	CLR  R14
         ;    1276 		sub_ind=0;
0006c7 e0e0      	LDI  R30,LOW(0)
0006c8 93e0 016e 	STS  _sub_ind,R30
         ;    1277 		}      
         ;    1278 	else if(but==butP)
0006ca c0c6      	RJMP _0x140
          _0x13F:
0006cb efeb      	LDI  R30,LOW(251)
0006cc 15eb      	CP   R30,R11
0006cd f469      	BRNE _0x141
         ;    1279 		{
         ;    1280 		sub_ind++;
0006ce 91e0 016e 	LDS  R30,_sub_ind
0006d0 5fef      	SUBI R30,-LOW(1)
0006d1 93e0 016e 	STS  _sub_ind,R30
         ;    1281 		if(sub_ind==5)sub_ind=0;
0006d3 91a0 016e 	LDS  R26,_sub_ind
0006d5 30a5      	CPI  R26,LOW(0x5)
0006d6 f419      	BRNE _0x142
0006d7 e0e0      	LDI  R30,LOW(0)
0006d8 93e0 016e 	STS  _sub_ind,R30
         ;    1282 		}
          _0x142:
         ;    1283 	else if (sub_ind==0)
0006da c0b6      	RJMP _0x143
          _0x141:
0006db 91e0 016e 	LDS  R30,_sub_ind
0006dd 30e0      	CPI  R30,0
0006de f5a9      	BRNE _0x144
         ;    1284 		{
         ;    1285 		if(but==butR)ee_prog++;
0006df e7ef      	LDI  R30,LOW(127)
0006e0 15eb      	CP   R30,R11
0006e1 f449      	BRNE _0x145
0006e2 e0a5      	LDI  R26,LOW(_ee_prog)
0006e3 e0b0      	LDI  R27,HIGH(_ee_prog)
0006e4 940e 0930 	CALL __EEPROMRDW
0006e6 9631      	ADIW R30,1
0006e7 940e 0940 	CALL __EEPROMWRW
0006e9 9731      	SBIW R30,1
         ;    1286 		else if(but==butL)ee_prog--;
0006ea c00b      	RJMP _0x146
          _0x145:
0006eb efee      	LDI  R30,LOW(254)
0006ec 15eb      	CP   R30,R11
0006ed f441      	BRNE _0x147
0006ee e0a5      	LDI  R26,LOW(_ee_prog)
0006ef e0b0      	LDI  R27,HIGH(_ee_prog)
0006f0 940e 0930 	CALL __EEPROMRDW
0006f2 9731      	SBIW R30,1
0006f3 940e 0940 	CALL __EEPROMWRW
0006f5 9631      	ADIW R30,1
         ;    1287 		if(ee_prog>5)ee_prog=0;
          _0x147:
          _0x146:
0006f6 e0a5      	LDI  R26,LOW(_ee_prog)
0006f7 e0b0      	LDI  R27,HIGH(_ee_prog)
0006f8 940e 0930 	CALL __EEPROMRDW
0006fa 01df      	MOVW R26,R30
0006fb e0e5      	LDI  R30,LOW(5)
0006fc e0f0      	LDI  R31,HIGH(5)
0006fd 17ea      	CP   R30,R26
0006fe 07fb      	CPC  R31,R27
0006ff f434      	BRGE _0x148
000700 e0e0      	LDI  R30,LOW(0)
000701 e0f0      	LDI  R31,HIGH(0)
000702 e0a5      	LDI  R26,LOW(_ee_prog)
000703 e0b0      	LDI  R27,HIGH(_ee_prog)
000704 940e 0940 	CALL __EEPROMWRW
         ;    1288 		if(ee_prog<0)ee_prog=5;
          _0x148:
000706 e0a5      	LDI  R26,LOW(_ee_prog)
000707 e0b0      	LDI  R27,HIGH(_ee_prog)
000708 940e 0930 	CALL __EEPROMRDW
00070a 01df      	MOVW R26,R30
00070b 9710      	SBIW R26,0
00070c f434      	BRGE _0x149
00070d e0e5      	LDI  R30,LOW(5)
00070e e0f0      	LDI  R31,HIGH(5)
00070f e0a5      	LDI  R26,LOW(_ee_prog)
000710 e0b0      	LDI  R27,HIGH(_ee_prog)
000711 940e 0940 	CALL __EEPROMWRW
         ;    1289 		}
          _0x149:
         ;    1290 	else if (sub_ind==1)
000713 c07d      	RJMP _0x14A
          _0x144:
000714 91a0 016e 	LDS  R26,_sub_ind
000716 30a1      	CPI  R26,LOW(0x1)
000717 f5d9      	BRNE _0x14B
         ;    1291 		{             
         ;    1292 		if((but==butR)||(but==butR_))	
000718 e7ef      	LDI  R30,LOW(127)
000719 15eb      	CP   R30,R11
00071a f019      	BREQ _0x14D
00071b e7ed      	LDI  R30,LOW(125)
00071c 15eb      	CP   R30,R11
00071d f4b9      	BRNE _0x14C
          _0x14D:
         ;    1293 			{  
         ;    1294 			speed=1;
00071e 9468      	SET
00071f f826      	BLD  R2,6
         ;    1295 			ee_temp1++;
000720 e0a1      	LDI  R26,LOW(_ee_temp1)
000721 e0b0      	LDI  R27,HIGH(_ee_temp1)
000722 940e 0930 	CALL __EEPROMRDW
000724 9631      	ADIW R30,1
000725 940e 0940 	CALL __EEPROMWRW
000727 9731      	SBIW R30,1
         ;    1296 			if(ee_temp1>900)ee_temp1=900;
000728 e0a1      	LDI  R26,LOW(_ee_temp1)
000729 e0b0      	LDI  R27,HIGH(_ee_temp1)
00072a 940e 0930 	CALL __EEPROMRDW
00072c d1b7      	RCALL SUBOPT_0x15
00072d f434      	BRGE _0x14F
00072e e8e4      	LDI  R30,LOW(900)
00072f e0f3      	LDI  R31,HIGH(900)
000730 e0a1      	LDI  R26,LOW(_ee_temp1)
000731 e0b0      	LDI  R27,HIGH(_ee_temp1)
000732 940e 0940 	CALL __EEPROMWRW
         ;    1297 			}   
          _0x14F:
         ;    1298 	
         ;    1299     		else if((but==butL)||(but==butL_))	
000734 c01d      	RJMP _0x150
          _0x14C:
000735 efee      	LDI  R30,LOW(254)
000736 15eb      	CP   R30,R11
000737 f019      	BREQ _0x152
000738 efec      	LDI  R30,LOW(252)
000739 15eb      	CP   R30,R11
00073a f4b9      	BRNE _0x151
          _0x152:
         ;    1300 			{  
         ;    1301     	    		speed=1;
00073b 9468      	SET
00073c f826      	BLD  R2,6
         ;    1302     			ee_temp1--;
00073d e0a1      	LDI  R26,LOW(_ee_temp1)
00073e e0b0      	LDI  R27,HIGH(_ee_temp1)
00073f 940e 0930 	CALL __EEPROMRDW
000741 9731      	SBIW R30,1
000742 940e 0940 	CALL __EEPROMWRW
000744 9631      	ADIW R30,1
         ;    1303     			if(ee_temp1<0)ee_temp1=0;
000745 e0a1      	LDI  R26,LOW(_ee_temp1)
000746 e0b0      	LDI  R27,HIGH(_ee_temp1)
000747 940e 0930 	CALL __EEPROMRDW
000749 01df      	MOVW R26,R30
00074a 9710      	SBIW R26,0
00074b f434      	BRGE _0x154
00074c e0e0      	LDI  R30,LOW(0)
00074d e0f0      	LDI  R31,HIGH(0)
00074e e0a1      	LDI  R26,LOW(_ee_temp1)
00074f e0b0      	LDI  R27,HIGH(_ee_temp1)
000750 940e 0940 	CALL __EEPROMWRW
         ;    1304     			}				
          _0x154:
         ;    1305 		}   
          _0x151:
          _0x150:
         ;    1306 	else if (sub_ind==2)
000752 c03e      	RJMP _0x155
          _0x14B:
000753 91a0 016e 	LDS  R26,_sub_ind
000755 30a2      	CPI  R26,LOW(0x2)
000756 f5d1      	BRNE _0x156
         ;    1307 		{             
         ;    1308 		if((but==butR)||(but==butR_))	
000757 e7ef      	LDI  R30,LOW(127)
000758 15eb      	CP   R30,R11
000759 f019      	BREQ _0x158
00075a e7ed      	LDI  R30,LOW(125)
00075b 15eb      	CP   R30,R11
00075c f4b9      	BRNE _0x157
          _0x158:
         ;    1309 			{  
         ;    1310 			speed=1;
00075d 9468      	SET
00075e f826      	BLD  R2,6
         ;    1311 			ee_temp2++;
00075f e0a3      	LDI  R26,LOW(_ee_temp2)
000760 e0b0      	LDI  R27,HIGH(_ee_temp2)
000761 940e 0930 	CALL __EEPROMRDW
000763 9631      	ADIW R30,1
000764 940e 0940 	CALL __EEPROMWRW
000766 9731      	SBIW R30,1
         ;    1312 			if(ee_temp2>900)ee_temp2=900;
000767 e0a3      	LDI  R26,LOW(_ee_temp2)
000768 e0b0      	LDI  R27,HIGH(_ee_temp2)
000769 940e 0930 	CALL __EEPROMRDW
00076b d178      	RCALL SUBOPT_0x15
00076c f434      	BRGE _0x15A
00076d e8e4      	LDI  R30,LOW(900)
00076e e0f3      	LDI  R31,HIGH(900)
00076f e0a3      	LDI  R26,LOW(_ee_temp2)
000770 e0b0      	LDI  R27,HIGH(_ee_temp2)
000771 940e 0940 	CALL __EEPROMWRW
         ;    1313 			}   
          _0x15A:
         ;    1314 	
         ;    1315     		else if((but==butL)||(but==butL_))	
000773 c01d      	RJMP _0x15B
          _0x157:
000774 efee      	LDI  R30,LOW(254)
000775 15eb      	CP   R30,R11
000776 f019      	BREQ _0x15D
000777 efec      	LDI  R30,LOW(252)
000778 15eb      	CP   R30,R11
000779 f4b9      	BRNE _0x15C
          _0x15D:
         ;    1316 			{  
         ;    1317     	    		speed=1;
00077a 9468      	SET
00077b f826      	BLD  R2,6
         ;    1318     			ee_temp2--;
00077c e0a3      	LDI  R26,LOW(_ee_temp2)
00077d e0b0      	LDI  R27,HIGH(_ee_temp2)
00077e 940e 0930 	CALL __EEPROMRDW
000780 9731      	SBIW R30,1
000781 940e 0940 	CALL __EEPROMWRW
000783 9631      	ADIW R30,1
         ;    1319     			if(ee_temp2<0)ee_temp1=0;
000784 e0a3      	LDI  R26,LOW(_ee_temp2)
000785 e0b0      	LDI  R27,HIGH(_ee_temp2)
000786 940e 0930 	CALL __EEPROMRDW
000788 01df      	MOVW R26,R30
000789 9710      	SBIW R26,0
00078a f434      	BRGE _0x15F
00078b e0e0      	LDI  R30,LOW(0)
00078c e0f0      	LDI  R31,HIGH(0)
00078d e0a1      	LDI  R26,LOW(_ee_temp1)
00078e e0b0      	LDI  R27,HIGH(_ee_temp1)
00078f 940e 0940 	CALL __EEPROMWRW
         ;    1320     			}				
          _0x15F:
         ;    1321 		}							
          _0x15C:
          _0x15B:
         ;    1322 	}
          _0x156:
          _0x155:
          _0x14A:
          _0x143:
          _0x140:
         ;    1323 
         ;    1324 
         ;    1325 
         ;    1326 
         ;    1327 if(but==butVP_)
          _0x13E:
          _0x13D:
000791 eee9      	LDI  R30,LOW(233)
000792 15eb      	CP   R30,R11
000793 f401      	BRNE _0x160
         ;    1328 	{
         ;    1329 	//if(ind!=iVr)ind=iVr;
         ;    1330 	//else ind=iMn;
         ;    1331 	}
         ;    1332 
         ;    1333 /*	
         ;    1334 if(ind==iMn)
         ;    1335 	{
         ;    1336 	if(but==butP_)ind=iPr_sel;
         ;    1337 	if(but==butLR)	
         ;    1338 		{
         ;    1339 		if((prog==p3)||(prog==p4))
         ;    1340 			{ 
         ;    1341 			if(sub_ind==0)sub_ind=1;
         ;    1342 			else sub_ind=0;
         ;    1343 			}
         ;    1344     		else sub_ind=0;
         ;    1345 		}	 
         ;    1346 	if((but==butR)||(but==butR_))	
         ;    1347 		{  
         ;    1348 		speed=1;
         ;    1349 		//ee_delay[prog,sub_ind]++;
         ;    1350 		}   
         ;    1351 	
         ;    1352 	else if((but==butL)||(but==butL_))	
         ;    1353 		{  
         ;    1354     		speed=1;
         ;    1355     		//ee_delay[prog,sub_ind]--;
         ;    1356     		}		
         ;    1357 	} 
         ;    1358 	
         ;    1359 else if(ind==iPr_sel)
         ;    1360 	{
         ;    1361 	if(but==butP_)ind=iMn;
         ;    1362 	if(but==butP)
         ;    1363 		{
         ;    1364 		prog++;
         ;    1365 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1366 		//ee_program[0]=prog;
         ;    1367 		//ee_program[1]=prog;
         ;    1368 		//ee_program[2]=prog;
         ;    1369 		}
         ;    1370 	
         ;    1371 	if(but==butR)
         ;    1372 		{
         ;    1373 		prog++;
         ;    1374 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1375 		//ee_program[0]=prog;
         ;    1376 		//ee_program[1]=prog;
         ;    1377 		//ee_program[2]=prog;
         ;    1378 		}
         ;    1379 
         ;    1380 	if(but==butL)
         ;    1381 		{
         ;    1382 		prog--;
         ;    1383 ////		if(prog>MAXPROG)prog=MINPROG;
         ;    1384 		//ee_program[0]=prog;
         ;    1385 		//ee_program[1]=prog;
         ;    1386 		//ee_program[2]=prog;
         ;    1387 		}	
         ;    1388 	} 
         ;    1389 
         ;    1390 /*else if(ind==iVr)
         ;    1391 	{
         ;    1392 	if(but==butP_)
         ;    1393 		{
         ;    1394 	    ///	if(ee_vr_log)ee_vr_log=0;
         ;    1395 	    ///	else ee_vr_log=1;
         ;    1396 		}	
         ;    1397 	}*/ 	
         ;    1398 
         ;    1399 but_an_end:
          _0x160:
          _0x137:
         ;    1400 n_but=0;
000794 94e8      	CLT
000795 f825      	BLD  R2,5
         ;    1401 }
000796 9508      	RET
         ;    1402 
         ;    1403 //-----------------------------------------------
         ;    1404 void ind_drv(void)
         ;    1405 {
          _ind_drv:
         ;    1406 if(++ind_cnt>=6)ind_cnt=0;
000797 94a3      	INC  R10
000798 e0e6      	LDI  R30,LOW(6)
000799 16ae      	CP   R10,R30
00079a f008      	BRLO _0x161
00079b 24aa      	CLR  R10
         ;    1407 
         ;    1408 if(ind_cnt<5)
          _0x161:
00079c e0e5      	LDI  R30,LOW(5)
00079d 16ae      	CP   R10,R30
00079e f4c8      	BRSH _0x162
         ;    1409 	{
         ;    1410 	DDRC=0xFF;
00079f efef      	LDI  R30,LOW(255)
0007a0 bbe4      	OUT  0x14,R30
         ;    1411 	PORTC=0xFF;
0007a1 bbe5      	OUT  0x15,R30
         ;    1412 	DDRD|=0b11111000;
0007a2 b3e1      	IN   R30,0x11
0007a3 6fe8      	ORI  R30,LOW(0xF8)
0007a4 d122      	RCALL SUBOPT_0x10
         ;    1413 	PORTD|=0b11111000;
         ;    1414 	PORTD&=IND_STROB[ind_cnt];
0007a5 b3e2      	IN   R30,0x12
0007a6 93ef      	PUSH R30
0007a7 e5a4      	LDI  R26,LOW(_IND_STROB*2)
0007a8 e0b0      	LDI  R27,HIGH(_IND_STROB*2)
0007a9 2dea      	MOV  R30,R10
0007aa e0f0      	LDI  R31,0
0007ab 0fea      	ADD  R30,R26
0007ac 1ffb      	ADC  R31,R27
0007ad 91e4      	LPM  R30,Z
0007ae 91af      	POP  R26
0007af 23ea      	AND  R30,R26
0007b0 bbe2      	OUT  0x12,R30
         ;    1415 	PORTC=ind_out[ind_cnt];
0007b1 2dea      	MOV  R30,R10
0007b2 e0f0      	LDI  R31,0
0007b3 5ae0      	SUBI R30,LOW(-_ind_out)
0007b4 4ffe      	SBCI R31,HIGH(-_ind_out)
0007b5 81e0      	LD   R30,Z
0007b6 bbe5      	OUT  0x15,R30
         ;    1416 	}
         ;    1417 else but_drv();
0007b7 c002      	RJMP _0x163
          _0x162:
0007b8 940e 0627 	CALL _but_drv
          _0x163:
         ;    1418 }
0007ba 9508      	RET
         ;    1419 
         ;    1420 //***********************************************
         ;    1421 //***********************************************
         ;    1422 //***********************************************
         ;    1423 //***********************************************
         ;    1424 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
         ;    1425 {
          _timer0_ovf_isr:
0007bb 920a      	ST   -Y,R0
0007bc 921a      	ST   -Y,R1
0007bd 92fa      	ST   -Y,R15
0007be 936a      	ST   -Y,R22
0007bf 937a      	ST   -Y,R23
0007c0 938a      	ST   -Y,R24
0007c1 939a      	ST   -Y,R25
0007c2 93aa      	ST   -Y,R26
0007c3 93ba      	ST   -Y,R27
0007c4 93ea      	ST   -Y,R30
0007c5 93fa      	ST   -Y,R31
0007c6 b7ef      	IN   R30,SREG
0007c7 93ea      	ST   -Y,R30
         ;    1426 TCCR0=0x02;
0007c8 d121      	RCALL SUBOPT_0x16
         ;    1427 TCNT0=-208;
         ;    1428 OCR0=0x00; 
         ;    1429 
         ;    1430 
         ;    1431 b600Hz=1;
0007c9 9468      	SET
0007ca f820      	BLD  R2,0
         ;    1432 ind_drv();
0007cb dfcb      	RCALL _ind_drv
         ;    1433 if(++t0_cnt0>=6)
0007cc 9463      	INC  R6
0007cd e0e6      	LDI  R30,LOW(6)
0007ce 166e      	CP   R6,R30
0007cf f018      	BRLO _0x164
         ;    1434 	{
         ;    1435 	t0_cnt0=0;
0007d0 2466      	CLR  R6
         ;    1436 	b100Hz=1;
0007d1 9468      	SET
0007d2 f821      	BLD  R2,1
         ;    1437 	}
         ;    1438 
         ;    1439 if(++t0_cnt1>=60)
          _0x164:
0007d3 9473      	INC  R7
0007d4 e3ec      	LDI  R30,LOW(60)
0007d5 167e      	CP   R7,R30
0007d6 f088      	BRLO _0x165
         ;    1440 	{
         ;    1441 	t0_cnt1=0;
0007d7 2477      	CLR  R7
         ;    1442 	b10Hz=1;
0007d8 9468      	SET
0007d9 f822      	BLD  R2,2
         ;    1443 	
         ;    1444 	if(++t0_cnt2>=2)
0007da 9483      	INC  R8
0007db e0e2      	LDI  R30,LOW(2)
0007dc 168e      	CP   R8,R30
0007dd f018      	BRLO _0x166
         ;    1445 		{
         ;    1446 		t0_cnt2=0;
0007de 2488      	CLR  R8
         ;    1447 		bFL5=!bFL5;
0007df e0e1      	LDI  R30,LOW(1)
0007e0 263e      	EOR  R3,R30
         ;    1448 		}
         ;    1449 		
         ;    1450 	if(++t0_cnt3>=5)
          _0x166:
0007e1 9493      	INC  R9
0007e2 e0e5      	LDI  R30,LOW(5)
0007e3 169e      	CP   R9,R30
0007e4 f018      	BRLO _0x167
         ;    1451 		{
         ;    1452 		t0_cnt3=0;
0007e5 2499      	CLR  R9
         ;    1453 		bFL2=!bFL2;
0007e6 e8e0      	LDI  R30,LOW(128)
0007e7 262e      	EOR  R2,R30
         ;    1454 		}		
         ;    1455 	}
          _0x167:
         ;    1456 }
          _0x165:
0007e8 91e9      	LD   R30,Y+
0007e9 bfef      	OUT  SREG,R30
0007ea 91f9      	LD   R31,Y+
0007eb 91e9      	LD   R30,Y+
0007ec 91b9      	LD   R27,Y+
0007ed 91a9      	LD   R26,Y+
0007ee 9199      	LD   R25,Y+
0007ef 9189      	LD   R24,Y+
0007f0 9179      	LD   R23,Y+
0007f1 9169      	LD   R22,Y+
0007f2 90f9      	LD   R15,Y+
0007f3 9019      	LD   R1,Y+
0007f4 9009      	LD   R0,Y+
0007f5 9518      	RETI
         ;    1457 
         ;    1458 //===============================================
         ;    1459 //===============================================
         ;    1460 //===============================================
         ;    1461 //===============================================
         ;    1462 
         ;    1463 void main(void)
         ;    1464 {
          _main:
         ;    1465 
         ;    1466 PORTA=0xff;
0007f6 efef      	LDI  R30,LOW(255)
0007f7 bbeb      	OUT  0x1B,R30
         ;    1467 DDRA=0x00;
0007f8 d04d      	RCALL SUBOPT_0x0
         ;    1468 
         ;    1469 PORTB=0xff;
0007f9 d0f8      	RCALL SUBOPT_0x17
         ;    1470 DDRB=0xFF;
         ;    1471 
         ;    1472 PORTC=0x00;
0007fa e0e0      	LDI  R30,LOW(0)
0007fb bbe5      	OUT  0x15,R30
         ;    1473 DDRC=0x00;
0007fc bbe4      	OUT  0x14,R30
         ;    1474 
         ;    1475 
         ;    1476 PORTD=0x00;
0007fd bbe2      	OUT  0x12,R30
         ;    1477 DDRD=0x00;
0007fe bbe1      	OUT  0x11,R30
         ;    1478 
         ;    1479 
         ;    1480 TCCR0=0x02;
0007ff d0ea      	RCALL SUBOPT_0x16
         ;    1481 TCNT0=-208;
         ;    1482 OCR0=0x00;
         ;    1483 
         ;    1484 TCCR1A=0x00;
000800 e0e0      	LDI  R30,LOW(0)
000801 bdef      	OUT  0x2F,R30
         ;    1485 TCCR1B=0x00;
000802 bdee      	OUT  0x2E,R30
         ;    1486 TCNT1H=0x00;
000803 bded      	OUT  0x2D,R30
         ;    1487 TCNT1L=0x00;
000804 bdec      	OUT  0x2C,R30
         ;    1488 ICR1H=0x00;
000805 bde7      	OUT  0x27,R30
         ;    1489 ICR1L=0x00;
000806 bde6      	OUT  0x26,R30
         ;    1490 OCR1AH=0x00;
000807 bdeb      	OUT  0x2B,R30
         ;    1491 OCR1AL=0x00;
000808 bdea      	OUT  0x2A,R30
         ;    1492 OCR1BH=0x00;
000809 bde9      	OUT  0x29,R30
         ;    1493 OCR1BL=0x00;
00080a bde8      	OUT  0x28,R30
         ;    1494 
         ;    1495 
         ;    1496 ASSR=0x00;
00080b bde2      	OUT  0x22,R30
         ;    1497 TCCR2=0x00;
00080c bde5      	OUT  0x25,R30
         ;    1498 TCNT2=0x00;
00080d bde4      	OUT  0x24,R30
         ;    1499 OCR2=0x00;
00080e bde3      	OUT  0x23,R30
         ;    1500 
         ;    1501 MCUCR=0x00;
00080f bfe5      	OUT  0x35,R30
         ;    1502 MCUCSR=0x00;
000810 bfe4      	OUT  0x34,R30
         ;    1503 
         ;    1504 TIMSK=0x01;
000811 e0e1      	LDI  R30,LOW(1)
000812 bfe9      	OUT  0x39,R30
         ;    1505 
         ;    1506 ACSR=0x80;
000813 e8e0      	LDI  R30,LOW(128)
000814 b9e8      	OUT  0x8,R30
         ;    1507 SFIOR=0x00;
000815 e0e0      	LDI  R30,LOW(0)
000816 bfe0      	OUT  0x30,R30
         ;    1508 
         ;    1509 #asm("sei") 
000817 9478      	sei
         ;    1510 PORTB=0xFF;
000818 efef      	LDI  R30,LOW(255)
000819 d0d8      	RCALL SUBOPT_0x17
         ;    1511 DDRB=0xFF;
         ;    1512 ind=iMn;
00081a 24ee      	CLR  R14
         ;    1513 prog_drv();
00081b 940e 006a 	CALL _prog_drv
         ;    1514 ind_hndl();
00081d 940e 0520 	CALL _ind_hndl
         ;    1515 led_hndl();
00081f 940e 0598 	CALL _led_hndl
         ;    1516 
         ;    1517 
         ;    1518 while (1)
          _0x168:
         ;    1519       {
         ;    1520       if(b600Hz)
000821 fe20      	SBRS R2,0
000822 c004      	RJMP _0x16B
         ;    1521 		{
         ;    1522 		b600Hz=0; 
000823 94e8      	CLT
000824 f820      	BLD  R2,0
         ;    1523           in_an();
000825 940e 009f 	CALL _in_an
         ;    1524           
         ;    1525 		}         
         ;    1526       if(b100Hz)
          _0x16B:
000827 fe21      	SBRS R2,1
000828 c011      	RJMP _0x16C
         ;    1527 		{        
         ;    1528 		b100Hz=0; 
000829 94e8      	CLT
00082a f821      	BLD  R2,1
         ;    1529 		but_an();
00082b de61      	RCALL _but_an
         ;    1530 	    	//in_drv();
         ;    1531           ind_hndl();
00082c 940e 0520 	CALL _ind_hndl
         ;    1532           step_contr();
00082e 940e 0360 	CALL _step_contr
         ;    1533           
         ;    1534           main_loop_hndl();
000830 940e 0182 	CALL _main_loop_hndl
         ;    1535           payka_hndl();
000832 940e 023d 	CALL _payka_hndl
         ;    1536           napoln_hndl();
000834 940e 029d 	CALL _napoln_hndl
         ;    1537           orient_hndl();
000836 940e 02fc 	CALL _orient_hndl
         ;    1538           out_drv();
000838 940e 0344 	CALL _out_drv
         ;    1539 		}   
         ;    1540 	if(b10Hz)
          _0x16C:
00083a fe22      	SBRS R2,2
00083b c008      	RJMP _0x16D
         ;    1541 		{
         ;    1542 		b10Hz=0;
00083c 94e8      	CLT
00083d f822      	BLD  R2,2
         ;    1543 		prog_drv();
00083e 940e 006a 	CALL _prog_drv
         ;    1544 		err_drv();
000840 940e 008f 	CALL _err_drv
         ;    1545 		
         ;    1546     	     
         ;    1547           led_hndl();
000842 940e 0598 	CALL _led_hndl
         ;    1548           
         ;    1549           }
         ;    1550 
         ;    1551       };
          _0x16D:
000844 cfdc      	RJMP _0x168
         ;    1552 }
          _0x16E:
000845 cfff      	RJMP _0x16E
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x0:
000846 e0e0      	LDI  R30,LOW(0)
000847 bbea      	OUT  0x1A,R30
000848 efef      	LDI  R30,LOW(255)
000849 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x1:
00084a e0e2      	LDI  R30,LOW(2)
00084b 93e0 0182 	STS  _orient_cmd,R30
00084d 93e0 0181 	STS  _napoln_cmd,R30
00084f 93e0 0180 	STS  _payka_cmd,R30
000851 e0e0      	LDI  R30,LOW(0)
000852 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x2:
000853 93e0 017f 	STS  _main_loop_step,R30
000855 e1e4      	LDI  R30,LOW(20)
000856 e0f0      	LDI  R31,HIGH(20)
000857 93e0 018a 	STS  _main_loop_cnt_del,R30
000859 93f0 018b 	STS  _main_loop_cnt_del+1,R31
00085b 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x3:
00085c 91e0 018a 	LDS  R30,_main_loop_cnt_del
00085e 91f0 018b 	LDS  R31,_main_loop_cnt_del+1
000860 9731      	SBIW R30,1
000861 93e0 018a 	STS  _main_loop_cnt_del,R30
000863 93f0 018b 	STS  _main_loop_cnt_del+1,R31
000865 9730      	SBIW R30,0
000866 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x4:
000867 e0aa      	LDI  R26,LOW(10)
000868 e0b0      	LDI  R27,HIGH(10)
000869 940e 0907 	CALL __MULW12
00086b 93e0 0184 	STS  _payka_cnt_del,R30
00086d 93f0 0185 	STS  _payka_cnt_del+1,R31
00086f 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
          SUBOPT_0x5:
000870 91e0 0184 	LDS  R30,_payka_cnt_del
000872 91f0 0185 	LDS  R31,_payka_cnt_del+1
000874 9731      	SBIW R30,1
000875 93e0 0184 	STS  _payka_cnt_del,R30
000877 93f0 0185 	STS  _payka_cnt_del+1,R31
000879 9730      	SBIW R30,0
00087a 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x6:
00087b 2fe0      	MOV  R30,R16
00087c 95e0      	COM  R30
00087d bbe8      	OUT  0x18,R30
00087e 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x7:
00087f e1e3      	LDI  R30,LOW(19)
000880 2ede      	MOV  R13,R30
000881 e2e8      	LDI  R30,LOW(40)
000882 e0f0      	LDI  R31,HIGH(40)
000883 93e0 0173 	STS  _cnt_del,R30
000885 93f0 0174 	STS  _cnt_del+1,R31
000887 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 19 TIMES
          SUBOPT_0x8:
000888 91e0 0173 	LDS  R30,_cnt_del
00088a 91f0 0174 	LDS  R31,_cnt_del+1
00088c 9731      	SBIW R30,1
00088d 93e0 0173 	STS  _cnt_del,R30
00088f 93f0 0174 	STS  _cnt_del+1,R31
000891 9730      	SBIW R30,0
000892 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
          SUBOPT_0x9:
000893 e0e3      	LDI  R30,LOW(3)
000894 2ede      	MOV  R13,R30
000895 e3e2      	LDI  R30,LOW(50)
000896 e0f0      	LDI  R31,HIGH(50)
000897 93e0 0173 	STS  _cnt_del,R30
000899 93f0 0174 	STS  _cnt_del+1,R31
00089b 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xA:
00089c e0e5      	LDI  R30,LOW(5)
00089d 2ede      	MOV  R13,R30
00089e e1e4      	LDI  R30,LOW(20)
00089f e0f0      	LDI  R31,HIGH(20)
0008a0 93e0 0173 	STS  _cnt_del,R30
0008a2 93f0 0174 	STS  _cnt_del+1,R31
0008a4 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xB:
0008a5 e0e7      	LDI  R30,LOW(7)
0008a6 2ede      	MOV  R13,R30
0008a7 e1e4      	LDI  R30,LOW(20)
0008a8 e0f0      	LDI  R31,HIGH(20)
0008a9 93e0 0173 	STS  _cnt_del,R30
0008ab 93f0 0174 	STS  _cnt_del+1,R31
0008ad 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xC:
0008ae 2ede      	MOV  R13,R30
0008af e1e4      	LDI  R30,LOW(20)
0008b0 e0f0      	LDI  R31,HIGH(20)
0008b1 93e0 0173 	STS  _cnt_del,R30
0008b3 93f0 0174 	STS  _cnt_del+1,R31
0008b5 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
          SUBOPT_0xD:
0008b6 2fe0      	MOV  R30,R16
0008b7 50e1      	SUBI R30,LOW(1)
0008b8 e0f0      	LDI  R31,0
0008b9 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
          SUBOPT_0xE:
0008ba e0f0      	LDI  R31,0
0008bb 93fa      	ST   -Y,R31
0008bc 93ea      	ST   -Y,R30
0008bd e0e0      	LDI  R30,LOW(0)
0008be 93ea      	ST   -Y,R30
0008bf 940c 0514 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0xF:
0008c1 93fa      	ST   -Y,R31
0008c2 93ea      	ST   -Y,R30
0008c3 e0e1      	LDI  R30,LOW(1)
0008c4 93ea      	ST   -Y,R30
0008c5 940c 0514 	JMP  _int2ind
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x10:
0008c7 bbe1      	OUT  0x11,R30
0008c8 b3e2      	IN   R30,0x12
0008c9 6fe8      	ORI  R30,LOW(0xF8)
0008ca bbe2      	OUT  0x12,R30
0008cb 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x11:
0008cc b3e5      	IN   R30,0x15
0008cd 69e5      	ORI  R30,LOW(0x95)
0008ce bbe5      	OUT  0x15,R30
0008cf b3e4      	IN   R30,0x14
0008d0 76ea      	ANDI R30,LOW(0x6A)
0008d1 bbe4      	OUT  0x14,R30
0008d2 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x12:
0008d3 91e0 016a 	LDS  R30,_but_s_G1
0008d5 91a0 0169 	LDS  R26,_but_n_G1
0008d7 17ea      	CP   R30,R26
0008d8 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x13:
0008d9 91e0 016d 	LDS  R30,_but_onL_temp_G1
0008db 91a0 016c 	LDS  R26,_but1_cnt_G1
0008dd 17ae      	CP   R26,R30
0008de 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x14:
0008df 91e0 016a 	LDS  R30,_but_s_G1
0008e1 7fed      	ANDI R30,0xFD
0008e2 2ebe      	MOV  R11,R30
0008e3 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x15:
0008e4 01df      	MOVW R26,R30
0008e5 e8e4      	LDI  R30,LOW(900)
0008e6 e0f3      	LDI  R31,HIGH(900)
0008e7 17ea      	CP   R30,R26
0008e8 07fb      	CPC  R31,R27
0008e9 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x16:
0008ea e0e2      	LDI  R30,LOW(2)
0008eb bfe3      	OUT  0x33,R30
0008ec e3e0      	LDI  R30,LOW(65328)
0008ed efff      	LDI  R31,HIGH(65328)
0008ee bfe2      	OUT  0x32,R30
0008ef e0e0      	LDI  R30,LOW(0)
0008f0 bfec      	OUT  0x3C,R30
0008f1 9508      	RET
         
         ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
          SUBOPT_0x17:
0008f2 bbe8      	OUT  0x18,R30
0008f3 efef      	LDI  R30,LOW(255)
0008f4 bbe7      	OUT  0x17,R30
0008f5 9508      	RET
         
          __ANEGW1:
0008f6 95e0      	COM  R30
0008f7 95f0      	COM  R31
0008f8 9631      	ADIW R30,1
0008f9 9508      	RET
         
          __EQB12:
0008fa 17ea      	CP   R30,R26
0008fb e0e1      	LDI  R30,1
0008fc f009      	BREQ __EQB12T
0008fd 27ee      	CLR  R30
          __EQB12T:
0008fe 9508      	RET
         
          __MULW12U:
0008ff 9ffa      	MUL  R31,R26
000900 2df0      	MOV  R31,R0
000901 9feb      	MUL  R30,R27
000902 0df0      	ADD  R31,R0
000903 9fea      	MUL  R30,R26
000904 2de0      	MOV  R30,R0
000905 0df1      	ADD  R31,R1
000906 9508      	RET
         
          __MULW12:
000907 d01a      	RCALL __CHKSIGNW
000908 dff6      	RCALL __MULW12U
000909 f40e      	BRTC __MULW121
00090a dfeb      	RCALL __ANEGW1
          __MULW121:
00090b 9508      	RET
         
          __DIVW21U:
00090c 2400      	CLR  R0
00090d 2411      	CLR  R1
00090e e190      	LDI  R25,16
          __DIVW21U1:
00090f 0faa      	LSL  R26
000910 1fbb      	ROL  R27
000911 1c00      	ROL  R0
000912 1c11      	ROL  R1
000913 1a0e      	SUB  R0,R30
000914 0a1f      	SBC  R1,R31
000915 f418      	BRCC __DIVW21U2
000916 0e0e      	ADD  R0,R30
000917 1e1f      	ADC  R1,R31
000918 c001      	RJMP __DIVW21U3
          __DIVW21U2:
000919 60a1      	SBR  R26,1
          __DIVW21U3:
00091a 959a      	DEC  R25
00091b f799      	BRNE __DIVW21U1
00091c 01fd      	MOVW R30,R26
00091d 01d0      	MOVW R26,R0
00091e 9508      	RET
         
          __MODW21U:
00091f dfec      	RCALL __DIVW21U
000920 01fd      	MOVW R30,R26
000921 9508      	RET
         
          __CHKSIGNW:
000922 94e8      	CLT
000923 fff7      	SBRS R31,7
000924 c002      	RJMP __CHKSW1
000925 dfd0      	RCALL __ANEGW1
000926 9468      	SET
          __CHKSW1:
000927 ffb7      	SBRS R27,7
000928 c006      	RJMP __CHKSW2
000929 95a0      	COM  R26
00092a 95b0      	COM  R27
00092b 9611      	ADIW R26,1
00092c f800      	BLD  R0,0
00092d 9403      	INC  R0
00092e fa00      	BST  R0,0
          __CHKSW2:
00092f 9508      	RET
         
          __EEPROMRDW:
000930 9611      	ADIW R26,1
000931 d002      	RCALL __EEPROMRDB
000932 2ffe      	MOV  R31,R30
000933 9711      	SBIW R26,1
         
          __EEPROMRDB:
000934 99e1      	SBIC EECR,EEWE
000935 cffe      	RJMP __EEPROMRDB
000936 93ff      	PUSH R31
000937 b7ff      	IN   R31,SREG
000938 94f8      	CLI
000939 bbae      	OUT  EEARL,R26
00093a bbbf      	OUT  EEARH,R27
00093b 9ae0      	SBI  EECR,EERE
00093c b3ed      	IN   R30,EEDR
00093d bfff      	OUT  SREG,R31
00093e 91ff      	POP  R31
00093f 9508      	RET
         
          __EEPROMWRW:
000940 d007      	RCALL __EEPROMWRB
000941 9611      	ADIW R26,1
000942 93ef      	PUSH R30
000943 2fef      	MOV  R30,R31
000944 d003      	RCALL __EEPROMWRB
000945 91ef      	POP  R30
000946 9711      	SBIW R26,1
000947 9508      	RET
         
          __EEPROMWRB:
000948 99e1      	SBIC EECR,EEWE
000949 cffe      	RJMP __EEPROMWRB
00094a b79f      	IN   R25,SREG
00094b 94f8      	CLI
00094c bbae      	OUT  EEARL,R26
00094d bbbf      	OUT  EEARH,R27
00094e 9ae0      	SBI  EECR,EERE
00094f b38d      	IN   R24,EEDR
000950 17e8      	CP   R30,R24
000951 f019      	BREQ __EEPROMWRB0
000952 bbed      	OUT  EEDR,R30
000953 9ae2      	SBI  EECR,EEMWE
000954 9ae1      	SBI  EECR,EEWE
          __EEPROMWRB0:
000955 bf9f      	OUT  SREG,R25
000956 9508      	RET
         
          __SAVELOCR4:
000957 933a      	ST   -Y,R19
          __SAVELOCR3:
000958 932a      	ST   -Y,R18
          __SAVELOCR2:
000959 931a      	ST   -Y,R17
00095a 930a      	ST   -Y,R16
00095b 9508      	RET
         
          __LOADLOCR4:
00095c 813b      	LDD  R19,Y+3
          __LOADLOCR3:
00095d 812a      	LDD  R18,Y+2
          __LOADLOCR2:
00095e 8119      	LDD  R17,Y+1
00095f 8108      	LD   R16,Y
000960 9508      	RET
         

Assembly complete with no errors.
